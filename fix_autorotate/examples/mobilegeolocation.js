(function(){'use strict';var p,aa="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this,ca="function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,d){a!=Array.prototype&&a!=Object.prototype&&(a[c]=d.value)};function da(){da=function(){};aa.Symbol||(aa.Symbol=ea)}var ea=function(){var a=0;return function(c){return"jscomp_symbol_"+(c||"")+a++}}();
function fa(){da();var a=aa.Symbol.iterator;a||(a=aa.Symbol.iterator=aa.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&ca(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return ha(this)}});fa=function(){}}function ha(a){var c=0;return ia(function(){return c<a.length?{done:!1,value:a[c++]}:{done:!0}})}function ia(a){fa();a={next:a};a[aa.Symbol.iterator]=function(){return this};return a}function ja(a){fa();var c=a[Symbol.iterator];return c?c.call(a):ha(a)}
function ka(a){for(var c,d=[];!(c=a.next()).done;)d.push(c.value);return d}function la(a,c){if(c){var d=aa;a=a.split(".");for(var e=0;e<a.length-1;e++){var f=a[e];f in d||(d[f]={});d=d[f]}a=a[a.length-1];e=d[a];c=c(e);c!=e&&null!=c&&ca(d,a,{configurable:!0,writable:!0,value:c})}}la("Math.cosh",function(a){if(a)return a;var c=Math.exp;return function(a){a=Number(a);return(c(a)+c(-a))/2}});la("Object.is",function(a){return a?a:function(a,d){return a===d?0!==a||1/a===1/d:a!==a&&d!==d}});
la("Array.prototype.includes",function(a){return a?a:function(a,d){var c=this;c instanceof String&&(c=String(c));var f=c.length;for(d=d||0;d<f;d++)if(c[d]==a||Object.is(c[d],a))return!0;return!1}});
la("String.prototype.includes",function(a){return a?a:function(a,d){if(null==this)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(a instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return-1!==(this+"").indexOf(a,d||0)}});
la("Array.prototype.find",function(a){return a?a:function(a,d){a:{var c=this;c instanceof String&&(c=String(c));for(var f=c.length,g=0;g<f;g++){var h=c[g];if(a.call(d,h,g,c)){a=h;break a}}a=void 0}return a}});var ma=this;function na(a,c){a=a.split(".");var d=ma;a[0]in d||!d.execScript||d.execScript("var "+a[0]);for(var e;a.length&&(e=a.shift());)a.length||void 0===c?d[e]&&d[e]!==Object.prototype[e]?d=d[e]:d=d[e]={}:d[e]=c};function u(a,c){a.prototype=Object.create(c.prototype);a.prototype.constructor=a}function w(){}function B(a){return a.lf||(a.lf=++oa)}var oa=0;function pa(a){this.message="Assertion failed. See https://openlayers.org/en/latest/doc/errors/#"+a+" for details.";this.code=a;this.name="AssertionError"}u(pa,Error);function C(a,c){if(!a)throw new pa(c);};var ra="function"===typeof Object.assign?Object.assign:function(a,c){if(void 0===a||null===a)throw new TypeError("Cannot convert undefined or null to object");for(var d=Object(a),e=1,f=arguments.length;e<f;++e){var g=arguments[e];if(void 0!==g&&null!==g)for(var h in g)g.hasOwnProperty(h)&&(d[h]=g[h])}return d};function sa(a){for(var c in a)delete a[c]}function ta(a){for(var c in a)return!1;return!c};function ua(a){function c(c){var d=a.listener,f=a.bindTo||a.target;a.jd&&F(a);return d.call(f,c)}return a.hd=c}function va(a,c,d,e){for(var f,g=0,h=a.length;g<h;++g)if(f=a[g],f.listener===c&&f.bindTo===d)return e&&(f.deleteIndex=g),f}function wa(a,c){return(a=a.la)?a[c]:void 0}function ya(a){var c=a.la;c||(c=a.la={});return c}
function za(a,c){var d=wa(a,c);if(d){for(var e=0,f=d.length;e<f;++e)a.removeEventListener(c,d[e].hd),sa(d[e]);d.length=0;if(d=a.la)delete d[c],0===Object.keys(d).length&&delete a.la}}function I(a,c,d,e,f){var g=ya(a),h=g[c];h||(h=g[c]=[]);(g=va(h,d,e,!1))?f||(g.jd=!1):(g={bindTo:e,jd:!!f,listener:d,target:a,type:c},a.addEventListener(c,ua(g)),h.push(g));return g}function Aa(a,c,d,e){(a=wa(a,c))&&(d=va(a,d,e,!0))&&F(d)}
function F(a){if(a&&a.target){a.target.removeEventListener(a.type,a.hd);var c=wa(a.target,a.type);if(c){var d="deleteIndex"in a?a.deleteIndex:c.indexOf(a);-1!==d&&c.splice(d,1);0===c.length&&za(a.target,a.type)}sa(a)}};function Ba(){}Ba.prototype.Ka=!1;function Da(a){a.Ka||(a.Ka=!0,a.W())}Ba.prototype.W=w;function Ea(a){this.type=a;this.target=null}Ea.prototype.preventDefault=Ea.prototype.stopPropagation=function(){this.Af=!0};function Fa(a){a.stopPropagation()};function Ga(){this.T={};this.C={};this.w={}}u(Ga,Ba);Ga.prototype.addEventListener=function(a,c){var d=this.w[a];d||(d=this.w[a]=[]);-1===d.indexOf(c)&&d.push(c)};function K(a,c){var d="string"===typeof c?new Ea(c):c;c=d.type;d.target=a;var e=a.w[c];if(e){c in a.C||(a.C[c]=0,a.T[c]=0);++a.C[c];for(var f=0,g=e.length;f<g;++f)if(!1===e[f].call(a,d)||d.Af){var h=!1;break}--a.C[c];if(0===a.C[c]){d=a.T[c];for(delete a.T[c];d--;)a.removeEventListener(c,w);delete a.C[c]}return h}}
Ga.prototype.W=function(){var a=ya(this),c;for(c in a)za(this,c)};function Ha(a,c){return c?c in a.w:0<Object.keys(a.w).length}Ga.prototype.removeEventListener=function(a,c){var d=this.w[a];d&&(c=d.indexOf(c),a in this.T?(d[c]=w,++this.T[a]):(d.splice(c,1),0===d.length&&delete this.w[a]))};function Ia(){Ga.call(this);this.g=0}u(Ia,Ga);Ia.prototype.b=function(){++this.g;K(this,"change")};Ia.prototype.on=function(a,c,d){if(Array.isArray(a)){for(var e=a.length,f=Array(e),g=0;g<e;++g)f[g]=I(this,a[g],c,d);return f}return I(this,a,c,d)};Ia.prototype.once=function(a,c,d){if(Array.isArray(a)){for(var e=a.length,f=Array(e),g=0;g<e;++g)f[g]=I(this,a[g],c,d,!0);return f}return I(this,a,c,d,!0)};function M(a){Ia.call(this);B(this);this.L={};void 0!==a&&Ja(this,a)}u(M,Ia);var Ka={};function La(a){return Ka.hasOwnProperty(a)?Ka[a]:Ka[a]="change:"+a}M.prototype.get=function(a){var c;this.L.hasOwnProperty(a)&&(c=this.L[a]);return c};M.prototype.notify=function(a,c){var d=La(a);K(this,new Ma(d,a,c));K(this,new Ma("propertychange",a,c))};M.prototype.set=function(a,c,d){d?this.L[a]=c:(d=this.L[a],this.L[a]=c,d!==c&&this.notify(a,d))};function Ja(a,c){for(var d in c)a.set(d,c[d],void 0)}
function Ma(a,c,d){Ea.call(this,a);this.key=c;this.oldValue=d}u(Ma,Ea);function Na(a){for(var c=Oa(),d=0,e=a.length;d<e;++d)Pa(c,a[d]);return c}function Qa(a,c,d){return d?(d[0]=a[0]-c,d[1]=a[1]-c,d[2]=a[2]+c,d[3]=a[3]+c,d):[a[0]-c,a[1]-c,a[2]+c,a[3]+c]}function Ra(a,c){return c?(c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],c):a.slice()}function Sa(a,c){return a[0]<=c[0]&&c[2]<=a[2]&&a[1]<=c[1]&&c[3]<=a[3]}function Ta(a,c,d){return a[0]<=c&&c<=a[2]&&a[1]<=d&&d<=a[3]}function Oa(){return[Infinity,Infinity,-Infinity,-Infinity]}
function Ua(a,c,d,e,f){return f?(f[0]=a,f[1]=c,f[2]=d,f[3]=e,f):[a,c,d,e]}function Va(a){return Ua(Infinity,Infinity,-Infinity,-Infinity,a)}function Wa(a,c){return a[0]==c[0]&&a[2]==c[2]&&a[1]==c[1]&&a[3]==c[3]}function Xa(a,c){c[0]<a[0]&&(a[0]=c[0]);c[2]>a[2]&&(a[2]=c[2]);c[1]<a[1]&&(a[1]=c[1]);c[3]>a[3]&&(a[3]=c[3])}function Pa(a,c){c[0]<a[0]&&(a[0]=c[0]);c[0]>a[2]&&(a[2]=c[0]);c[1]<a[1]&&(a[1]=c[1]);c[1]>a[3]&&(a[3]=c[1])}
function Ya(a,c,d,e,f){for(;d<e;d+=f){var g=a,h=c[d],k=c[d+1];g[0]=Math.min(g[0],h);g[1]=Math.min(g[1],k);g[2]=Math.max(g[2],h);g[3]=Math.max(g[3],k)}return a}function Za(a){var c=0;$a(a)||(c=ab(a)*bb(a));return c}function cb(a){return[(a[0]+a[2])/2,(a[1]+a[3])/2]}
function db(a,c,d,e,f){var g=c*e[0]/2;e=c*e[1]/2;c=Math.cos(d);var h=Math.sin(d);d=g*c;g*=h;c*=e;var k=e*h,l=a[0],m=a[1];a=l-d+k;e=l-d-k;h=l+d-k;d=l+d+k;k=m-g-c;l=m-g+c;var n=m+g+c;g=m+g-c;return Ua(Math.min(a,e,h,d),Math.min(k,l,n,g),Math.max(a,e,h,d),Math.max(k,l,n,g),f)}function bb(a){return a[3]-a[1]}function eb(a,c){var d=Oa();fb(a,c)&&(d[0]=a[0]>c[0]?a[0]:c[0],d[1]=a[1]>c[1]?a[1]:c[1],d[2]=a[2]<c[2]?a[2]:c[2],d[3]=a[3]<c[3]?a[3]:c[3]);return d}function ab(a){return a[2]-a[0]}
function fb(a,c){return a[0]<=c[2]&&a[2]>=c[0]&&a[1]<=c[3]&&a[3]>=c[1]}function $a(a){return a[2]<a[0]||a[3]<a[1]};function gb(){return!0}function hb(){return!1};function ib(a,c,d){return Math.min(Math.max(a,c),d)}var jb=function(){var a;"cosh"in Math?a=Math.cosh:a=function(a){a=Math.exp(a);return(a+1/a)/2};return a}();function kb(a,c){a%=c;return 0>a*c?a+c:a};/*

 Latitude/longitude spherical geodesy formulae taken from
 http://www.movable-type.co.uk/scripts/latlong.html
 Licensed under CC-BY-3.0.
*/
function lb(a){this.radius=a}function mb(a,c){var d=a[1]*Math.PI/180,e=c[1]*Math.PI/180,f=(e-d)/2;a=(c[0]-a[0])*Math.PI/180/2;d=Math.sin(f)*Math.sin(f)+Math.sin(a)*Math.sin(a)*Math.cos(d)*Math.cos(e);return 2*nb.radius*Math.atan2(Math.sqrt(d),Math.sqrt(1-d))}
lb.prototype.offset=function(a,c,d){var e=a[1]*Math.PI/180;c/=this.radius;var f=Math.asin(Math.sin(e)*Math.cos(c)+Math.cos(e)*Math.sin(c)*Math.cos(d));return[180*(a[0]*Math.PI/180+Math.atan2(Math.sin(d)*Math.sin(c)*Math.cos(e),Math.cos(c)-Math.sin(e)*Math.sin(f)))/Math.PI,180*f/Math.PI]};var ob={};ob.degrees=12741994*Math.PI/360;ob.ft=.3048;ob.m=1;ob["us-ft"]=1200/3937;var pb=null;function qb(){return pb||window.proj4};function rb(a){this.va=a.code;this.g=a.units;this.c=void 0!==a.extent?a.extent:null;this.f=void 0!==a.sc?a.sc:"enu";this.a=void 0!==a.global?a.global:!1;this.b=!(!this.a||!this.c);this.C=a.ne;this.i=null;this.w=a.yd;var c=a.code,d=qb();"function"==typeof d&&(c=d.defs(c),void 0!==c&&(void 0!==c.axis&&void 0===a.sc&&(this.f=c.axis),void 0===a.yd&&(this.w=c.to_meter),void 0===a.units&&(this.g=c.units)))}rb.prototype.A=function(){return this.c};function sb(a){return a.w||ob[a.g]};function tb(a){rb.call(this,{code:a,units:"m",extent:ub,global:!0,Vf:vb,ne:function(a,d){return a/jb(d[1]/6378137)}})}u(tb,rb);var wb=6378137*Math.PI,ub=[-wb,-wb,wb,wb],vb=[-180,-85,180,85],xb=[new tb("EPSG:3857"),new tb("EPSG:102100"),new tb("EPSG:102113"),new tb("EPSG:900913"),new tb("urn:ogc:def:crs:EPSG:6.18:3:3857"),new tb("urn:ogc:def:crs:EPSG::3857"),new tb("http://www.opengis.net/gml/srs/epsg.xml#3857")];
function yb(a,c,d){var e=a.length;d=1<d?d:2;void 0===c&&(2<d?c=a.slice():c=Array(e));for(var f=0;f<e;f+=d){c[f]=wb*a[f]/180;var g=6378137*Math.log(Math.tan(Math.PI*(a[f+1]+90)/360));g>wb?g=wb:g<-wb&&(g=-wb);c[f+1]=g}return c}function zb(a,c,d){var e=a.length;d=1<d?d:2;void 0===c&&(2<d?c=a.slice():c=Array(e));for(var f=0;f<e;f+=d)c[f]=180*a[f]/wb,c[f+1]=360*Math.atan(Math.exp(a[f+1]/6378137))/Math.PI-90;return c};function Ab(a,c){rb.call(this,{code:a,units:"degrees",extent:Bb,sc:c,global:!0,yd:Cb,Vf:Bb})}u(Ab,rb);var Bb=[-180,-90,180,90],Cb=6378137*Math.PI/180,Db=[new Ab("CRS:84"),new Ab("EPSG:4326","neu"),new Ab("urn:ogc:def:crs:EPSG::4326","neu"),new Ab("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new Ab("urn:ogc:def:crs:OGC:1.3:CRS84"),new Ab("urn:ogc:def:crs:OGC:2:84"),new Ab("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Ab("urn:x-ogc:def:crs:EPSG:4326","neu")];var Fb={};var Gb={};function Hb(a,c,d){a=a.va;c=c.va;a in Gb||(Gb[a]={});Gb[a][c]=d}function Ib(a,c){var d;a in Gb&&c in Gb[a]&&(d=Gb[a][c]);return d};var nb=new lb(6371008.8);function Jb(a,c,d){a=N(a);var e=a.C;e?c=e(c,d):"degrees"!=a.g&&(e=Kb(a,N("EPSG:4326")),c=[d[0]-c/2,d[1],d[0]+c/2,d[1],d[0],d[1]-c/2,d[0],d[1]+c/2],c=e(c,c,2),c=(mb(c.slice(0,2),c.slice(2,4))+mb(c.slice(4,6),c.slice(6,8)))/2,a=sb(a),void 0!==a&&(c/=a));return c}function Lb(a){a.forEach(Mb);a.forEach(function(c){a.forEach(function(a){c!==a&&Hb(c,a,Nb)})})}function Mb(a){Fb[a.va]=a;Hb(a,a,Nb)}function Ob(a){return a?"string"===typeof a?N(a):a:N("EPSG:3857")}
function Pb(a){return function(c,d,e){var f=c.length;e=void 0!==e?e:2;d=void 0!==d?d:Array(f);var g;for(g=0;g<f;g+=e){var h=a([c[g],c[g+1]]);d[g]=h[0];d[g+1]=h[1];for(h=e-1;2<=h;--h)d[g+h]=c[g+h]}return d}}function N(a){var c=null;if(a instanceof rb)c=a;else if("string"===typeof a&&(c=Fb[a]||null,!c)){var d=qb();"function"==typeof d&&void 0!==d.defs(a)&&(c=new rb({code:a}),Mb(c))}return c}function Qb(a,c){if(a===c)return!0;var d=a.g===c.g;return a.va===c.va?d:Kb(a,c)===Nb&&d}
function Rb(a,c){a=N(a);c=N(c);return Kb(a,c)}function Kb(a,c){var d=a.va,e=c.va,f=Ib(d,e);if(!f){var g=qb();if("function"==typeof g){var h=g.defs(d),k=g.defs(e);void 0!==h&&void 0!==k&&(h===k?Lb([c,a]):(g=g(e,d),f=g.forward,g=g.inverse,c=N(c),a=N(a),Hb(c,a,Pb(f)),Hb(a,c,Pb(g))),f=Ib(d,e))}}f||(f=Sb);return f}function Sb(a,c){if(void 0!==c&&a!==c){for(var d=0,e=a.length;d<e;++d)c[d]=a[d];a=c}return a}
function Nb(a,c){if(void 0!==c){for(var d=0,e=a.length;d<e;++d)c[d]=a[d];a=c}else a=a.slice();return a}function Tb(a,c,d){c=Rb(c,d);a=[a[0],a[1],a[0],a[3],a[2],a[1],a[2],a[3]];c(a,a,2);d=[a[0],a[2],a[4],a[6]];var e=[a[1],a[3],a[5],a[7]];a=Math.min.apply(null,d);c=Math.min.apply(null,e);d=Math.max.apply(null,d);e=Math.max.apply(null,e);return Ua(a,c,d,e,void 0)}Lb(xb);Lb(Db);Db.forEach(function(a){xb.forEach(function(c){Hb(a,c,yb);Hb(c,a,zb)})});function Ub(){M.call(this);this.o=Oa();this.v=-1;this.f={};this.l=this.i=0}u(Ub,M);Ub.prototype.A=function(a){this.v!=this.g&&(this.o=this.wc(this.o),this.v=this.g);var c=this.o;a?(a[0]=c[0],a[1]=c[1],a[2]=c[2],a[3]=c[3]):a=c;return a};Ub.prototype.transform=function(a,c){this.ac(Rb(a,c));return this};function Vb(a){if("string"!==typeof a){var c=a[0];c!=(c|0)&&(c=c+.5|0);var d=a[1];d!=(d|0)&&(d=d+.5|0);var e=a[2];e!=(e|0)&&(e=e+.5|0);a="rgba("+c+","+d+","+e+","+(void 0===a[3]?1:a[3])+")"}return a};function Wb(a){return"string"===typeof a||a instanceof CanvasPattern||a instanceof CanvasGradient?a:Vb(a)};function Xb(a,c){var d=document.createElement("CANVAS");a&&(d.width=a);c&&(d.height=c);return d.getContext("2d")}function Yb(a){a&&a.parentNode&&a.parentNode.removeChild(a)};var Zb="undefined"!==typeof navigator?navigator.userAgent.toLowerCase():"",$b=-1!==Zb.indexOf("firefox"),ac=-1!==Zb.indexOf("safari")&&-1==Zb.indexOf("chrom"),bc=-1!==Zb.indexOf("webkit")&&-1==Zb.indexOf("edge"),cc=-1!==Zb.indexOf("macintosh"),dc=window.devicePixelRatio||1,ec=!1,fc=function(){if(!("HTMLCanvasElement"in window))return!1;try{var a=document.createElement("CANVAS").getContext("2d");return a?(void 0!==a.setLineDash&&(ec=!0),!0):!1}catch(c){return!1}}(),gc="geolocation"in navigator,hc=
"ontouchstart"in window,ic="PointerEvent"in window,jc=!!navigator.msPointerEnabled;var kc=[0,0,0,1],lc=[],mc=[0,0,0,1];function nc(a,c,d,e){0!==c&&(a.translate(d,e),a.rotate(c),a.translate(-d,-e))};function oc(a){this.i=a.opacity;this.Jb=a.ic;this.v=a.rotation;this.Na=a.scale;this.j=a.Ya}oc.prototype.X=function(){return this.v};function pc(a){this.C=this.w=this.a=null;this.ha=void 0!==a.fill?a.fill:null;this.o=[0,0];this.f=a.points;this.b=void 0!==a.radius?a.radius:a.zg;this.g=a.Bf;this.c=void 0!==a.angle?a.angle:0;this.ga=void 0!==a.stroke?a.stroke:null;this.T=this.L=null;var c=this.l=a.bc,d="",e="",f=0,g=null,h=0,k=0;if(this.ga){var l=this.ga.ia();null===l&&(l=mc);l=Wb(l);k=this.ga.qa();void 0===k&&(k=1);g=this.ga.getLineDash();h=this.ga.Ea;ec||(g=null,h=0);e=this.ga.Fa;void 0===e&&(e="round");d=this.ga.Da;void 0===d&&
(d="round");f=this.ga.Ga;void 0===f&&(f=10)}var m=2*(this.b+k)+1;d={strokeStyle:l,strokeWidth:k,size:m,lineCap:d,J:g,lineDashOffset:h,lineJoin:e,miterLimit:f};if(void 0===c)c=Xb(m,m),this.w=c.canvas,m=this.w.width,this.nd(d,c,0,0),this.ha?this.C=this.w:(c=Xb(d.size,d.size),this.C=c.canvas,this.md(d,c,0,0));else{m=Math.round(m);e=!this.ha;var n;e&&(n=this.md.bind(this,d));this.ga?(f=this.ga,void 0===f.b&&(f.b="s",f.b=f.a?"string"===typeof f.a?f.b+f.a:f.b+B(f.a).toString():f.b+"-",f.b+=","+(void 0!==
f.Da?f.Da.toString():"-")+","+(f.g?f.g.toString():"-")+","+(void 0!==f.Ea?f.Ea:"-")+","+(void 0!==f.Fa?f.Fa:"-")+","+(void 0!==f.Ga?f.Ga.toString():"-")+","+(void 0!==f.c?f.c.toString():"-")),f=f.b):f="-";this.ha?(g=this.ha,void 0===g.a&&(g.a=g.b instanceof CanvasPattern||g.b instanceof CanvasGradient?B(g.b).toString():"f"+(g.b?Vb(g.b):"-")),g=g.a):g="-";this.a&&f==this.a[1]&&g==this.a[2]&&this.b==this.a[3]&&this.g==this.a[4]&&this.c==this.a[5]&&this.f==this.a[6]||(this.a=["r"+f+g+(void 0!==this.b?
this.b.toString():"-")+(void 0!==this.g?this.g.toString():"-")+(void 0!==this.c?this.c.toString():"-")+(void 0!==this.f?this.f.toString():"-"),f,g,this.b,this.g,this.c,this.f]);c=c.add(this.a[0],m,m,this.nd.bind(this,d),n);this.w=c.image;this.o=[c.offsetX,c.offsetY];this.C=e?c.b:this.w}this.L=[m/2,m/2];this.T=[m,m];oc.call(this,{opacity:1,ic:void 0!==a.ic?a.ic:!1,rotation:void 0!==a.rotation?a.rotation:0,scale:1,Ya:void 0!==a.Ya?a.Ya:!0})}u(pc,oc);p=pc.prototype;
p.clone=function(){var a=new pc({fill:this.na()?this.na().clone():void 0,points:this.f,radius:this.b,Bf:this.g,angle:this.c,Ya:this.j,stroke:this.ea()?this.ea().clone():void 0,rotation:this.X(),ic:this.Jb,bc:this.l});a.i=this.i;a.Na=this.Na;return a};p.na=function(){return this.ha};p.da=function(){return this.w};p.ya=function(){return this.T};p.ea=function(){return this.ga};p.load=function(){};
p.nd=function(a,c,d,e){c.setTransform(1,0,0,1,0,0);c.translate(d,e);c.beginPath();var f=this.f;if(Infinity===f)c.arc(a.size/2,a.size/2,this.b,0,2*Math.PI,!0);else{var g=void 0!==this.g?this.g:this.b;g!==this.b&&(f*=2);for(d=0;d<=f;d++){e=2*d*Math.PI/f-Math.PI/2+this.c;var h=0===d%2?this.b:g;c.lineTo(a.size/2+h*Math.cos(e),a.size/2+h*Math.sin(e))}}this.ha&&(d=this.ha.ia(),null===d&&(d=kc),c.fillStyle=Wb(d),c.fill());this.ga&&(c.strokeStyle=a.strokeStyle,c.lineWidth=a.strokeWidth,a.J&&(c.setLineDash(a.J),
c.lineDashOffset=a.lineDashOffset),c.lineCap=a.lineCap,c.lineJoin=a.lineJoin,c.miterLimit=a.miterLimit,c.stroke());c.closePath()};
p.md=function(a,c,d,e){c.setTransform(1,0,0,1,0,0);c.translate(d,e);c.beginPath();d=this.f;if(Infinity===d)c.arc(a.size/2,a.size/2,this.b,0,2*Math.PI,!0);else{e=void 0!==this.g?this.g:this.b;e!==this.b&&(d*=2);var f;for(f=0;f<=d;f++){var g=2*f*Math.PI/d-Math.PI/2+this.c;var h=0===f%2?this.b:e;c.lineTo(a.size/2+h*Math.cos(g),a.size/2+h*Math.sin(g))}}c.fillStyle=kc;c.fill();this.ga&&(c.strokeStyle=a.strokeStyle,c.lineWidth=a.strokeWidth,a.J&&(c.setLineDash(a.J),c.lineDashOffset=a.lineDashOffset),c.stroke());
c.closePath()};function qc(a){a=a||{};pc.call(this,{points:Infinity,fill:a.fill,radius:a.radius,Ya:a.Ya,stroke:a.stroke,bc:a.bc})}u(qc,pc);qc.prototype.clone=function(){var a=new qc({fill:this.na()?this.na().clone():void 0,stroke:this.ea()?this.ea().clone():void 0,radius:this.b,Ya:this.j,bc:this.l});a.i=this.i;a.Na=this.Na;return a};function rc(a){a=a||{};this.b=void 0!==a.color?a.color:null;this.a=void 0}rc.prototype.clone=function(){var a=this.ia();return new rc({color:a&&a.slice?a.slice():a||void 0})};rc.prototype.ia=function(){return this.b};function sc(a){a=a||{};this.a=void 0!==a.color?a.color:null;this.Da=a.lineCap;this.g=void 0!==a.J?a.J:null;this.Ea=a.lineDashOffset;this.Fa=a.lineJoin;this.Ga=a.miterLimit;this.c=a.width;this.b=void 0}p=sc.prototype;p.clone=function(){var a=this.ia();return new sc({color:a&&a.slice?a.slice():a||void 0,lineCap:this.Da,J:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.Ea,lineJoin:this.Fa,miterLimit:this.Ga,width:this.qa()})};p.ia=function(){return this.a};p.getLineDash=function(){return this.g};
p.qa=function(){return this.c};p.setLineDash=function(a){this.g=a;this.b=void 0};function tc(a){a=a||{};this.Ta=null;this.Eb=uc;void 0!==a.geometry&&this.setGeometry(a.geometry);this.ha=void 0!==a.fill?a.fill:null;this.R=void 0!==a.image?a.image:null;this.Lb=void 0!==a.rb?a.rb:null;this.ga=void 0!==a.stroke?a.stroke:null;this.O=void 0!==a.text?a.text:null;this.Od=a.zIndex}p=tc.prototype;
p.clone=function(){var a=this.getGeometry();a&&a.clone&&(a=a.clone());return new tc({geometry:a,fill:this.na()?this.na().clone():void 0,image:this.da()?this.da().clone():void 0,stroke:this.ea()?this.ea().clone():void 0,text:this.O?this.O.clone():void 0,zIndex:this.getZIndex()})};p.Jc=function(){return this.Lb};p.getGeometry=function(){return this.Ta};p.na=function(){return this.ha};p.da=function(){return this.R};p.ea=function(){return this.ga};p.getZIndex=function(){return this.Od};
p.setGeometry=function(a){"function"===typeof a?this.Eb=a:"string"===typeof a?this.Eb=function(c){return c.get(a)}:a?void 0!==a&&(this.Eb=function(){return a}):this.Eb=uc;this.Ta=a};p.setZIndex=function(a){this.Od=a};function vc(a){if("function"!==typeof a){if(Array.isArray(a))var c=a;else C(a instanceof tc,41),c=[a];a=function(){return c}}return a}var wc=null;
function xc(){if(!wc){var a=new rc({color:"rgba(255,255,255,0.4)"}),c=new sc({color:"#3399CC",width:1.25});wc=[new tc({image:new qc({fill:a,stroke:c,radius:5}),fill:a,stroke:c})]}return wc}function uc(a){return a.getGeometry()};function yc(a){M.call(this);this.c=void 0;this.a="geometry";this.j=null;this.i=void 0;this.f=null;I(this,La(this.a),this.dc,this);void 0!==a&&(a instanceof Ub||!a?this.setGeometry(a):Ja(this,a))}u(yc,M);p=yc.prototype;p.clone=function(){var a=new yc(ra({},this.L));zc(a,this.a);var c=this.getGeometry();c&&a.setGeometry(c.clone());(c=this.j)&&a.setStyle(c);return a};p.getGeometry=function(){return this.get(this.a)};p.Lc=function(){return this.i};p.se=function(){this.b()};
p.dc=function(){this.f&&(F(this.f),this.f=null);var a=this.getGeometry();a&&(this.f=I(a,"change",this.se,this));this.b()};p.setGeometry=function(a){this.set(this.a,a)};p.setStyle=function(a){this.i=(this.j=a)?Ac(a):void 0;this.b()};function zc(a,c){Aa(a,La(a.a),a.dc,a);a.a=c;I(a,La(a.a),a.dc,a);a.dc()}function Ac(a){var c;if("function"===typeof a)2==a.length?c=function(c){return a(this,c)}:c=a;else{if(Array.isArray(a))var d=a;else C(a instanceof tc,41),d=[a];c=function(){return d}}return c};function Bc(){this.b=this.Db=null};function Cc(a,c){return a>c?1:a<c?-1:0}function Dc(a,c,d){var e=a.length;if(a[0]<=c)return 0;if(!(c<=a[e-1]))if(0<d)for(d=1;d<e;++d){if(a[d]<c)return d-1}else if(0>d)for(d=1;d<e;++d){if(a[d]<=c)return d}else for(d=1;d<e;++d){if(a[d]==c)return d;if(a[d]<c)return a[d-1]-c<c-a[d]?d-1:d}return e-1}function Ec(a,c){var d=Array.isArray(c)?c:[c],e=d.length;for(c=0;c<e;c++)a[a.length]=d[c]}function Fc(a,c){for(var d=a.length>>>0,e,f=0;f<d;f++)if(e=a[f],c(e,f,a))return e;return null}
function Gc(a,c){var d=a.length;if(d!==c.length)return!1;for(var e=0;e<d;e++)if(a[e]!==c[e])return!1;return!0}function Hc(a){var c=Ic,d=a.length,e=Array(a.length),f;for(f=0;f<d;f++)e[f]={index:f,value:a[f]};e.sort(function(a,d){return c(a.value,d.value)||a.index-d.index});for(f=0;f<a.length;f++)a[f]=e[f].value}function Jc(a,c){var d;return a.every(function(e,f){d=f;return!c(e,f,a)})?-1:d}
function Lc(a,c){var d=c||Cc;return a.every(function(c,f){if(0===f)return!0;c=d(a[f-1],c);return!(0<c||0===c)})};function Mc(a,c,d,e,f,g){for(var h=g?g:[],k=0;c<d;c+=e){var l=a[c],m=a[c+1];h[k++]=f[0]*l+f[2]*m+f[4];h[k++]=f[1]*l+f[3]*m+f[5]}g&&h.length!=k&&(h.length=k);return h};function Nc(){Ub.call(this);this.c="XY";this.B=2;this.u=null}u(Nc,Ub);function Oc(a){var c;"XY"==a?c=2:"XYZ"==a||"XYM"==a?c=3:"XYZM"==a&&(c=4);return c}p=Nc.prototype;p.wc=function(a){var c=this.u,d=this.u.length,e=this.B;a=Va(a);return Ya(a,c,0,d,e)};p.Kc=function(a){this.l!=this.g&&(sa(this.f),this.i=0,this.l=this.g);if(0>a||0!==this.i&&a<=this.i)return this;var c=a.toString();if(this.f.hasOwnProperty(c))return this.f[c];var d=this.Gb(a);if(d.u.length<this.u.length)return this.f[c]=d;this.i=a;return this};
p.Gb=function(){return this};function Pc(a,c,d){a.B=Oc(c);a.c=c;a.u=d}function Qc(a,c,d,e){if(c)d=Oc(c);else{for(c=0;c<e;++c){if(0===d.length){a.c="XY";a.B=2;return}d=d[0]}d=d.length;var f;2==d?f="XY":3==d?f="XYZ":4==d&&(f="XYZM");c=f}a.c=c;a.B=d}p.ac=function(a){this.u&&(a(this.u,this.u,this.B),this.b())};
p.rotate=function(a,c){var d=this.u;if(d){var e=d.length,f=this.B,g=d?d:[],h=Math.cos(a);a=Math.sin(a);var k=c[0];c=c[1];for(var l=0,m=0;m<e;m+=f){var n=d[m]-k,q=d[m+1]-c;g[l++]=k+n*h-q*a;g[l++]=c+n*a+q*h;for(n=m+2;n<m+f;++n)g[l++]=d[n]}d&&g.length!=l&&(g.length=l);this.b()}};
p.scale=function(a,c,d){var e=c;void 0===e&&(e=a);var f=d;f||(f=cb(this.A()));if(d=this.u){c=d.length;var g=this.B,h=d?d:[],k=f[0];f=f[1];for(var l=0,m=0;m<c;m+=g){var n=d[m]-k,q=d[m+1]-f;h[l++]=k+a*n;h[l++]=f+e*q;for(n=m+2;n<m+g;++n)h[l++]=d[n]}d&&h.length!=l&&(h.length=l);this.b()}};function Rc(a,c,d,e){var f;var g=0;for(f=d.length;g<f;++g){var h=d[g],k;for(k=0;k<e;++k)a[c++]=h[k]}return c}function Sc(a,c,d,e,f){f=f?f:[];var g=0,h;var k=0;for(h=d.length;k<h;++k)c=Rc(a,c,d[k],e),f[g++]=c;f.length=g;return f};function Tc(a,c,d,e,f){f=void 0!==f?f:[];for(var g=0;c<d;c+=e)f[g++]=a.slice(c,c+e);f.length=g;return f}function Uc(a,c,d,e,f){f=void 0!==f?f:[];var g=0,h;var k=0;for(h=d.length;k<h;++k){var l=d[k];f[g++]=Tc(a,c,l,e,f[g]);c=l}f.length=g;return f}function Vc(a,c,d,e,f){f=void 0!==f?f:[];var g=0,h;var k=0;for(h=d.length;k<h;++k){var l=d[k];f[g++]=Uc(a,c,l,e,f[g]);c=l[l.length-1]}f.length=g;return f};function Wc(a,c,d,e,f){var g=NaN,h=NaN,k=(d-c)/e;if(1===k)g=a[c],h=a[c+1];else if(2==k)g=.5*a[c]+.5*a[c+e],h=.5*a[c+1]+.5*a[c+e+1];else if(0!==k){h=a[c];k=a[c+1];var l=0;g=[0];var m;for(m=c+e;m<d;m+=e){var n=a[m],q=a[m+1];l+=Math.sqrt((n-h)*(n-h)+(q-k)*(q-k));g.push(l);h=n;k=q}d=.5*l;l=0;m=g.length;for(n=!1;l<m;)h=l+(m-l>>1),k=+Cc(g[h],d),0>k?l=h+1:(m=h,n=!k);h=n?l:~l;0>h?(d=(d-g[-h-2])/(g[-h-1]-g[-h-2]),c+=(-h-2)*e,g=a[c],g+=d*(a[c+e]-g),h=a[c+1],h+=d*(a[c+e+1]-h)):(g=a[c+h*e],h=a[c+h*e+1])}return f?
(f[0]=g,f[1]=h,f):[g,h]};function Xc(a,c,d,e,f,g){for(var h=0,k=a[d-e],l=a[d-e+1];c<d;c+=e){var m=a[c],n=a[c+1];l<=g?n>g&&0<(m-k)*(g-l)-(f-k)*(n-l)&&h++:n<=g&&0>(m-k)*(g-l)-(f-k)*(n-l)&&h--;k=m;l=n}return 0!==h};function Yc(a,c,d,e,f,g,h){var k=(d-c)/e;if(3>k){for(;c<d;c+=e)g[h++]=a[c],g[h++]=a[c+1];return h}var l=Array(k);l[0]=1;l[k-1]=1;d=[c,d-e];for(var m=0,n;0<d.length;){var q=d.pop(),r=d.pop(),x=0,z=a[r],A=a[r+1],y=a[q],v=a[q+1];for(n=r+e;n<q;n+=e){var H=a[n];var G=a[n+1];var R=z,O=A,J=y-R,t=v-O;if(0!==J||0!==t){var E=((H-R)*J+(G-O)*t)/(J*J+t*t);1<E?(R=y,O=v):0<E&&(R+=J*E,O+=t*E)}H=R-H;G=O-G;G=H*H+G*G;G>x&&(m=n,x=G)}x>f&&(l[(m-c)/e]=1,r+e<m&&d.push(r,m),m+e<q&&d.push(m,q))}for(n=0;n<k;++n)l[n]&&(g[h++]=
a[c+n*e],g[h++]=a[c+n*e+1]);return h}
function Zc(a,c,d,e,f,g,h,k){var l;var m=0;for(l=d.length;m<l;++m){var n=d[m];a:{var q=a,r=n,x=e,z=f,A=g,y=h;if(c!=r){var v=z*Math.round(q[c]/z),H=z*Math.round(q[c+1]/z);c+=x;A[y++]=v;A[y++]=H;do{var G=z*Math.round(q[c]/z);h=z*Math.round(q[c+1]/z);c+=x;if(c==r){A[y++]=G;A[y++]=h;h=y;break a}}while(G==v&&h==H);for(;c<r;){var R=z*Math.round(q[c]/z);var O=z*Math.round(q[c+1]/z);c+=x;if(R!=G||O!=h){var J=G-v,t=h-H,E=R-v,L=O-H;J*L==t*E&&(0>J&&E<J||J==E||0<J&&E>J)&&(0>t&&L<t||t==L||0<t&&L>t)||(A[y++]=G,
A[y++]=h,v=G,H=h);G=R;h=O}}A[y++]=G;A[y++]=h}h=y}k.push(h);c=n}return h};function $c(a,c){Nc.call(this);this.a=null;this.j=-1;this.ra(a,c)}u($c,Nc);$c.prototype.clone=function(){var a=new $c(null);Pc(a,this.c,this.u.slice());a.b();return a};function ad(a){if(a.j!=a.g){var c=Wc(a.u,0,a.u.length,a.B,a.a);a.a=c;a.j=a.g}return a.a}$c.prototype.Gb=function(a){var c=[];c.length=Yc(this.u,0,this.u.length,this.B,a,c,0);a=new $c(null);Pc(a,"XY",c);a.b();return a};$c.prototype.getType=function(){return"LineString"};
$c.prototype.ra=function(a,c){a?(Qc(this,c,a,1),this.u||(this.u=[]),this.u.length=Rc(this.u,0,a,this.B)):Pc(this,"XY",null);this.b()};function bd(a,c){this.j=a;this.c=c;this.b=[];this.a=[];this.g={}}bd.prototype.clear=function(){this.b.length=0;this.a.length=0;sa(this.g)};bd.prototype.w=function(a){C(!(this.c(a)in this.g),31);var c=this.j(a);return Infinity!=c?(this.b.push(a),this.a.push(c),this.g[this.c(a)]=!0,cd(this,0,this.b.length-1),!0):!1};function dd(a,c){for(var d=a.b,e=a.a,f=d.length,g=d[c],h=e[c],k=c;c<f>>1;){var l=2*c+1,m=2*c+2;l=m<f&&e[m]<e[l]?m:l;d[c]=d[l];e[c]=e[l];c=l}d[c]=g;e[c]=h;cd(a,k,c)}
function cd(a,c,d){var e=a.b;a=a.a;for(var f=e[d],g=a[d];d>c;){var h=d-1>>1;if(a[h]>g)e[d]=e[h],a[d]=a[h],d=h;else break}e[d]=f;a[d]=g};function ed(a,c){bd.call(this,function(c){return a.apply(null,c)},function(a){return a[0].Wa()});this.l=c;this.i=0;this.f={}}u(ed,bd);ed.prototype.w=function(a){var c=bd.prototype.w.call(this,a);c&&I(a[0],"change",this.C,this);return c};ed.prototype.C=function(a){a=a.target;var c=a.getState();if(2===c||3===c||4===c||5===c)Aa(a,"change",this.C,this),a=a.Wa(),a in this.f&&(delete this.f[a],--this.i),this.l()};var fd={Pc:{}};fd.Pc.Wc=function(){};
(function(a){function c(a,c,d){if(h)return new ImageData(a,c,d);c=k.createImageData(c,d);c.data.set(a);return c}function d(a){var c=!0;try{new ImageData(10,10)}catch(n){c=!1}return function(d){var e=d.buffers,f=d.meta,g=d.width,h=d.height,k=e.length,l=e[0].byteLength;if(d.imageOps){l=Array(k);for(d=0;d<k;++d){var m=d;var n=new Uint8ClampedArray(e[d]);var G=g,R=h;n=c?new ImageData(n,G,R):{data:n,width:G,height:R};l[m]=n}g=a(l,f).data}else{g=new Uint8ClampedArray(l);h=Array(k);m=Array(k);for(d=0;d<
k;++d)h[d]=new Uint8ClampedArray(e[d]),m[d]=[0,0,0,0];for(e=0;e<l;e+=4){for(d=0;d<k;++d)n=h[d],m[d][0]=n[e],m[d][1]=n[e+1],m[d][2]=n[e+2],m[d][3]=n[e+3];d=a(m,f);g[e]=d[0];g[e+1]=d[1];g[e+2]=d[2];g[e+3]=d[3]}}return g.buffer}}function e(a,c){var e=Object.keys(a.Ne||{}).map(function(c){return"var "+c+" = "+a.Ne[c].toString()+";"}).concat(["var __minion__ = ("+d.toString()+")(",a.mf.toString(),");",'self.addEventListener("message", function(event) {',"  var buffer = __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);",
"});"]);e=URL.createObjectURL(new Blob(e,{type:"text/javascript"}));e=new Worker(e);e.addEventListener("message",c);return e}function f(a,c){var e=d(a.mf);return{postMessage:function(a){setTimeout(function(){c({data:{buffer:e(a),meta:a.meta}})},0)}}}function g(a){this.pc=!!a.wg;var c;0===a.Lf?c=0:this.pc?c=1:c=a.Lf||1;var d=[];if(c)for(var g=0;g<c;++g)d[g]=e(a,this.cd.bind(this,g));else d[0]=f(a,this.cd.bind(this,0));this.Yb=d;this.dd=[];this.Xb=0;this.cb={};this.qc=null}var h=!0;try{new ImageData(10,
10)}catch(l){h=!1}var k=document.createElement("canvas").getContext("2d");g.prototype.Xd=function(){if(0===this.Xb&&0<this.dd.length){var a=this.qc=this.dd.shift(),c=a.inputs[0].width,d=a.inputs[0].height,e=a.inputs.map(function(a){return a.data.buffer}),f=this.Yb.length;this.Xb=f;if(1===f)this.Yb[0].postMessage({buffers:e,meta:a.Se,imageOps:this.pc,width:c,height:d},e);else for(var g=4*Math.ceil(a.inputs[0].data.length/4/f),h=0;h<f;++h){for(var k=h*g,y=[],v=0,H=e.length;v<H;++v)y.push(e[h].slice(k,
k+g));this.Yb[h].postMessage({buffers:y,meta:a.Se,imageOps:this.pc,width:c,height:d},y)}}};g.prototype.cd=function(a,c){this.ug||(this.cb[a]=c.data,--this.Xb,0===this.Xb&&this.Zd())};g.prototype.Zd=function(){var a=this.qc,d=this.Yb.length;if(1===d){var e=new Uint8ClampedArray(this.cb[0].buffer);var f=this.cb[0].meta}else{var g=a.inputs[0].data.length;e=new Uint8ClampedArray(g);f=Array(g);g=4*Math.ceil(g/4/d);for(var h=0;h<d;++h){var k=h*g;e.set(new Uint8ClampedArray(this.cb[h].buffer),k);f[h]=this.cb[h].meta}}this.qc=
null;this.cb={};a.eb(null,c(e,a.inputs[0].width,a.inputs[0].height),f);this.Xd()};a["default"]={Wc:g};a.Wc=g})(fd.Pc=fd.Pc||{});function gd(a){M.call(this);var c=ra({},a);c.opacity=void 0!==a.opacity?a.opacity:1;c.visible=void 0!==a.visible?a.visible:!0;c.zIndex=void 0!==a.zIndex?a.zIndex:0;c.maxResolution=void 0!==a.maxResolution?a.maxResolution:Infinity;c.minResolution=void 0!==a.minResolution?a.minResolution:0;Ja(this,c);this.a={layer:this,xd:!0}}u(gd,M);
function hd(a){a.a.opacity=ib(a.get("opacity"),0,1);a.a.Jf=a.rd();a.a.visible=a.get("visible");a.a.extent=a.A();a.a.zIndex=a.getZIndex();a.a.maxResolution=a.get("maxResolution");a.a.minResolution=Math.max(a.get("minResolution"),0);return a.a}gd.prototype.A=function(){return this.get("extent")};gd.prototype.getZIndex=function(){return this.get("zIndex")};gd.prototype.setZIndex=function(a){this.set("zIndex",a)};function id(a){var c=ra({},a);delete c.source;gd.call(this,c);this.i=this.f=this.c=null;a.map&&this.setMap(a.map);I(this,La("source"),this.Ge,this);this.set("source",a.source?a.source:null)}u(id,gd);p=id.prototype;p.Hc=function(a){a=a?a:[];a.push(hd(this));return a};function jd(a){return a.get("source")||null}p.rd=function(){var a=jd(this);return a?a.getState():"undefined"};p.Fe=function(){this.b()};
p.Ge=function(){this.i&&(F(this.i),this.i=null);var a=jd(this);a&&(this.i=I(a,"change",this.Fe,this));this.b()};p.setMap=function(a){this.c&&(F(this.c),this.c=null);a||this.b();this.f&&(F(this.f),this.f=null);a&&(this.c=I(a,"precompose",function(a){var c=hd(this);c.xd=!1;c.zIndex=Infinity;a.frameState.Nc.push(c);a.frameState.Mc[B(this)]=c},this),this.f=I(this,"change",a.render,a),this.b())};function kd(a,c){var d=Math.cos(c);c=Math.sin(c);var e=a[1]*d+a[0]*c;a[0]=a[0]*d-a[1]*c;a[1]=e};function ld(a,c,d,e,f){Ea.call(this,a);this.vectorContext=c;this.frameState=d;this.context=e;this.glContext=f}u(ld,Ea);function md(){}p=md.prototype;p.ld=function(){};p.setStyle=function(){};p.zc=function(){};p.Ac=function(){};p.Bc=function(){};p.Cc=function(){};p.Dc=function(){};p.Ec=function(){};p.Fc=function(){};p.Ma=function(){};p.Ia=function(){};p.Mb=function(){};p.Aa=function(){};function nd(){return[1,0,0,1,0,0]}function od(a,c){a[0]=c[0];a[1]=c[1];a[2]=c[2];a[3]=c[3];a[4]=c[4];a[5]=c[5];return a}function pd(a,c){var d=c[0],e=c[1];c[0]=a[0]*d+a[2]*e+a[4];c[1]=a[1]*d+a[3]*e+a[5];return c}function qd(a,c,d,e,f,g,h,k){var l=Math.sin(g);g=Math.cos(g);a[0]=e*g;a[1]=f*l;a[2]=-e*l;a[3]=f*g;a[4]=h*e*g-k*e*l+c;a[5]=h*f*l+k*f*g+d;return a};function rd(a,c,d,e,f){this.g=a;this.i=c;this.f=d;this.o=e;this.Wb=f;this.R=this.b=this.a=this.Y=this.S=this.K=null;this.Ka=this.U=this.l=this.G=this.v=this.T=0;this.ma=!1;this.c=this.sa=0;this.Ca=!1;this.N=0;this.O="";this.Sb=this.ub=0;this.Tb=!1;this.C=this.Ub=0;this.la=this.j=this.w=null;this.L=[];this.Vb=nd()}u(rd,md);
function sd(a,c,d){if(a.R){c=Mc(c,0,d,2,a.o,a.L);d=a.g;var e=a.Vb,f=d.globalAlpha;1!=a.l&&(d.globalAlpha=f*a.l);var g=a.sa;a.ma&&(g+=a.Wb);var h;var k=0;for(h=c.length;k<h;k+=2){var l=c[k]-a.T,m=c[k+1]-a.v;a.Ca&&(l=Math.round(l),m=Math.round(m));if(0!==g||1!=a.c){var n=l+a.T,q=m+a.v;qd(e,n,q,a.c,a.c,g,-n,-q);d.setTransform.apply(d,e)}d.drawImage(a.R,a.U,a.Ka,a.N,a.G,l,m,a.N,a.G)}0===g&&1==a.c||d.setTransform(1,0,0,1,0,0);1!=a.l&&(d.globalAlpha=f)}}
function td(a,c,d,e){var f=0;if(a.la&&""!==a.O){a.w&&ud(a,a.w);a.j&&vd(a,a.j);var g=a.la,h=a.g,k=a.Y;k?(k.font!=g.font&&(k.font=h.font=g.font),k.textAlign!=g.textAlign&&(k.textAlign=h.textAlign=g.textAlign),k.textBaseline!=g.textBaseline&&(k.textBaseline=h.textBaseline=g.textBaseline)):(h.font=g.font,h.textAlign=g.textAlign,h.textBaseline=g.textBaseline,a.Y={font:g.font,textAlign:g.textAlign,textBaseline:g.textBaseline});c=Mc(c,f,d,e,a.o,a.L);g=a.g;h=a.Ub;for(a.Tb&&(h+=a.Wb);f<d;f+=e){k=c[f]+a.ub;
var l=c[f+1]+a.Sb;if(0!==h||1!=a.C){var m=qd(a.Vb,k,l,a.C,a.C,h,-k,-l);g.setTransform.apply(g,m)}a.j&&g.strokeText(a.O,k,l);a.w&&g.fillText(a.O,k,l)}0===h&&1==a.C||g.setTransform(1,0,0,1,0,0)}}function wd(a,c,d,e,f,g){var h=a.g;a=Mc(c,d,e,f,a.o,a.L);h.moveTo(a[0],a[1]);c=a.length;g&&(c-=2);for(d=2;d<c;d+=2)h.lineTo(a[d],a[d+1]);g&&h.closePath();return e}function xd(a,c,d,e,f){var g;var h=0;for(g=e.length;h<g;++h)d=wd(a,c,d,e[h],f,!0);return d}p=rd.prototype;
p.zc=function(a){if(fb(this.f,a.A())){if(this.a||this.b){this.a&&ud(this,this.a);this.b&&vd(this,this.b);var c=(c=a.u)?Mc(c,0,c.length,a.B,this.o,this.L):null;var d=c[2]-c[0],e=c[3]-c[1];d=Math.sqrt(d*d+e*e);e=this.g;e.beginPath();e.arc(c[0],c[1],d,0,2*Math.PI);this.a&&e.fill();this.b&&e.stroke()}""!==this.O&&td(this,a.getCenter(),2,2)}};p.setStyle=function(a){this.Ia(a.na(),a.ea());this.Mb(a.da());this.Aa(a.O)};
p.Ec=function(a){var c=a.u;a=a.B;this.R&&sd(this,c,c.length);""!==this.O&&td(this,c,c.length,a)};p.Cc=function(a){var c=a.u;a=a.B;this.R&&sd(this,c,c.length);""!==this.O&&td(this,c,c.length,a)};p.Ac=function(a){if(fb(this.f,a.A())){if(this.b){vd(this,this.b);var c=this.g,d=a.u;c.beginPath();wd(this,d,0,d.length,a.B,!1);c.stroke()}""!==this.O&&(a=ad(a),td(this,a,2,2))}};
p.Bc=function(a){var c=a.A();if(fb(this.f,c)){if(this.b){vd(this,this.b);c=this.g;var d=a.u,e=0,f=a.hb(),g=a.B;c.beginPath();var h;var k=0;for(h=f.length;k<h;++k)e=wd(this,d,e,f[k],g,!1);c.stroke()}""!==this.O&&(a=yd(a),td(this,a,a.length,2))}};p.Fc=function(a){if(fb(this.f,a.A())){if(this.b||this.a){this.a&&ud(this,this.a);this.b&&vd(this,this.b);var c=this.g;c.beginPath();xd(this,zd(a),0,a.hb(),a.B);this.a&&c.fill();this.b&&c.stroke()}""!==this.O&&(a=Ad(a),td(this,a,2,2))}};
p.Dc=function(a){if(fb(this.f,a.A())){if(this.b||this.a){this.a&&ud(this,this.a);this.b&&vd(this,this.b);var c=this.g,d=Bd(a),e=0,f=a.a,g=a.B,h;c.beginPath();var k=0;for(h=f.length;k<h;++k)e=xd(this,d,e,f[k],g);this.a&&c.fill();this.b&&c.stroke()}""!==this.O&&(a=Cd(a),td(this,a,a.length,2))}};function ud(a,c){var d=a.g,e=a.K;e?e.fillStyle!=c.fillStyle&&(e.fillStyle=d.fillStyle=c.fillStyle):(d.fillStyle=c.fillStyle,a.K={fillStyle:c.fillStyle})}
function vd(a,c){var d=a.g,e=a.S;e?(e.lineCap!=c.lineCap&&(e.lineCap=d.lineCap=c.lineCap),ec&&(Gc(e.J,c.J)||d.setLineDash(e.J=c.J),e.lineDashOffset!=c.lineDashOffset&&(e.lineDashOffset=d.lineDashOffset=c.lineDashOffset)),e.lineJoin!=c.lineJoin&&(e.lineJoin=d.lineJoin=c.lineJoin),e.lineWidth!=c.lineWidth&&(e.lineWidth=d.lineWidth=c.lineWidth),e.miterLimit!=c.miterLimit&&(e.miterLimit=d.miterLimit=c.miterLimit),e.strokeStyle!=c.strokeStyle&&(e.strokeStyle=d.strokeStyle=c.strokeStyle)):(d.lineCap=c.lineCap,
ec&&(d.setLineDash(c.J),d.lineDashOffset=c.lineDashOffset),d.lineJoin=c.lineJoin,d.lineWidth=c.lineWidth,d.miterLimit=c.miterLimit,d.strokeStyle=c.strokeStyle,a.S={lineCap:c.lineCap,J:c.J,lineDashOffset:c.lineDashOffset,lineJoin:c.lineJoin,lineWidth:c.lineWidth,miterLimit:c.miterLimit,strokeStyle:c.strokeStyle})}
p.Ia=function(a,c){a?(a=a.ia(),this.a={fillStyle:Wb(a?a:kc)}):this.a=null;if(c){a=c.ia();var d=c.Da,e=c.getLineDash(),f=c.Ea,g=c.Fa,h=c.qa();c=c.Ga;this.b={lineCap:void 0!==d?d:"round",J:e?e:lc,lineDashOffset:f?f:0,lineJoin:void 0!==g?g:"round",lineWidth:this.i*(void 0!==h?h:1),miterLimit:void 0!==c?c:10,strokeStyle:Wb(a?a:mc)}}else this.b=null};
p.Mb=function(a){if(a){var c=a.L,d=a.da(1),e=a.o,f=a.ya();this.T=c[0];this.v=c[1];this.G=f[1];this.R=d;this.l=a.i;this.U=e[0];this.Ka=e[1];this.ma=a.Jb;this.sa=a.X();this.c=a.Na*this.i;this.Ca=a.j;this.N=f[0]}else this.R=null};
p.Aa=function(a){if(a){var c=a.na();c?(c=c.ia(),this.w={fillStyle:Wb(c?c:kc)}):this.w=null;var d=a.ea();if(d){c=d.ia();var e=d.Da,f=d.getLineDash(),g=d.Ea,h=d.Fa,k=d.qa();d=d.Ga;this.j={lineCap:void 0!==e?e:"round",J:f?f:lc,lineDashOffset:g?g:0,lineJoin:void 0!==h?h:"round",lineWidth:void 0!==k?k:1,miterLimit:void 0!==d?d:10,strokeStyle:Wb(c?c:mc)}}else this.j=null;c=a.ke();e=a.le();f=a.me();g=a.Jb;h=a.X();k=a.Na;d=a.O;var l=a.oe();a=a.pe();this.la={font:void 0!==c?c:"10px sans-serif",textAlign:void 0!==
l?l:"center",textBaseline:void 0!==a?a:"middle"};this.O=void 0!==d?d:"";this.ub=void 0!==e?this.i*e:0;this.Sb=void 0!==f?this.i*f:0;this.Tb=void 0!==g?g:!1;this.Ub=void 0!==h?h:0;this.C=this.i*(void 0!==k?k:1)}else this.O=""};function Dd(a){Ia.call(this);this.G=a}u(Dd,Ia);function Ed(a,c,d){return function(e,f){return Fd(a,c,e,f,function(a){d[e]||(d[e]={});d[e][a.Ba.toString()]=a})}}Dd.prototype.xa=function(){return this.G};function Gd(a,c){c.Ad()&&(c=function(a,c,f){c=B(a).toString();c in f.nc&&a.gb(f.Z.projection,f.nc[c])}.bind(null,c),a.gc.push(c))}function Hd(a,c){if(c){var d;var e=0;for(d=c.length;e<d;++e){var f=c[e];a[B(f).toString()]=f}}}
function Id(a,c){c=c.Y;void 0!==c&&("string"===typeof c?a.ob[c]="":c&&(C("string"==typeof c.href,44),C("string"==typeof c.src,45),a.ob[c.src]=c.href))};function Jd(a){Dd.call(this,a);this.N=nd()}u(Jd,Dd);function Kd(a,c,d){var e=c.ka,f=c.size[0]*e,g=c.size[1]*e,h=c.Z.rotation,k=[d[0],d[3]],l=[d[2],d[3]],m=[d[2],d[1]];d=[d[0],d[1]];pd(c.fb,k);pd(c.fb,l);pd(c.fb,m);pd(c.fb,d);a.save();nc(a,-h,f/2,g/2);a.beginPath();a.moveTo(k[0]*e,k[1]*e);a.lineTo(l[0]*e,l[1]*e);a.lineTo(m[0]*e,m[1]*e);a.lineTo(d[0]*e,d[1]*e);a.clip();nc(a,h,f/2,g/2)}
function Ld(a,c,d,e,f){var g=a.xa();if(Ha(g,c)){var h=e.size[0]*e.ka,k=e.size[1]*e.ka,l=e.Z.rotation;nc(d,-l,h/2,k/2);a=void 0!==f?f:Md(a,e,0);K(g,new ld(c,new rd(d,e.ka,e.extent,a,e.Z.rotation),e,d,null));nc(d,l,h/2,k/2)}}function Md(a,c,d){var e=c.Z,f=c.ka,g=f/e.resolution;return qd(a.N,f*c.size[0]/2,f*c.size[1]/2,g,-g,-e.rotation,-e.center[0]+d,-e.center[1])};function Nd(a){Jd.call(this,a);this.o=nd()}u(Nd,Jd);Nd.prototype.i=function(a,c,d){Ld(this,"precompose",d,a,void 0);var e=this.da();if(e){var f=c.extent,g=void 0!==f&&!Sa(f,a.extent)&&fb(f,a.extent);g&&Kd(d,a,f);f=this.j;var h=d.globalAlpha;d.globalAlpha=c.opacity;d.drawImage(e,0,0,+e.width,+e.height,Math.round(f[4]),Math.round(f[5]),Math.round(e.width*f[0]),Math.round(e.height*f[3]));d.globalAlpha=h;g&&d.restore()}Ld(this,"postcompose",d,a,void 0)};var Od="Polygon Circle LineString Image Text Default".split(" ");function Pd(){};function Qd(a,c,d,e){for(var f=0,g=a[d-e],h=a[d-e+1];c<d;c+=e){var k=a[c],l=a[c+1];f+=(k-g)*(l+h);g=k;h=l}return 0<f}function Rd(a,c,d,e){var f=0;e=void 0!==e?e:!1;var g;var h=0;for(g=c.length;h<g;++h){var k=c[h];f=Qd(a,f,k,d);if(0===h){if(e&&f||!e&&!f)return!1}else if(e&&!f||!e&&f)return!1;f=k}return!0}
function Sd(a,c,d,e,f){f=void 0!==f?f:!1;var g;var h=0;for(g=d.length;h<g;++h){var k=d[h],l=Qd(a,c,k,e);if(0===h?f&&l||!f&&!l:f&&!l||!f&&l){l=a;for(var m=k,n=e;c<m-n;){var q;for(q=0;q<n;++q){var r=l[c+q];l[c+q]=l[m-n+q];l[m-n+q]=r}c+=n;m-=n}}c=k}return c};fd.Kb=function(){};
(function(a){function c(a,f,g,h,k){g=g||0;h=h||a.length-1;for(k=k||e;h>g;){if(600<h-g){var l=h-g+1,m=f-g+1,n=Math.log(l),q=.5*Math.exp(2*n/3);n=.5*Math.sqrt(n*q*(l-q)/l)*(0>m-l/2?-1:1);c(a,f,Math.max(g,Math.floor(f-m*q/l+n)),Math.min(h,Math.floor(f+(l-m)*q/l+n)),k)}l=a[f];m=g;q=h;d(a,g,f);for(0<k(a[h],l)&&d(a,g,h);m<q;){d(a,m,q);m++;for(q--;0>k(a[m],l);)m++;for(;0<k(a[q],l);)q--}0===k(a[g],l)?d(a,g,q):(q++,d(a,q,h));q<=f&&(g=q+1);f<=q&&(h=q-1)}}function d(a,c,d){var e=a[c];a[c]=a[d];a[d]=e}function e(a,
c){return a<c?-1:a>c?1:0}function f(a,c){if(!(this instanceof f))return new f(a,c);this.rc=Math.max(4,a||9);this.bd=Math.max(2,Math.ceil(.4*this.rc));c&&this.Yd(c);this.clear()}function g(a,c){h(a,0,a.children.length,c,a)}function h(a,c,d,e,f){f||(f=z(null));f.D=Infinity;f.F=Infinity;f.H=-Infinity;f.I=-Infinity;for(var g;c<d;c++)g=a.children[c],k(f,a.fa?e(g):g);return f}function k(a,c){a.D=Math.min(a.D,c.D);a.F=Math.min(a.F,c.F);a.H=Math.max(a.H,c.H);a.I=Math.max(a.I,c.I)}function l(a,c){return a.D-
c.D}function m(a,c){return a.F-c.F}function n(a){return(a.H-a.D)*(a.I-a.F)}function q(a){return a.H-a.D+(a.I-a.F)}function r(a,c){return a.D<=c.D&&a.F<=c.F&&c.H<=a.H&&c.I<=a.I}function x(a,c){return c.D<=a.H&&c.F<=a.I&&c.H>=a.D&&c.I>=a.F}function z(a){return{children:a,height:1,fa:!0,D:Infinity,F:Infinity,H:-Infinity,I:-Infinity}}function A(a,c,d,e,f){for(var g=[c,d],h;g.length;)d=g.pop(),c=g.pop(),d-c<=e||(h=c+Math.ceil((d-c)/e/2)*e,y(a,h,c,d,f),g.push(c,h,h,d))}var y=c;f.prototype={all:function(){return this.Xc(this.data,
[])},search:function(a){var c=this.data,d=[],e=this.oa;if(!x(a,c))return d;for(var f=[],g,h,k,l;c;){g=0;for(h=c.children.length;g<h;g++)k=c.children[g],l=c.fa?e(k):k,x(a,l)&&(c.fa?d.push(k):r(a,l)?this.Xc(k,d):f.push(k));c=f.pop()}return d},load:function(a){if(!a||!a.length)return this;if(a.length<this.bd){for(var c=0,d=a.length;c<d;c++)this.insert(a[c]);return this}a=this.Zc(a.slice(),0,a.length-1,0);this.data.children.length?this.data.height===a.height?this.ed(this.data,a):(this.data.height<a.height&&
(c=this.data,this.data=a,a=c),this.ad(a,this.data.height-a.height-1,!0)):this.data=a;return this},insert:function(a){a&&this.ad(a,this.data.height-1);return this},clear:function(){this.data=z([]);return this},remove:function(a,c){if(!a)return this;for(var d=this.data,e=this.oa(a),f=[],g=[],h,k,l,m;d||f.length;){d||(d=f.pop(),k=f[f.length-1],h=g.pop(),m=!0);if(d.fa){a:{l=a;var n=d.children,q=c;if(q){for(var v=0;v<n.length;v++)if(q(l,n[v])){l=v;break a}l=-1}else l=n.indexOf(l)}if(-1!==l){d.children.splice(l,
1);f.push(d);this.Wd(f);break}}m||d.fa||!r(d,e)?k?(h++,d=k.children[h],m=!1):d=null:(f.push(d),g.push(h),h=0,k=d,d=d.children[0])}return this},oa:function(a){return a},uc:l,vc:m,toJSON:function(){return this.data},Xc:function(a,c){for(var d=[];a;)a.fa?c.push.apply(c,a.children):d.push.apply(d,a.children),a=d.pop();return c},Zc:function(a,c,d,e){var f=d-c+1,h=this.rc;if(f<=h){var k=z(a.slice(c,d+1));g(k,this.oa);return k}e||(e=Math.ceil(Math.log(f)/Math.log(h)),h=Math.ceil(f/Math.pow(h,e-1)));k=z([]);
k.fa=!1;k.height=e;f=Math.ceil(f/h);h=f*Math.ceil(Math.sqrt(h));var l;for(A(a,c,d,h,this.uc);c<=d;c+=h){var m=Math.min(c+h-1,d);A(a,c,m,f,this.vc);for(l=c;l<=m;l+=f){var n=Math.min(l+f-1,m);k.children.push(this.Zc(a,l,n,e-1))}}g(k,this.oa);return k},Vd:function(a,c,d,e){for(var f,g,h,k,l,m,q,v;;){e.push(c);if(c.fa||e.length-1===d)break;q=v=Infinity;f=0;for(g=c.children.length;f<g;f++)h=c.children[f],l=n(h),m=(Math.max(h.H,a.H)-Math.min(h.D,a.D))*(Math.max(h.I,a.I)-Math.min(h.F,a.F))-l,m<v?(v=m,q=
l<q?l:q,k=h):m===v&&l<q&&(q=l,k=h);c=k||c.children[0]}return c},ad:function(a,c,d){var e=this.oa;d=d?a:e(a);e=[];var f=this.Vd(d,this.data,c,e);f.children.push(a);for(k(f,d);0<=c;)if(e[c].children.length>this.rc)this.ae(e,c),c--;else break;this.Sd(d,e,c)},ae:function(a,c){var d=a[c],e=d.children.length,f=this.bd;this.Td(d,f,e);e=this.Ud(d,f,e);e=z(d.children.splice(e,d.children.length-e));e.height=d.height;e.fa=d.fa;g(d,this.oa);g(e,this.oa);c?a[c-1].children.push(e):this.ed(d,e)},ed:function(a,c){this.data=
z([a,c]);this.data.height=a.height+1;this.data.fa=!1;g(this.data,this.oa)},Ud:function(a,c,d){var e,f;var g=f=Infinity;for(e=c;e<=d-c;e++){var k=h(a,0,e,this.oa);var l=h(a,e,d,this.oa);var m=Math.max(0,Math.min(k.H,l.H)-Math.max(k.D,l.D))*Math.max(0,Math.min(k.I,l.I)-Math.max(k.F,l.F));k=n(k)+n(l);if(m<g){g=m;var q=e;f=k<f?k:f}else m===g&&k<f&&(f=k,q=e)}return q},Td:function(a,c,d){var e=a.fa?this.uc:l,f=a.fa?this.vc:m,g=this.Yc(a,c,d,e);c=this.Yc(a,c,d,f);g<c&&a.children.sort(e)},Yc:function(a,c,
d,e){a.children.sort(e);e=this.oa;var f=h(a,0,c,e),g=h(a,d-c,d,e),l=q(f)+q(g),m;for(m=c;m<d-c;m++){var n=a.children[m];k(f,a.fa?e(n):n);l+=q(f)}for(m=d-c-1;m>=c;m--)n=a.children[m],k(g,a.fa?e(n):n),l+=q(g);return l},Sd:function(a,c,d){for(;0<=d;d--)k(c[d],a)},Wd:function(a){for(var c=a.length-1,d;0<=c;c--)0===a[c].children.length?0<c?(d=a[c-1].children,d.splice(d.indexOf(a[c]),1)):this.clear():g(a[c],this.oa)},Yd:function(a){var c=["return a"," - b",";"];this.uc=new Function("a","b",c.join(a[0]));
this.vc=new Function("a","b",c.join(a[1]));this.oa=new Function("a","return {minX: a"+a[0]+", minY: a"+a[1]+", maxX: a"+a[2]+", maxY: a"+a[3]+"};")}};a["default"]=f})(fd.Kb=fd.Kb||{});fd.Kb=fd.Kb.default;function Td(a){this.a=fd.Kb(a);this.b={}}p=Td.prototype;p.insert=function(a,c){a={D:a[0],F:a[1],H:a[2],I:a[3],value:c};this.a.insert(a);this.b[B(c)]=a};p.load=function(a,c){for(var d=Array(c.length),e=0,f=c.length;e<f;e++){var g=a[e],h=c[e];g={D:g[0],F:g[1],H:g[2],I:g[3],value:h};d[e]=g;this.b[B(h)]=g}this.a.load(d)};p.remove=function(a){a=B(a);var c=this.b[a];delete this.b[a];return null!==this.a.remove(c)};function Ud(a){return a.a.all().map(function(a){return a.value})}
function Vd(a,c){return a.a.search({D:c[0],F:c[1],H:c[2],I:c[3]}).map(function(a){return a.value})}p.forEach=function(a,c){return Wd(Ud(this),a,c)};function Xd(a,c,d,e){return Wd(Vd(a,c),d,e)}function Wd(a,c,d){for(var e,f=0,g=a.length;f<g&&!(e=c.call(d,a[f]));f++);return e}p.clear=function(){this.a.clear();this.b={}};p.A=function(a){var c=this.a.data;return Ua(c.D,c.F,c.H,c.I,a)};p.concat=function(a){this.a.load(a.a.all());for(var c in a.b)this.b[c|0]=a.b[c|0]};function Yd(a,c,d,e){this.tolerance=a;this.Y=c;this.Oc=e;this.c=0;this.resolution=d;this.la=this.N=null;this.instructions=[];this.a=[];this.ma={};this.U=nd();this.b=[];this.G=null;this.sa=nd();this.Ka=nd()}u(Yd,md);
function Zd(a,c,d,e,f,g,h){var k=a.a.length,l=a.Gc();h&&(d+=f);h=[c[d],c[d+1]];var m=[NaN,NaN],n=!0,q;for(q=d+f;q<e;q+=f){m[0]=c[q];m[1]=c[q+1];var r=l[1];var x=l[2],z=l[3],A=m[0],y=m[1],v=0;A<l[0]?v|=16:A>x&&(v|=4);y<r?v|=8:y>z&&(v|=2);0===v&&(v=1);r=v;r!==H?(n&&(a.a[k++]=h[0],a.a[k++]=h[1]),a.a[k++]=m[0],a.a[k++]=m[1],n=!1):1===r?(a.a[k++]=m[0],a.a[k++]=m[1],n=!1):n=!0;h[0]=m[0];h[1]=m[1];var H=r}if(g&&n||q===d+f)a.a[k++]=h[0],a.a[k++]=h[1];return k}
function $d(a,c,d,e,f,g){for(var h=0,k=e.length;h<k;++h){var l=e[h];d=Zd(a,c,d,l,f,!1,!1);g.push(d);d=l}return d}
Yd.prototype.ld=function(a,c,d){ae(this,c);var e=a.getType(),f=a.B,g=this.a.length,h;if("MultiPolygon"==e){e=Bd(a);var k=[];for(var l=a.a,m=h=0,n=l.length;m<n;++m){var q=[];h=$d(this,e,h,l[m],f,q);k.push(q)}this.instructions.push([4,g,k,a,d,Vc])}else"Polygon"==e||"MultiLineString"==e?(k=[],e="Polygon"==e?zd(a):a.u,$d(this,e,0,a.hb(),f,k),this.instructions.push([4,g,k,a,d,Uc])):"LineString"==e||"MultiPoint"==e?(e=a.u,f=Zd(this,e,0,e.length,f,!1,!1),this.instructions.push([4,g,f,a,d,Tc])):"Point"==
e&&(e=a.u,this.a.push(e[0],e[1]),f=this.a.length,this.instructions.push([4,g,f,a,d]));be(this,c)};function ae(a,c){a.N=[0,c,0];a.instructions.push(a.N);a.la=[0,c,0];a.b.push(a.la)}Yd.prototype.ha=function(a,c){if(this.S){var d=pd(this.U,this.S.slice());a.translate(d[0],d[1]);a.rotate(c)}a.fill();this.S&&a.setTransform.apply(a,this.Ka)};
function ce(a,c,d,e,f,g,h){if(a.G&&Gc(e,a.U))var k=a.G;else a.G||(a.G=[]),k=Mc(a.a,0,a.a.length,2,e,a.G),od(a.U,e);e=!ta(g);for(var l=0,m=h.length,n=0,q,r=a.sa,x=a.Ka,z,A,y,v,H=0,G=0,R=a.ma,O={context:c,ka:d,resolution:a.resolution,rotation:f},J=a.instructions!=h||a.Oc?0:200;l<m;){var t=h[l];switch(t[0]){case 0:var E=t[1];e&&g[B(E).toString()]||!E.getGeometry()?l=t[2]:++l;break;case 1:H>J&&(a.ha(c,f),H=0);G>J&&(c.stroke(),G=0);H||G||(c.beginPath(),z=A=NaN);++l;break;case 2:n=t[1];q=k[n];t=k[n+1];
y=k[n+2]-q;n=k[n+3]-t;n=Math.sqrt(y*y+n*n);c.moveTo(q+n,t);c.arc(q,t,n,0,2*Math.PI,!0);++l;break;case 3:c.closePath();++l;break;case 4:n=t[1];q=t[2];y=t[4];v=6==t.length?t[5]:void 0;O.geometry=t[3];O.feature=E;l in R||(R[l]=[]);t=R[l];v?v(k,n,q,2,t):(t[0]=k[n],t[1]=k[n+1],t.length=2);y(t,O);++l;break;case 5:n=t[1];q=t[2];var L=t[3];var D=t[4]*d;var ba=t[5]*d;var P=t[6],Z=t[7],X=t[8],Ca=t[9];var Y=t[10];y=t[11];v=t[12];var Eb=t[13],xa=t[14];for(Y&&(y+=f);n<q;n+=2){t=k[n]-D;Y=k[n+1]-ba;Eb&&(t=Math.round(t),
Y=Math.round(Y));if(1!=v||0!==y){var qa=t+D,Kc=Y+ba;qd(r,qa,Kc,v,v,y,-qa,-Kc);c.setTransform.apply(c,r)}qa=c.globalAlpha;1!=Z&&(c.globalAlpha=qa*Z);Kc=xa+X>L.width?L.width-X:xa;var Dg=P+Ca>L.height?L.height-Ca:P;c.drawImage(L,X,Ca,Kc,Dg,t,Y,Kc*d,Dg*d);1!=Z&&(c.globalAlpha=qa);1==v&&0===y||c.setTransform.apply(c,x)}++l;break;case 6:n=t[1];q=t[2];ba=t[3];P=t[4]*d;Z=t[5]*d;y=t[6];v=t[7]*d;L=t[8];D=t[9];for((Y=t[10])&&(y+=f);n<q;n+=2){t=k[n]+P;Y=k[n+1]+Z;if(1!=v||0!==y)qd(r,t,Y,v,v,y,-t,-Y),c.setTransform.apply(c,
r);X=ba.split("\n");Ca=X.length;1<Ca?(Eb=Math.round(1.5*c.measureText("M").width),Y-=(Ca-1)/2*Eb):Eb=0;for(xa=0;xa<Ca;xa++)qa=X[xa],D&&c.strokeText(qa,t,Y),L&&c.fillText(qa,t,Y),Y+=Eb;1==v&&0===y||c.setTransform.apply(c,x)}++l;break;case 7:++l;break;case 8:J?H++:a.ha(c,f);++l;break;case 9:n=t[1];q=t[2];t=k[n];Y=k[n+1];y=t+.5|0;v=Y+.5|0;if(y!==z||v!==A)c.moveTo(t,Y),z=y,A=v;for(n+=2;n<q;n+=2)if(t=k[n],Y=k[n+1],y=t+.5|0,v=Y+.5|0,n==q-2||y!==z||v!==A)c.lineTo(t,Y),z=y,A=v;++l;break;case 10:a.S=t[2];
H&&(a.ha(c,f),H=0,G&&(c.stroke(),G=0));c.fillStyle=t[1];++l;break;case 11:n=void 0!==t[8]?t[8]:!0;var ue=t[9];q=t[2];G&&(c.stroke(),G=0);c.strokeStyle=t[1];c.lineWidth=n?q*d:q;c.lineCap=t[3];c.lineJoin=t[4];c.miterLimit=t[5];ec&&(q=t[6],y=t[7],n&&d!==ue&&(q=q.map(function(a){return a*d/ue}),y*=d/ue,t[6]=q,t[7]=y,t[9]=d),c.lineDashOffset=y,c.setLineDash(q));++l;break;case 12:c.font=t[1];c.textAlign=t[2];c.textBaseline=t[3];++l;break;case 13:J?G++:c.stroke();++l;break;default:++l}}H&&a.ha(c,f);G&&c.stroke()}
function de(a){var c=a.b;c.reverse();var d,e=c.length,f=-1;for(d=0;d<e;++d){var g=c[d];var h=g[0];if(7==h)f=d;else if(0==h){g[2]=d;g=a.b;for(h=d;f<h;){var k=g[f];g[f]=g[h];g[h]=k;++f;--h}f=-1}}}function be(a,c){a.N[2]=a.instructions.length;a.N=null;a.la[2]=a.b.length;a.la=null;c=[7,c];a.instructions.push(c);a.b.push(c)}Yd.prototype.fc=w;Yd.prototype.Gc=function(){return this.Y};function ee(a,c,d,e){Yd.call(this,a,c,d,e);this.R=this.K=null;this.o=this.L=this.l=this.j=this.C=this.v=this.T=this.w=this.i=this.f=this.g=void 0}u(ee,Yd);ee.prototype.Ec=function(a,c){if(this.R){ae(this,c);var d=a.u,e=this.a.length;a=Zd(this,d,0,d.length,a.B,!1,!1);this.instructions.push([5,e,a,this.R,this.g,this.f,this.i,this.w,this.T,this.v,this.C,this.j,this.l,this.L,this.o]);this.b.push([5,e,a,this.K,this.g,this.f,this.i,this.w,this.T,this.v,this.C,this.j,this.l,this.L,this.o]);be(this,c)}};
ee.prototype.Cc=function(a,c){if(this.R){ae(this,c);var d=a.u,e=this.a.length;a=Zd(this,d,0,d.length,a.B,!1,!1);this.instructions.push([5,e,a,this.R,this.g,this.f,this.i,this.w,this.T,this.v,this.C,this.j,this.l,this.L,this.o]);this.b.push([5,e,a,this.K,this.g,this.f,this.i,this.w,this.T,this.v,this.C,this.j,this.l,this.L,this.o]);be(this,c)}};ee.prototype.fc=function(){de(this);this.f=this.g=void 0;this.R=this.K=null;this.o=this.L=this.j=this.C=this.v=this.T=this.w=this.l=this.i=void 0};
ee.prototype.Mb=function(a){var c=a.L,d=a.ya(),e=a.C,f=a.da(1),g=a.o;this.g=c[0];this.f=c[1];this.K=e;this.R=f;this.i=d[1];this.w=a.i;this.T=g[0];this.v=g[1];this.C=a.Jb;this.j=a.X();this.l=a.Na;this.L=a.j;this.o=d[0]};function fe(a,c,d,e){Yd.call(this,a,c,d,e);this.f=null;this.g={Bb:void 0,vb:void 0,wb:null,xb:void 0,yb:void 0,zb:void 0,Ab:void 0,nb:void 0,strokeStyle:void 0,lineCap:void 0,J:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0}}u(fe,Yd);function ge(a,c,d,e,f){var g=a.a.length;c=Zd(a,c,d,e,f,!1,!1);g=[9,g,c];a.instructions.push(g);a.b.push(g);return e}p=fe.prototype;p.Gc=function(){this.f||(this.f=Ra(this.Y),0<this.c&&Qa(this.f,this.resolution*(this.c+1)/2,this.f));return this.f};
function he(a){var c=a.g,d=c.strokeStyle,e=c.lineCap,f=c.J,g=c.lineDashOffset,h=c.lineJoin,k=c.lineWidth,l=c.miterLimit;c.Bb==d&&c.vb==e&&Gc(c.wb,f)&&c.xb==g&&c.yb==h&&c.zb==k&&c.Ab==l||(void 0!=c.nb&&c.nb!=a.a.length&&(a.instructions.push([13]),c.nb=a.a.length),c.nb=0,a.instructions.push([11,d,k,e,h,l,f,g,!0,1],[1]),c.Bb=d,c.vb=e,c.wb=f,c.xb=g,c.yb=h,c.zb=k,c.Ab=l)}
p.Ac=function(a,c){var d=this.g,e=d.lineWidth;void 0!==d.strokeStyle&&void 0!==e&&(he(this),ae(this,c),this.b.push([11,d.strokeStyle,d.lineWidth,d.lineCap,d.lineJoin,d.miterLimit,d.J,d.lineDashOffset,!0,1],[1]),d=a.u,ge(this,d,0,d.length,a.B),this.b.push([13]),be(this,c))};
p.Bc=function(a,c){var d=this.g,e=d.lineWidth;if(void 0!==d.strokeStyle&&void 0!==e){he(this);ae(this,c);this.b.push([11,d.strokeStyle,d.lineWidth,d.lineCap,d.lineJoin,d.miterLimit,d.J,d.lineDashOffset,!0,1],[1]);d=a.hb();e=a.u;a=a.B;var f=0,g;var h=0;for(g=d.length;h<g;++h)f=ge(this,e,f,d[h],a);this.b.push([13]);be(this,c)}};p.fc=function(){var a=this.g;void 0!=a.nb&&a.nb!=this.a.length&&this.instructions.push([13]);de(this);this.g=null};
p.Ia=function(a,c){a=c.ia();this.g.strokeStyle=Wb(a?a:mc);a=c.Da;this.g.lineCap=void 0!==a?a:"round";a=c.getLineDash();this.g.J=a?a:lc;a=c.Ea;this.g.lineDashOffset=a?a:0;a=c.Fa;this.g.lineJoin=void 0!==a?a:"round";a=c.qa();this.g.lineWidth=void 0!==a?a:1;c=c.Ga;this.g.miterLimit=void 0!==c?c:10;this.g.lineWidth>this.c&&(this.c=this.g.lineWidth,this.f=null)};function ie(a,c,d,e){Yd.call(this,a,c,d,e);this.f=null;this.g={kd:void 0,Bb:void 0,vb:void 0,wb:null,xb:void 0,yb:void 0,zb:void 0,Ab:void 0,fillStyle:void 0,strokeStyle:void 0,lineCap:void 0,J:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0}}u(ie,Yd);
function je(a,c,d,e,f){var g=a.g,h=void 0!==g.fillStyle;g=void 0!=g.strokeStyle;var k=e.length,l=[1];a.instructions.push(l);a.b.push(l);for(l=0;l<k;++l){var m=e[l],n=a.a.length;d=Zd(a,c,d,m,f,!0,!g);d=[9,n,d];a.instructions.push(d);a.b.push(d);g&&(d=[3],a.instructions.push(d),a.b.push(d));d=m}c=[8];a.b.push(c);h&&a.instructions.push(c);g&&(h=[13],a.instructions.push(h),a.b.push(h));return d}p=ie.prototype;
p.zc=function(a,c){var d=this.g,e=d.strokeStyle;if(void 0!==d.fillStyle||void 0!==e){ke(this,a);ae(this,c);this.b.push([10,Vb(kc)]);void 0!==d.strokeStyle&&this.b.push([11,d.strokeStyle,d.lineWidth,d.lineCap,d.lineJoin,d.miterLimit,d.J,d.lineDashOffset,!0,1]);var f=a.u;e=this.a.length;Zd(this,f,0,f.length,a.B,!1,!1);a=[1];e=[2,e];this.instructions.push(a,e);this.b.push(a,e);a=[8];this.b.push(a);void 0!==d.fillStyle&&this.instructions.push(a);void 0!==d.strokeStyle&&(d=[13],this.instructions.push(d),
this.b.push(d));be(this,c)}};p.Fc=function(a,c){var d=this.g;ke(this,a);ae(this,c);this.b.push([10,Vb(kc)]);void 0!==d.strokeStyle&&this.b.push([11,d.strokeStyle,d.lineWidth,d.lineCap,d.lineJoin,d.miterLimit,d.J,d.lineDashOffset,!0,1]);d=a.hb();var e=zd(a);je(this,e,0,d,a.B);be(this,c)};
p.Dc=function(a,c){var d=this.g,e=d.strokeStyle;if(void 0!==d.fillStyle||void 0!==e){ke(this,a);ae(this,c);this.b.push([10,Vb(kc)]);void 0!==d.strokeStyle&&this.b.push([11,d.strokeStyle,d.lineWidth,d.lineCap,d.lineJoin,d.miterLimit,d.J,d.lineDashOffset,!0,1]);d=a.a;e=Bd(a);a=a.B;var f=0,g;var h=0;for(g=d.length;h<g;++h)f=je(this,e,f,d[h],a);be(this,c)}};p.fc=function(){de(this);this.g=null;var a=this.tolerance;if(0!==a){var c=this.a,d;var e=0;for(d=c.length;e<d;++e)c[e]=a*Math.round(c[e]/a)}};
p.Gc=function(){this.f||(this.f=Ra(this.Y),0<this.c&&Qa(this.f,this.resolution*(this.c+1)/2,this.f));return this.f};
p.Ia=function(a,c){var d=this.g;a?(a=a.ia(),d.fillStyle=Wb(a?a:kc)):d.fillStyle=void 0;c?(a=c.ia(),d.strokeStyle=Wb(a?a:mc),a=c.Da,d.lineCap=void 0!==a?a:"round",a=c.getLineDash(),d.J=a?a.slice():lc,a=c.Ea,d.lineDashOffset=a?a:0,a=c.Fa,d.lineJoin=void 0!==a?a:"round",a=c.qa(),d.lineWidth=void 0!==a?a:1,c=c.Ga,d.miterLimit=void 0!==c?c:10,d.lineWidth>this.c&&(this.c=d.lineWidth,this.f=null)):(d.strokeStyle=void 0,d.lineCap=void 0,d.J=null,d.lineDashOffset=void 0,d.lineJoin=void 0,d.lineWidth=void 0,
d.miterLimit=void 0)};function ke(a,c){var d=a.g,e=d.fillStyle,f=d.strokeStyle,g=d.lineCap,h=d.J,k=d.lineDashOffset,l=d.lineJoin,m=d.lineWidth,n=d.miterLimit;if(void 0!==e&&("string"!==typeof e||d.kd!=e)){var q=[10,e];"string"!==typeof e&&(c=c.A(),q.push([c[0],c[3]]));a.instructions.push(q);d.kd=d.fillStyle}void 0===f||d.Bb==f&&d.vb==g&&Gc(d.wb,h)&&d.xb==k&&d.yb==l&&d.zb==m&&d.Ab==n||(a.instructions.push([11,f,m,g,l,n,h,k,!0,1]),d.Bb=f,d.vb=g,d.wb=h,d.xb=k,d.yb=l,d.zb=m,d.Ab=n)};function le(a,c,d,e){Yd.call(this,a,c,d,e);this.v=this.T=this.o=null;this.O="";this.C=this.w=0;this.j=void 0;this.L=this.l=0;this.i=this.f=this.g=null}u(le,Yd);
le.prototype.Ma=function(a,c,d,e,f,g){if(""!==this.O&&this.i&&(this.g||this.f)){if(this.g){f=this.g;var h=this.o;if(!h||h.fillStyle!=f.fillStyle){var k=[10,f.fillStyle];this.instructions.push(k);this.b.push(k);h?h.fillStyle=f.fillStyle:this.o={fillStyle:f.fillStyle}}}this.f&&(f=this.f,h=this.T,h&&h.lineCap==f.lineCap&&h.J==f.J&&h.lineDashOffset==f.lineDashOffset&&h.lineJoin==f.lineJoin&&h.lineWidth==f.lineWidth&&h.miterLimit==f.miterLimit&&h.strokeStyle==f.strokeStyle||(k=[11,f.strokeStyle,f.lineWidth,
f.lineCap,f.lineJoin,f.miterLimit,f.J,f.lineDashOffset,!1,1],this.instructions.push(k),this.b.push(k),h?(h.lineCap=f.lineCap,h.J=f.J,h.lineDashOffset=f.lineDashOffset,h.lineJoin=f.lineJoin,h.lineWidth=f.lineWidth,h.miterLimit=f.miterLimit,h.strokeStyle=f.strokeStyle):this.T={lineCap:f.lineCap,J:f.J,lineDashOffset:f.lineDashOffset,lineJoin:f.lineJoin,lineWidth:f.lineWidth,miterLimit:f.miterLimit,strokeStyle:f.strokeStyle}));f=this.i;h=this.v;h&&h.font==f.font&&h.textAlign==f.textAlign&&h.textBaseline==
f.textBaseline||(k=[12,f.font,f.textAlign,f.textBaseline],this.instructions.push(k),this.b.push(k),h?(h.font=f.font,h.textAlign=f.textAlign,h.textBaseline=f.textBaseline):this.v={font:f.font,textAlign:f.textAlign,textBaseline:f.textBaseline});ae(this,g);f=this.a.length;a=Zd(this,a,c,d,e,!1,!1);a=[6,f,a,this.O,this.w,this.C,this.l,this.L,!!this.g,!!this.f,this.j];this.instructions.push(a);this.b.push(a);be(this,g)}};
le.prototype.Aa=function(a){if(a){var c=a.na();c?(c=c.ia(),c=Wb(c?c:kc),this.g?this.g.fillStyle=c:this.g={fillStyle:c}):this.g=null;var d=a.ea();if(d){c=d.ia();var e=d.Da,f=d.getLineDash(),g=d.Ea,h=d.Fa,k=d.qa();d=d.Ga;e=void 0!==e?e:"round";f=f?f.slice():lc;g=void 0!==g?g:0;h=void 0!==h?h:"round";k=void 0!==k?k:1;d=void 0!==d?d:10;c=Wb(c?c:mc);if(this.f){var l=this.f;l.lineCap=e;l.J=f;l.lineDashOffset=g;l.lineJoin=h;l.lineWidth=k;l.miterLimit=d;l.strokeStyle=c}else this.f={lineCap:e,J:f,lineDashOffset:g,
lineJoin:h,lineWidth:k,miterLimit:d,strokeStyle:c}}else this.f=null;var m=a.ke();c=a.le();e=a.me();f=a.Jb;k=a.X();d=a.Na;g=a.O;h=a.oe();l=a.pe();a=void 0!==m?m:"10px sans-serif";h=void 0!==h?h:"center";l=void 0!==l?l:"middle";this.i?(m=this.i,m.font=a,m.textAlign=h,m.textBaseline=l):this.i={font:a,textAlign:h,textBaseline:l};this.O=void 0!==g?g:"";this.w=void 0!==c?c:0;this.C=void 0!==e?e:0;this.j=void 0!==f?f:!1;this.l=void 0!==k?k:0;this.L=void 0!==d?d:1}else this.O=""};function me(a,c,d,e){this.f=a;this.a=c;this.g=e;this.c=d;this.b={};Xb(1,1)}u(me,Pd);function ne(a){for(var c in a.b){var d=a.b[c],e;for(e in d)d[e].fc()}}function oe(a,c,d){var e=void 0!==c?c.toString():"0";c=a.b[e];void 0===c&&(c={},a.b[e]=c);e=c[d];void 0===e&&(e=new pe[d](a.f,a.a,a.c,a.g),c[d]=e);return e}
function qe(a,c,d,e,f,g){var h=Object.keys(a.b).map(Number);h.sort(Cc);var k=a.a,l=k[0],m=k[1],n=k[2];k=k[3];l=[l,m,l,k,n,k,n,m];Mc(l,0,8,2,e,l);c.save();c.beginPath();c.moveTo(l[0],l[1]);c.lineTo(l[2],l[3]);c.lineTo(l[4],l[5]);c.lineTo(l[6],l[7]);c.clip();l=0;for(m=h.length;l<m;++l){var q=a.b[h[l].toString()];n=0;for(k=Od.length;n<k;++n){var r=q[Od[n]];void 0!==r&&ce(r,c,d,e,f,g,r.instructions)}}c.restore()}var pe={Circle:ie,Default:Yd,Image:ee,LineString:fe,Polygon:ie,Text:le};function re(a,c){return B(a)-B(c)}function se(a,c){a=.5*a/c;return a*a}function te(a,c,d,e){var f=(0,d.Eb)(c);if(f)if(e=f.Kc(e),d.Jc())ve(a,e,d,c);else(0,we[e.getType()])(a,e,d,c);return!1}function ve(a,c,d,e){if("GeometryCollection"==c.getType()){c=xe(c.a);for(var f=0,g=c.length;f<g;++f)ve(a,c[f],d,e)}else oe(a,d.getZIndex(),"Default").ld(c,e,d.Jc())}
var we={Point:function(a,c,d,e){var f=d.da();if(f){var g=oe(a,d.getZIndex(),"Image");g.Mb(f);g.Ec(c,e)}if(f=d.O)a=oe(a,d.getZIndex(),"Text"),a.Aa(f),a.Ma(c.u,0,2,2,c,e)},LineString:function(a,c,d,e){var f=d.ea();if(f){var g=oe(a,d.getZIndex(),"LineString");g.Ia(null,f);g.Ac(c,e)}if(f=d.O)a=oe(a,d.getZIndex(),"Text"),a.Aa(f),a.Ma(ad(c),0,2,2,c,e)},Polygon:function(a,c,d,e){var f=d.na(),g=d.ea();if(f||g){var h=oe(a,d.getZIndex(),"Polygon");h.Ia(f,g);h.Fc(c,e)}if(f=d.O)a=oe(a,d.getZIndex(),"Text"),a.Aa(f),
a.Ma(Ad(c),0,2,2,c,e)},MultiPoint:function(a,c,d,e){var f=d.da();if(f){var g=oe(a,d.getZIndex(),"Image");g.Mb(f);g.Cc(c,e)}if(f=d.O)a=oe(a,d.getZIndex(),"Text"),a.Aa(f),d=c.u,a.Ma(d,0,d.length,c.B,c,e)},MultiLineString:function(a,c,d,e){var f=d.ea();if(f){var g=oe(a,d.getZIndex(),"LineString");g.Ia(null,f);g.Bc(c,e)}if(f=d.O)a=oe(a,d.getZIndex(),"Text"),a.Aa(f),d=yd(c),a.Ma(d,0,d.length,2,c,e)},MultiPolygon:function(a,c,d,e){var f=d.na(),g=d.ea();if(g||f){var h=oe(a,d.getZIndex(),"Polygon");h.Ia(f,
g);h.Dc(c,e)}if(f=d.O)a=oe(a,d.getZIndex(),"Text"),a.Aa(f),d=Cd(c),a.Ma(d,0,d.length,2,c,e)},GeometryCollection:function(a,c,d,e){c=c.a;var f;var g=0;for(f=c.length;g<f;++g)(0,we[c[g].getType()])(a,c[g],d,e)},Circle:function(a,c,d,e){var f=d.na(),g=d.ea();if(f||g){var h=oe(a,d.getZIndex(),"Circle");h.Ia(f,g);h.zc(c,e)}if(f=d.O)a=oe(a,d.getZIndex(),"Text"),a.Aa(f),a.Ma(c.getCenter(),0,2,2,c,e)}};function ye(a,c,d,e){a=d-a;c=e-c;var f=Math.sqrt(a*a+c*c);return[Math.round(d+a/f),Math.round(e+c/f)]}
function ze(a,c,d,e,f,g,h,k,l,m,n){var q=Xb(Math.round(d*a),Math.round(d*c));if(0===l.length)return q.canvas;q.scale(d,d);var r=Oa();l.forEach(function(a){Xa(r,a.extent)});var x=Xb(Math.round(d*ab(r)/e),Math.round(d*bb(r)/e)),z=d/e;l.forEach(function(a){x.drawImage(a.image,m,m,a.image.width-2*m,a.image.height-2*m,(a.extent[0]-r[0])*z,-(a.extent[3]-r[3])*z,ab(a.extent)*z,bb(a.extent)*z)});var A=[h[0],h[3]];k.c.forEach(function(a){var c=a.source,f=a.target,h=c[1][0],k=c[1][1],l=c[2][0],m=c[2][1];a=
(f[0][0]-A[0])/g;var n=-(f[0][1]-A[1])/g,y=(f[1][0]-A[0])/g,z=-(f[1][1]-A[1])/g,D=(f[2][0]-A[0])/g,ba=-(f[2][1]-A[1])/g;f=c[0][0];c=c[0][1];h-=f;k-=c;l-=f;m-=c;a:{h=[[h,k,0,0,y-a],[l,m,0,0,D-a],[0,0,h,k,z-n],[0,0,l,m,ba-n]];k=h.length;for(l=0;l<k;l++){m=l;for(var P=Math.abs(h[l][l]),Z=l+1;Z<k;Z++){var X=Math.abs(h[Z][l]);X>P&&(P=X,m=Z)}if(0===P){h=null;break a}P=h[m];h[m]=h[l];h[l]=P;for(m=l+1;m<k;m++)for(P=-h[m][l]/h[l][l],Z=l;Z<k+1;Z++)h[m][Z]=l==Z?0:h[m][Z]+P*h[l][Z]}l=Array(k);for(m=k-1;0<=m;m--)for(l[m]=
h[m][k]/h[m][m],P=m-1;0<=P;P--)h[P][k]-=h[P][m]*l[m];h=l}h&&(q.save(),q.beginPath(),l=(a+y+D)/3,m=(n+z+ba)/3,k=ye(l,m,a,n),y=ye(l,m,y,z),D=ye(l,m,D,ba),q.moveTo(y[0],y[1]),q.lineTo(k[0],k[1]),q.lineTo(D[0],D[1]),q.clip(),q.transform(h[0],h[2],h[1],h[3],a,n),q.translate(r[0]-f,r[3]-c),q.scale(e/d,-e/d),q.drawImage(x.canvas,0,0),q.restore())});n&&(q.save(),q.strokeStyle="black",q.lineWidth=1,k.c.forEach(function(a){var c=a.target;a=(c[0][0]-A[0])/g;var d=-(c[0][1]-A[1])/g,e=(c[1][0]-A[0])/g,f=-(c[1][1]-
A[1])/g,h=(c[2][0]-A[0])/g;c=-(c[2][1]-A[1])/g;q.beginPath();q.moveTo(e,f);q.lineTo(a,d);q.lineTo(h,c);q.closePath();q.stroke()}),q.restore());return q.canvas};function Ae(a,c,d,e,f){this.g=a;this.f=c;var g={},h=Rb(this.f,this.g);this.a=function(a){var c=a[0]+"/"+a[1];g[c]||(g[c]=h(a));return g[c]};this.i=e;this.l=f*f;this.c=[];this.C=!1;this.j=this.g.b&&!!e&&!!this.g.A()&&ab(e)==ab(this.g.A());this.b=this.g.A()?ab(this.g.A()):null;this.w=this.f.A()?ab(this.f.A()):null;a=[d[0],d[3]];c=[d[2],d[3]];e=[d[2],d[1]];d=[d[0],d[1]];f=this.a(a);var k=this.a(c),l=this.a(e),m=this.a(d);Be(this,a,c,e,d,f,k,l,m,10);if(this.C){var n=Infinity;this.c.forEach(function(a){n=
Math.min(n,a.source[0][0],a.source[1][0],a.source[2][0])});this.c.forEach(function(a){if(Math.max(a.source[0][0],a.source[1][0],a.source[2][0])-n>this.b/2){var c=[[a.source[0][0],a.source[0][1]],[a.source[1][0],a.source[1][1]],[a.source[2][0],a.source[2][1]]];c[0][0]-n>this.b/2&&(c[0][0]-=this.b);c[1][0]-n>this.b/2&&(c[1][0]-=this.b);c[2][0]-n>this.b/2&&(c[2][0]-=this.b);Math.max(c[0][0],c[1][0],c[2][0])-Math.min(c[0][0],c[1][0],c[2][0])<this.b/2&&(a.source=c)}},this)}g={}}
function Be(a,c,d,e,f,g,h,k,l,m){var n=Na([g,h,k,l]),q=a.b?ab(n)/a.b:null,r=a.b,x=a.g.b&&.5<q&&1>q,z=!1;if(0<m){if(a.f.a&&a.w){var A=Na([c,d,e,f]);z|=.25<ab(A)/a.w}!x&&a.g.a&&q&&(z|=.25<q)}if(z||!a.i||fb(n,a.i)){if(!(z||isFinite(g[0])&&isFinite(g[1])&&isFinite(h[0])&&isFinite(h[1])&&isFinite(k[0])&&isFinite(k[1])&&isFinite(l[0])&&isFinite(l[1])))if(0<m)z=!0;else return;if(0<m&&(z||(n=a.a([(c[0]+e[0])/2,(c[1]+e[1])/2]),r=x?(kb(g[0],r)+kb(k[0],r))/2-kb(n[0],r):(g[0]+k[0])/2-n[0],n=(g[1]+k[1])/2-n[1],
z=r*r+n*n>a.l),z)){Math.abs(c[0]-e[0])<=Math.abs(c[1]-e[1])?(x=[(d[0]+e[0])/2,(d[1]+e[1])/2],r=a.a(x),n=[(f[0]+c[0])/2,(f[1]+c[1])/2],q=a.a(n),Be(a,c,d,x,n,g,h,r,q,m-1),Be(a,n,x,e,f,q,r,k,l,m-1)):(x=[(c[0]+d[0])/2,(c[1]+d[1])/2],r=a.a(x),n=[(e[0]+f[0])/2,(e[1]+f[1])/2],q=a.a(n),Be(a,c,x,n,f,g,r,q,l,m-1),Be(a,x,d,e,n,r,h,k,q,m-1));return}if(x){if(!a.j)return;a.C=!0}a.c.push({source:[g,k,l],target:[c,e,f]});a.c.push({source:[g,h,k],target:[c,d,e]})}}
function Ce(a){var c=Oa();a.c.forEach(function(a){a=a.source;Pa(c,a[0]);Pa(c,a[1]);Pa(c,a[2])});return c};function De(a,c,d,e){this.D=a;this.H=c;this.F=d;this.I=e}function Ee(a,c,d){return a.D<=c&&c<=a.H&&a.F<=d&&d<=a.I}De.prototype.equals=function(a){return this.D==a.D&&this.F==a.F&&this.H==a.H&&this.I==a.I};De.prototype.extend=function(a){a.D<this.D&&(this.D=a.D);a.H>this.H&&(this.H=a.H);a.F<this.F&&(this.F=a.F);a.I>this.I&&(this.I=a.I)};De.prototype.ya=function(){return[this.qa(),this.I-this.F+1]};De.prototype.qa=function(){return this.H-this.D+1};
function Fe(a,c){return a.D<=c.H&&a.H>=c.D&&a.F<=c.I&&a.I>=c.F};function Ge(a,c){if(Array.isArray(a))return a;void 0===c?c=[a,a]:c[0]=c[1]=a;return c};function He(a){this.minZoom=void 0!==a.minZoom?a.minZoom:0;this.g=a.Xa;C(Lc(this.g,function(a,c){return c-a}),17);this.maxZoom=this.g.length-1;this.b=void 0!==a.origin?a.origin:null;this.a=null;void 0!==a.origins&&(this.a=a.origins,C(this.a.length==this.g.length,20));var c=a.extent;void 0===c||this.b||this.a||(this.b=[c[0],c[3]]);C(!this.b&&this.a||this.b&&!this.a,18);this.f=null;void 0!==a.kc&&(this.f=a.kc,C(this.f.length==this.g.length,19));this.i=void 0!==a.tileSize?a.tileSize:this.f?null:256;
C(!this.i&&this.f||this.i&&!this.f,22);this.C=void 0!==c?c:null;this.c=null;this.w=[0,0];void 0!==a.sizes?this.c=a.sizes.map(function(a){return new De(Math.min(0,a[0]),Math.max(a[0]-1,-1),Math.min(0,a[1]),Math.max(a[1]-1,-1))},this):c&&Ie(this,c)}var Je=[0,0,0];He.prototype.A=function(){return this.C};He.prototype.P=function(a){return this.g[a]};
function Ke(a,c,d,e){Le(a,c[0],c[1],d,!1,Je);var f=Je[1],g=Je[2];Le(a,c[2],c[3],d,!0,Je);a=Je[1];c=Je[2];void 0!==e?(e.D=f,e.H=a,e.F=g,e.I=c):e=new De(f,a,g,c);return e}function Me(a,c,d,e){d=a.P(d);return Ke(a,c,d,e)}function Ne(a,c){var d=a.b?a.b:a.a[c[0]],e=a.P(c[0]);a=Ge(Oe(a,c[0]),a.w);return[d[0]+(c[1]+.5)*a[0]*e,d[1]+(c[2]+.5)*a[1]*e]}function Pe(a,c,d){var e=a.b?a.b:a.a[c[0]],f=a.P(c[0]);a=Ge(Oe(a,c[0]),a.w);var g=e[0]+c[1]*a[0]*f;c=e[1]+c[2]*a[1]*f;return Ua(g,c,g+a[0]*f,c+a[1]*f,d)}
function Le(a,c,d,e,f,g){var h=Qe(a,e),k=e/a.P(h),l=a.b?a.b:a.a[h];a=Ge(Oe(a,h),a.w);c=k*Math.floor((c-l[0])/e+(f?.5:0))/a[0];d=k*Math.floor((d-l[1])/e+(f?0:.5))/a[1];f?(c=Math.ceil(c)-1,d=Math.ceil(d)-1):(c=Math.floor(c),d=Math.floor(d));f=c;void 0!==g?(g[0]=h,g[1]=f,g[2]=d):g=[h,f,d];return g}function Oe(a,c){return a.i?a.i:a.f[c]}function Qe(a,c,d){return ib(Dc(a.g,c,d||0),a.minZoom,a.maxZoom)}function Ie(a,c){for(var d=a.g.length,e=Array(d),f=a.minZoom;f<d;++f)e[f]=Me(a,c,f);a.c=e};function Re(a){var c=a.i;if(!c){c=Se(a);var d=Te(c,void 0,void 0);c=new He({extent:c,origin:[c[0],c[3]],Xa:d,tileSize:void 0});a.i=c}return c}function Te(a,c,d){c=void 0!==c?c:42;var e=bb(a);a=ab(a);d=Ge(void 0!==d?d:256);d=Math.max(a/d[0],e/d[1]);c+=1;e=Array(c);for(a=0;a<c;++a)e[a]=d/Math.pow(2,a);return e}function Se(a){a=N(a);var c=a.A();c||(a=180*ob.degrees/sb(a),c=Ua(-a,-a,a,a));return c};function Ue(a){this.a=a.html;this.b=a.Nf?a.Nf:null};function Ve(a){M.call(this);this.U=N(a.projection);this.N=We(a.aa);this.Y=a.ja;this.ma=void 0!==a.state?a.state:"ready";this.G=void 0!==a.wrapX?a.wrapX:!1}u(Ve,M);function We(a){if("string"===typeof a)return[new Ue({html:a})];if(a instanceof Ue)return[a];if(Array.isArray(a)){for(var c=a.length,d=Array(c),e=0;e<c;e++){var f=a[e];d[e]="string"===typeof f?new Ue({html:f}):f}return d}return null}Ve.prototype.getProjection=function(){return this.U};Ve.prototype.getState=function(){return this.ma};function Xe(a){Nd.call(this,a);this.context=null===this.context?null:Xb();this.a=null;this.f=[];this.K=Oa();this.S=new De(0,0,0,0);this.j=nd()}u(Xe,Nd);function Ye(a,c){c=c.getState();a=a.xa().get("useInterimTilesOnError");return 2==c||4==c||3==c&&!a}
Xe.prototype.L=function(a,c){var d=a.ka,e=a.size,f=a.Z,g=f.projection,h=f.resolution,k=f.center,l=this.xa();f=jd(l);var m=f.g,n=f.Ua(g),q=Qe(n,h,0),r=n.P(q),x=Math.round(h/r)||1,z=a.extent;void 0!==c.extent&&(z=eb(z,c.extent));if($a(z))return!1;c=Ke(n,z,r);var A=n.b?n.b:n.a[q];var y=n.P(q),v=Ge(Oe(n,q),n.w);A=Ua(A[0]+c.D*v[0]*y,A[1]+c.F*v[1]*y,A[0]+(c.H+1)*v[0]*y,A[1]+(c.I+1)*v[1]*y,void 0);y=f.j;v={};v[q]={};var H=Ed(f,g,v),G=this.K,R=this.S,O=!1,J,t;for(J=c.D;J<=c.H;++J)for(t=c.F;t<=c.I;++t){var E=
f.getTile(q,J,t,d,g);if(3==E.getState())if(l.get("useInterimTilesOnError"))0<l.get("preload")&&(O=!0);else{var L=E;L.state=2;Ze(L)}if(!Ye(this,E))a:if(E.b){L=E.b;do{if(2==L.getState()){E=L;break a}L=L.b}while(L)}if(Ye(this,E))2==E.getState()&&(v[q][E.Ba.toString()]=E,O||-1!=this.f.indexOf(E)||(O=!0));else{a:{L=n;var D=E.Ba,ba=H,P=R,Z=Pe(L,D,G);for(D=D[0]-1;D>=L.minZoom;){if(ba.call(null,D,Me(L,Z,D,P))){L=!0;break a}--D}L=!1}L||(L=n,E=E.Ba,ba=R,E[0]<L.maxZoom?(P=Pe(L,E,G),E=Me(L,P,E[0]+1,ba)):E=null,
E&&H(q+1,E))}}E=r*d/y*x;J=a.bb;J=J[0]||J[1];if(!(this.c&&16<Date.now()-a.time&&J||!O&&this.a&&Sa(this.a,z)&&this.v==m&&x==this.l&&(J||E==this.c))){if(E=this.context)t=$e(f,q,g),J=Math.round(c.qa()*t[0]/x),t=Math.round((c.I-c.F+1)*t[1]/x),O=E.canvas,O.width!=J||O.height!=t?(this.l=x,O.width=J,O.height=t):(E.clearRect(0,0,J,t),x=this.l);this.f.length=0;O=Object.keys(v).map(Number);O.sort(Cc);R=0;for(L=O.length;R<L;++R){E=O[R];H=$e(f,E,g);J=n.P(E);ba=J/r;P=y*f.qd(g);Z=v[E];for(var X in Z){E=Z[X];t=Pe(n,
E.Ba,G);J=(t[0]-A[0])/r*y/x;t=(A[3]-t[3])/r*y/x;var Ca=H[0]*ba/x;var Y=H[1]*ba/x;D=E;var Eb=a,xa=P;jd(this.xa()).Ic(Eb.Z.projection)||this.context.clearRect(J,t,Ca,Y);(D=D.da(this.xa()))&&this.context.drawImage(D,xa,xa,D.width-2*xa,D.height-2*xa,J,t,Ca,Y);this.f.push(E)}}this.v=m;this.c=r*d/y*x;this.a=A}X=this.c/h;X=qd(this.j,d*e[0]/2,d*e[1]/2,X,X,0,(this.a[0]-k[0])/this.c*d,(k[1]-this.a[3])/this.c*d);qd(this.o,d*e[0]/2-X[4],d*e[1]/2-X[5],d/h,-d/h,0,-k[0],-k[1]);e=a.nc;h=B(f).toString();k=q.toString();
h in e?k in e[h]?e[h][k].extend(c):e[h][k]=c:(e[h]={},e[h][k]=c);l=l.get("preload");c=B(f).toString();c in a.Rb||(a.Rb[c]={});e=a.Rb[c];h=a.Mf;k=n.minZoom;for(A=q;A>=k;--A){var qa=Me(n,z,A,qa);m=n.P(A);for(r=qa.D;r<=qa.H;++r)for(x=qa.F;x<=qa.I;++x)q-A<=l?(X=f.getTile(A,r,x,d,g),0==X.getState()&&(e[X.Wa()]=!0,X.Wa()in h.g||h.w([X,c,Ne(n,X.Ba),m]))):f.Nd(A,r,x,g)}Gd(a,f);Id(a,f);return 0<this.f.length};Xe.prototype.da=function(){var a=this.context;return a?a.canvas:null};function af(a){a=a?a:{};var c=ra({},a);delete c.Ed;delete c.Ld;id.call(this,c);this.set("preload",void 0!==a.Ed?a.Ed:0);this.set("useInterimTilesOnError",void 0!==a.Ld?a.Ld:!0)}u(af,id);af.prototype.yc=function(a){var c=null;"canvas"===a.getType()&&(c=new Xe(this));return c};function bf(){this.c=0;this.a={};this.g=this.b=null}p=bf.prototype;p.clear=function(){this.c=0;this.a={};this.g=this.b=null};p.forEach=function(a,c){for(var d=this.b;d;)a.call(c,d.tb,d.Va,this),d=d.ta};p.get=function(a){a=this.a[a];C(void 0!==a,15);if(a===this.g)return a.tb;a===this.b?(this.b=this.b.ta,this.b.pb=null):(a.ta.pb=a.pb,a.pb.ta=a.ta);a.ta=null;a.pb=this.g;this.g=this.g.ta=a;return a.tb};
p.pop=function(){var a=this.b;delete this.a[a.Va];a.ta&&(a.ta.pb=null);this.b=a.ta;this.b||(this.g=null);--this.c;return a.tb};p.replace=function(a,c){this.get(a);this.a[a].tb=c};p.set=function(a,c){C(!(a in this.a),16);c={Va:a,ta:null,pb:this.g,tb:c};this.g?this.g.ta=c:this.b=c;this.g=c;this.a[a]=c;++this.c};function cf(a){bf.call(this);this.highWaterMark=void 0!==a?a:2048}u(cf,bf);function df(a){return a.c>a.highWaterMark}cf.prototype.gb=function(a){for(var c,d;df(this);){c=this.b.tb;d=c.Ba[0].toString();var e;if(e=d in a)c=c.Ba,e=Ee(a[d],c[1],c[2]);if(e)break;else Da(this.pop())}};function ef(a){Ve.call(this,{aa:a.aa,extent:a.extent,ja:a.ja,projection:a.projection,state:a.state,wrapX:a.wrapX});this.v=void 0!==a.za?a.za:!1;this.j=void 0!==a.ab?a.ab:1;this.ba=void 0!==a.ba?a.ba:null;this.a=new cf(a.La);this.l=[0,0];this.Va=""}u(ef,Ve);p=ef.prototype;p.Ad=function(){return df(this.a)};p.gb=function(a,c){(a=this.Hb(a))&&a.gb(c)};
function Fd(a,c,d,e,f){c=a.Hb(c);if(!c)return!1;for(var g=!0,h,k,l=e.D;l<=e.H;++l)for(var m=e.F;m<=e.I;++m)h=a.cc(d,l,m),k=!1,c.a.hasOwnProperty(h)&&(h=c.get(h),(k=2===h.getState())&&(k=!1!==f(h))),k||(g=!1);return g}p.qd=function(){return 0};p.cc=function(a,c,d){return a+"/"+c+"/"+d};p.Ic=function(){return this.v};p.Ua=function(a){return this.ba?this.ba:Re(a)};p.Hb=function(a){var c=this.getProjection();return c&&!Qb(c,a)?null:this.a};
function $e(a,c,d){var e=a.Ua(d);d=a.j;c=Ge(Oe(e,c),a.l);1==d?a=c:(a=a.l,void 0===a&&(a=[0,0]),a[0]=c[0]*d+.5|0,a[1]=c[1]*d+.5|0);return a}function ff(a,c,d){var e=void 0!==d?d:a.getProjection();d=a.Ua(e);if(a.G&&e.a){var f=c;a=f[0];c=Ne(d,f);e=Se(e);Ta(e,c[0],c[1])?c=f:(f=ab(e),c[0]+=f*Math.ceil((e[0]-c[0])/f),e=d.P(a),c=Le(d,c[0],c[1],e,!1,void 0))}f=c[0];e=c[1];a=c[2];if(d.minZoom>f||f>d.maxZoom)d=!1;else{var g=d.A();d=(d=g?Me(d,g,f):d.c?d.c[f]:null)?Ee(d,e,a):!0}return d?c:null}p.Nd=w;
function gf(a,c){Ea.call(this,a);this.tile=c}u(gf,Ea);function hf(a,c){Ga.call(this);this.Ba=a;this.state=c;this.b=null;this.key=""}u(hf,Ga);function Ze(a){K(a,"change")}hf.prototype.Wa=function(){return this.key+"/"+this.Ba};function jf(a){if(a.b){var c=a.b;do{if(2==c.getState()){c.b=null;break}else 1==c.getState()?a=c:0==c.getState()?a.b=c.b:a=c;c=a.b}while(c)}}hf.prototype.getState=function(){return this.state};function kf(a){M.call(this);this.element=a.element?a.element:null;this.o=this.S=null;this.G=[];this.render=a.render?a.render:w;a.target&&(a=a.target,this.S="string"===typeof a?document.getElementById(a):a)}u(kf,M);kf.prototype.W=function(){Yb(this.element);M.prototype.W.call(this)};
kf.prototype.setMap=function(a){this.o&&Yb(this.element);for(var c=0,d=this.G.length;c<d;++c)F(this.G[c]);this.G.length=0;if(this.o=a)(this.S?this.S:a.v).appendChild(this.element),this.render!==w&&this.G.push(I(a,"postrender",this.render,this)),a.render()};function lf(a,c){var d=/\{z\}/g,e=/\{x\}/g,f=/\{y\}/g,g=/\{-y\}/g;return function(h){if(h)return a.replace(d,h[0].toString()).replace(e,h[1].toString()).replace(f,function(){return(-h[2]-1).toString()}).replace(g,function(){var a=c.c?c.c[h[0]]:null;C(a,55);return(a.I-a.F+1+h[2]).toString()})}}function mf(a,c){for(var d=a.length,e=Array(d),f=0;f<d;++f)e[f]=lf(a[f],c);return nf(e)}function nf(a){return 1===a.length?a[0]:function(c,d,e){if(c)return a[kb((c[1]<<c[0])+c[2],a.length)](c,d,e)}}
function of(){};function pf(a,c,d,e,f){hf.call(this,a,c);this.g=d;this.R=new Image;null!==e&&(this.R.crossOrigin=e);this.a=null;this.c=f}u(pf,hf);p=pf.prototype;p.W=function(){1==this.state&&(qf(this),this.R.src=rf.toDataURL("image/png"));this.b&&Da(this.b);this.state=5;Ze(this);hf.prototype.W.call(this)};p.da=function(){return this.R};p.Wa=function(){return this.g};p.te=function(){this.state=3;qf(this);this.R=rf;Ze(this)};p.ue=function(){this.state=this.R.naturalWidth&&this.R.naturalHeight?2:4;qf(this);Ze(this)};
p.load=function(){if(0==this.state||3==this.state)this.state=1,Ze(this),this.a=[I(this.R,"error",this.te,this,!0),I(this.R,"load",this.ue,this,!0)],this.c(this,this.g)};function qf(a){a.a.forEach(F);a.a=null}var rf,sf=Xb(1,1);sf.fillStyle="rgba(0,0,0,0)";sf.fillRect(0,0,1,1);rf=sf.canvas;function tf(a,c,d,e,f,g,h,k,l,m,n){hf.call(this,f,0);this.v=void 0!==n?n:!1;this.o=h;this.L=k;this.l=null;this.g=c;this.f=e;this.i=g?g:f;this.a=[];this.sb=null;this.c=0;g=Pe(e,this.i);k=this.f.A();f=this.g.A();g=k?eb(g,k):g;if(0===Za(g))this.state=4;else{(k=a.A())&&(f?f=eb(f,k):f=k);k=e.P(this.i[0]);n=cb(g);e=Rb(d,a)(n,void 0,n.length);k=Jb(d,k,n);n=sb(d);void 0!==n&&(k*=n);n=sb(a);void 0!==n&&(k/=n);n=a.A();if(!n||Ta(n,e[0],e[1]))e=Jb(a,k,e)/k,isFinite(e)&&0<e&&(k/=e);e=k;if(!isFinite(e)||0>=e)this.state=
4;else if(this.j=new Ae(a,d,g,f,e*(void 0!==m?m:.5)),0===this.j.c.length)this.state=4;else if(this.c=Qe(c,e),d=Ce(this.j),f&&(a.b?(d[1]=ib(d[1],f[1],f[3]),d[3]=ib(d[3],f[1],f[3])):d=eb(d,f)),Za(d)){a=Me(c,d,this.c);for(c=a.D;c<=a.H;c++)for(d=a.F;d<=a.I;d++)(m=l(this.c,c,d,h))&&this.a.push(m);0===this.a.length&&(this.state=4)}else this.state=4}}u(tf,hf);tf.prototype.W=function(){1==this.state&&(this.sb.forEach(F),this.sb=null);hf.prototype.W.call(this)};tf.prototype.da=function(){return this.l};
tf.prototype.Gd=function(){var a=[];this.a.forEach(function(c){c&&2==c.getState()&&a.push({extent:Pe(this.g,c.Ba),image:c.da()})},this);this.a.length=0;if(0===a.length)this.state=3;else{var c=this.i[0],d=Oe(this.f,c),e="number"===typeof d?d:d[0];d="number"===typeof d?d:d[1];c=this.f.P(c);var f=this.g.P(this.c),g=Pe(this.f,this.i);this.l=ze(e,d,this.o,f,this.g.A(),c,g,this.j,a,this.L,this.v);this.state=2}Ze(this)};
tf.prototype.load=function(){if(0==this.state){this.state=1;Ze(this);var a=0;this.sb=[];this.a.forEach(function(c){var d=c.getState();if(0==d||1==d){a++;var e=I(c,"change",function(){var d=c.getState();if(2==d||3==d||4==d)F(e),a--,0===a&&(this.sb.forEach(F),this.sb=null,this.Gd())},this);this.sb.push(e)}},this);this.a.forEach(function(a){0==a.getState()&&a.load()});0===a&&setTimeout(this.Gd.bind(this),0)}};function uf(a){ef.call(this,{aa:a.aa,La:a.La,extent:a.extent,ja:a.ja,za:a.za,projection:a.projection,state:a.state,ba:a.ba,ab:a.ab,wrapX:a.wrapX});this.Ja=a.Ja;this.Pa=this.f?this.f.bind(this):of;this.urls=null;if(a.urls){var c=a.urls;this.urls=c;var d=c.join("\n");vf(this,this.f?this.f.bind(this):mf(c,this.ba),d)}else if(a.url){c=a.url;d=[];var e=/\{([a-z])-([a-z])\}/.exec(c);if(e){var f=e[2].charCodeAt(0),g;for(g=e[1].charCodeAt(0);g<=f;++g)d.push(c.replace(e[0],String.fromCharCode(g)))}else if(e=
e=/\{(\d+)-(\d+)\}/.exec(c))for(f=parseInt(e[2],10),g=parseInt(e[1],10);g<=f;g++)d.push(c.replace(e[0],g.toString()));else d.push(c);d=this.urls=d;vf(this,this.f?this.f.bind(this):mf(d,this.ba),c)}a.Pa&&vf(this,a.Pa)}u(uf,ef);uf.prototype.o=function(a){a=a.target;switch(a.getState()){case 1:K(this,new gf("tileloadstart",a));break;case 2:K(this,new gf("tileloadend",a));break;case 3:K(this,new gf("tileloaderror",a))}};function vf(a,c,d){a.Pa=c;"undefined"!==typeof d?a.Va!==d&&(a.Va=d,a.b()):a.b()}
uf.prototype.Nd=function(a,c,d){a=this.cc(a,c,d);this.a.a.hasOwnProperty(a)&&this.a.get(a)};function wf(a){uf.call(this,{aa:a.aa,La:a.La,extent:a.extent,ja:a.ja,za:a.za,projection:a.projection,state:a.state,ba:a.ba,Ja:a.Ja?a.Ja:xf,ab:a.ab,Pa:a.Pa,url:a.url,urls:a.urls,wrapX:a.wrapX});this.crossOrigin=void 0!==a.crossOrigin?a.crossOrigin:null;this.Rc=void 0!==a.Rc?a.Rc:pf;this.c={};this.i={};this.K=a.hc}u(wf,uf);p=wf.prototype;p.Ad=function(){if(df(this.a))return!0;for(var a in this.c)if(df(this.c[a]))return!0;return!1};
p.gb=function(a,c){a=this.Hb(a);this.a.gb(this.a==a?c:{});for(var d in this.c){var e=this.c[d];e.gb(e==a?c:{})}};p.qd=function(a){return this.getProjection()&&a&&Qb(this.getProjection(),a),0};p.Ic=function(a){return this.getProjection()&&a&&!Qb(this.getProjection(),a)?!1:uf.prototype.Ic.call(this,a)};p.Ua=function(a){var c=this.getProjection();return!this.ba||c&&!Qb(c,a)?(c=B(a).toString(),c in this.i||(this.i[c]=Re(a)),this.i[c]):this.ba};
p.Hb=function(a){var c=this.getProjection();if(!c||Qb(c,a))return this.a;a=B(a).toString();a in this.c||(this.c[a]=new cf(this.a.highWaterMark));return this.c[a]};function yf(a,c,d,e,f,g,h){c=[c,d,e];f=(d=ff(a,c,g))?a.Pa(d,f,g):void 0;f=new a.Rc(c,void 0!==f?0:4,void 0!==f?f:"",a.crossOrigin,a.Ja);f.key=h;I(f,"change",a.o,a);return f}
p.getTile=function(a,c,d,e,f){if(this.getProjection()&&f&&!Qb(this.getProjection(),f)){e=this.Hb(f);d=[a,c,d];var g;a=this.cc.apply(this,d);e.a.hasOwnProperty(a)&&(g=e.get(a));c=this.Va;if(g&&g.key==c)return g;var h=this.getProjection(),k=this.Ua(h),l=this.Ua(f),m=ff(this,d,f);f=new tf(h,k,f,l,d,m,this.j,0,function(a,c,d,e){return zf(this,a,c,d,e,h)}.bind(this),this.K,!1);f.key=c;g?(f.b=g,jf(f),e.replace(a,f)):e.set(a,f);return f}return zf(this,a,c,d,e,f)};
function zf(a,c,d,e,f,g){var h=a.cc(c,d,e),k=a.Va;if(a.a.a.hasOwnProperty(h)){var l=a.a.get(h);if(l.key!=k){var m=l;l=yf(a,c,d,e,f,g,k);0==m.getState()?l.b=m.b:l.b=m;jf(l);a.a.replace(h,l)}}else l=yf(a,c,d,e,f,g,k),a.a.set(h,l);return l}function xf(a,c){a.da().src=c};function Af(a){He.call(this,{extent:a.extent,origin:a.origin,origins:a.origins,Xa:a.Xa,tileSize:a.tileSize,kc:a.kc,sizes:a.sizes})}u(Af,He);
function Bf(a,c,d){var e=[],f=[],g=[],h=[],k=[],l=void 0!==d?d:[];d=N(a.SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"));var m=sb(d),n="ne"==d.f.substr(0,2);a.TileMatrix.sort(function(a,c){return c.ScaleDenominator-a.ScaleDenominator});a.TileMatrix.forEach(function(a){var c;0<l.length?c=Fc(l,function(c){return a.Identifier==c.TileMatrix}):c=!0;if(c){f.push(a.Identifier);c=2.8E-4*a.ScaleDenominator/m;var d=a.TileWidth,q=a.TileHeight;n?g.push([a.TopLeftCorner[1],a.TopLeftCorner[0]]):
g.push(a.TopLeftCorner);e.push(c);h.push(d==q?d:[d,q]);k.push([a.MatrixWidth,-a.MatrixHeight])}});return new Af({extent:c,origins:g,Xa:e,xg:f,kc:h,sizes:k})};function Cf(a,c){var d=Fc(a.Contents.Layer,function(a){return a.Identifier==c.layer});if(null===d)return null;var e=a.Contents.TileMatrixSet;var f=1<d.TileMatrixSetLink.length?"projection"in c?Jc(d.TileMatrixSetLink,function(a){var d=Fc(e,function(c){return c.Identifier==a.TileMatrixSet}).SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"),f=N(d),g=N(c.projection);return f&&g?Qb(f,g):d==c.projection}):Jc(d.TileMatrixSetLink,function(a){return a.TileMatrixSet==c.matrixSet}):0;0>f&&(f=
0);var g=d.TileMatrixSetLink[f].TileMatrixSet;var h=d.TileMatrixSetLink[f].TileMatrixSetLimits;var k=d.Format[0];"format"in c&&(k=c.format);f=Jc(d.Style,function(a){return"style"in c?a.Title==c.style:a.isDefault});0>f&&(f=0);f=d.Style[f].Identifier;var l={};"Dimension"in d&&d.Dimension.forEach(function(a){var c=a.Identifier,d=a.Default;void 0===d&&(d=a.Value[0]);l[c]=d});var m=Fc(a.Contents.TileMatrixSet,function(a){return a.Identifier==g});var n="projection"in c?N(c.projection):N(m.SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,
"$1:$3"));var q=d.WGS84BoundingBox;if(void 0!==q){var r=N("EPSG:4326").A();r=q[0]==r[0]&&q[2]==r[2];var x=Tb(q,"EPSG:4326",n);(q=n.A())&&(Sa(q,x)||(x=void 0))}h=Bf(m,x,h);var z=[];m=c.requestEncoding;m=void 0!==m?m:"";if("OperationsMetadata"in a&&"GetTile"in a.OperationsMetadata)for(a=a.OperationsMetadata.GetTile.DCP.HTTP.Get,x=0,q=a.length;x<q;++x){var A=Fc(a[x].Constraint,function(a){return"GetEncoding"==a.name}).AllowedValues.Value;""===m&&(m=A[0]);if("KVP"===m)0<=A.indexOf("KVP")&&z.push(a[x].href);
else break}0===z.length&&(m="REST",d.ResourceURL.forEach(function(a){"tile"===a.resourceType&&(k=a.format,z.push(a.template))}));return{urls:z,layer:c.layer,matrixSet:g,format:k,projection:n,requestEncoding:m,ba:h,style:f,dimensions:l,wrapX:r,crossOrigin:c.crossOrigin}};function Df(){this.b={};this.a=0}Df.prototype.clear=function(){this.b={};this.a=0};Df.prototype.get=function(a,c,d){a=c+":"+a+":"+(d?Vb(d):"null");return a in this.b?this.b[a]:null};Df.prototype.set=function(a,c,d,e){this.b[c+":"+a+":"+(d?Vb(d):"null")]=e;++this.a};var Ef=new Df;function Ff(a){Jd.call(this,a);this.a=!1;this.v=-1;this.o=NaN;this.j=Oa();this.f=this.l=null;this.c=Xb()}u(Ff,Jd);
Ff.prototype.i=function(a,c,d){var e=a.extent,f=a.ka,g=c.xd?a.If:{},h=a.Z,k=h.projection,l=h.rotation,m=k.A(),n=jd(this.xa()),q=Md(this,a,0);Ld(this,"precompose",d,a,q);var r=c.extent;(h=void 0!==r)&&Kd(d,a,r);var x=this.f;if(x&&!ta(x.b)){var z=r=0,A=1!==c.opacity,y=Ha(this.xa(),"render");if(A||y){var v=d.canvas.width;var H=d.canvas.height;if(l){var G=Math.round(Math.sqrt(v*v+H*H));r=(G-v)/2;z=(G-H)/2;v=H=G}this.c.canvas.width=v;this.c.canvas.height=H;v=this.c}else v=d;H=v.globalAlpha;A||(v.globalAlpha=
c.opacity);v!=d&&v.translate(r,z);G=a.size[0]*f;var R=a.size[1]*f;nc(v,-l,G/2,R/2);qe(x,v,f,q,l,g);if(n.G&&k.b&&!Sa(m,e)){k=e[0];n=ab(m);for(var O=0;k<m[0];)--O,q=n*O,q=Md(this,a,q),qe(x,v,f,q,l,g),k+=n;O=0;for(k=e[2];k>m[2];)++O,q=n*O,q=Md(this,a,q),qe(x,v,f,q,l,g),k-=n;q=Md(this,a,0)}nc(v,l,G/2,R/2);v!=d&&(y&&Ld(this,"render",v,a,q),A?(e=d.globalAlpha,d.globalAlpha=c.opacity,d.drawImage(v.canvas,-r,-z),d.globalAlpha=e):d.drawImage(v.canvas,-r,-z),v.translate(-r,-z));A||(v.globalAlpha=H)}h&&d.restore();
Ld(this,"postcompose",d,a,q)};
Ff.prototype.L=function(a){var c=this.xa(),d=jd(c);Hd(a.aa,d.N);Id(a,d);var e=a.bb[0],f=a.bb[1],g=c.v,h=c.G;if(!this.a&&!g&&e||!h&&f)return!0;g=a.extent;var k=a.Z;h=k.projection;var l=k.resolution,m=a.ka;e=c.g;var n=c.o;f=c.get(Gf);void 0===f&&(f=re);g=Qa(g,n*l);n=k.projection.A();d.G&&k.projection.b&&!Sa(n,a.extent)&&(a=Math.max(ab(g)/2,ab(n)),g[0]=n[0]-a,g[2]=n[2]+a);if(!this.a&&this.o==l&&this.v==e&&this.l==f&&Sa(this.j,g))return!0;this.f=null;this.a=!1;var q=new me(.5*l/m,g,l,d.sa);Hf(d,g,l,h);
a=function(a){var d=a.Lc();if(d)var e=d.call(a,l);else(d=c.Lc())&&(e=d(a,l));if(e){if(e){d=!1;if(Array.isArray(e))for(var f=0,g=e.length;f<g;++f)d=te(q,a,e[f],se(l,m))||d;else d=te(q,a,e,se(l,m))||d;a=d}else a=!1;this.a=this.a||a}}.bind(this);if(f){var r=[];If(d,g,function(a){r.push(a)},this);r.sort(f);d=0;for(h=r.length;d<h;++d)a(r[d])}else If(d,g,a,this);ne(q);this.o=l;this.v=e;this.l=f;this.j=g;this.f=q;return!0};function Jf(a){a=a?a:{};var c=ra({},a);delete c.style;delete c.Fd;delete c.Tc;delete c.Uc;id.call(this,c);this.o=void 0!==a.Fd?a.Fd:100;this.l=null;this.j=void 0;this.setStyle(a.style);this.v=void 0!==a.Tc?a.Tc:!1;this.G=void 0!==a.Uc?a.Uc:!1}u(Jf,id);Jf.prototype.yc=function(a){var c=null;"canvas"===a.getType()&&(c=new Ff(this));return c};Jf.prototype.Lc=function(){return this.j};Jf.prototype.setStyle=function(a){this.l=void 0!==a?a:xc;this.j=null===a?void 0:vc(this.l);this.b()};var Gf="renderOrder";function Kf(a,c){M.call(this);this.c=!!(c||{}).unique;this.a=a?a:[];if(this.c)for(a=0,c=this.a.length;a<c;++a)Lf(this,this.a[a],a);Mf(this)}u(Kf,M);p=Kf.prototype;p.clear=function(){for(;0<this.get(Nf);)this.pop()};p.extend=function(a){var c;var d=0;for(c=a.length;d<c;++d)this.push(a[d]);return this};p.forEach=function(a,c){a=c?a.bind(c):a;c=this.a;for(var d=0,e=c.length;d<e;++d)a(c[d],d,c)};p.pop=function(){return Of(this,this.get(Nf)-1)};
p.push=function(a){this.c&&Lf(this,a);var c=this.get(Nf);this.c&&Lf(this,a);this.a.splice(c,0,a);Mf(this);K(this,new Pf("add",a));return this.get(Nf)};p.remove=function(a){var c=this.a,d;var e=0;for(d=c.length;e<d;++e)if(c[e]===a)return Of(this,e)};function Of(a,c){var d=a.a[c];a.a.splice(c,1);Mf(a);K(a,new Pf("remove",d));return d}function Mf(a){a.set(Nf,a.a.length)}function Lf(a,c,d){for(var e=0,f=a.a.length;e<f;++e)if(a.a[e]===c&&e!==d)throw new pa(58);}var Nf="length";
function Pf(a,c){Ea.call(this,a);this.element=c}u(Pf,Ea);function Qf(a,c,d){Ea.call(this,a);this.map=c;this.frameState=void 0!==d?d:null}u(Qf,Ea);function Rf(a,c,d,e,f){Qf.call(this,a,c,f);this.originalEvent=d;a=c.a.getBoundingClientRect();d=d.changedTouches?d.changedTouches[0]:d;this.pixel=[d.clientX-a.left,d.clientY-a.top];this.coordinate=c.Fb(this.pixel);this.dragging=void 0!==e?e:!1}u(Rf,Qf);Rf.prototype.preventDefault=function(){Qf.prototype.preventDefault.call(this);this.originalEvent.preventDefault()};Rf.prototype.stopPropagation=function(){Qf.prototype.stopPropagation.call(this);this.originalEvent.stopPropagation()};var Sf={tg:"singleclick",dg:"click",gg:"dblclick",lg:"pointerdrag",og:"pointermove",kg:"pointerdown",rg:"pointerup",qg:"pointerover",pg:"pointerout",mg:"pointerenter",ng:"pointerleave",jg:"pointercancel"};function Tf(a,c,d,e,f){Rf.call(this,a,c,d.originalEvent,e,f);this.b=d}u(Tf,Rf);function Uf(a,c){this.b=a;this.f=c};function Vf(a){Uf.call(this,a,{mousedown:this.ff,mousemove:this.gf,mouseup:this.kf,mouseover:this.jf,mouseout:this.hf});this.a=a.a;this.g=[]}u(Vf,Uf);function Wf(a,c){a=a.g;var d=c.clientX;c=c.clientY;for(var e=0,f=a.length,g;e<f&&(g=a[e]);e++){var h=Math.abs(c-g[1]);if(25>=Math.abs(d-g[0])&&25>=h)return!0}return!1}function Xf(a){var c=Yf(a,a),d=c.preventDefault;c.preventDefault=function(){a.preventDefault();d()};c.pointerId=1;c.isPrimary=!0;c.pointerType="mouse";return c}p=Vf.prototype;
p.ff=function(a){if(!Wf(this,a)){(1).toString()in this.a&&this.cancel(a);var c=Xf(a);this.a[(1).toString()]=a;Zf(this.b,"pointerdown",c,a)}};p.gf=function(a){if(!Wf(this,a)){var c=Xf(a);this.b.move(c,a)}};p.kf=function(a){if(!Wf(this,a)){var c=this.a[(1).toString()];c&&c.button===a.button&&(c=Xf(a),Zf(this.b,"pointerup",c,a),delete this.a[(1).toString()])}};p.jf=function(a){if(!Wf(this,a)){var c=Xf(a);$f(this.b,c,a)}};p.hf=function(a){if(!Wf(this,a)){var c=Xf(a);ag(this.b,c,a)}};
p.cancel=function(a){var c=Xf(a);this.b.cancel(c,a);delete this.a[(1).toString()]};function bg(a){Uf.call(this,a,{MSPointerDown:this.Ze,MSPointerMove:this.af,MSPointerUp:this.df,MSPointerOut:this.bf,MSPointerOver:this.cf,MSPointerCancel:this.Ye,MSGotPointerCapture:this.We,MSLostPointerCapture:this.Xe});this.a=a.a;this.g=["","unavailable","touch","pen","mouse"]}u(bg,Uf);function cg(a,c){var d=c;"number"===typeof c.pointerType&&(d=Yf(c,c),d.pointerType=a.g[c.pointerType]);return d}p=bg.prototype;
p.Ze=function(a){this.a[a.pointerId.toString()]=a;var c=cg(this,a);Zf(this.b,"pointerdown",c,a)};p.af=function(a){var c=cg(this,a);this.b.move(c,a)};p.df=function(a){var c=cg(this,a);Zf(this.b,"pointerup",c,a);delete this.a[a.pointerId.toString()]};p.bf=function(a){var c=cg(this,a);ag(this.b,c,a)};p.cf=function(a){var c=cg(this,a);$f(this.b,c,a)};p.Ye=function(a){var c=cg(this,a);this.b.cancel(c,a);delete this.a[a.pointerId.toString()]};p.Xe=function(a){K(this.b,new dg("lostpointercapture",a,a))};
p.We=function(a){K(this.b,new dg("gotpointercapture",a,a))};function eg(a){Uf.call(this,a,{pointerdown:this.tf,pointermove:this.uf,pointerup:this.xf,pointerout:this.vf,pointerover:this.wf,pointercancel:this.sf,gotpointercapture:this.re,lostpointercapture:this.Re})}u(eg,Uf);p=eg.prototype;p.tf=function(a){fg(this.b,a)};p.uf=function(a){fg(this.b,a)};p.xf=function(a){fg(this.b,a)};p.vf=function(a){fg(this.b,a)};p.wf=function(a){fg(this.b,a)};p.sf=function(a){fg(this.b,a)};p.Re=function(a){fg(this.b,a)};p.re=function(a){fg(this.b,a)};function dg(a,c,d){Ea.call(this,a);this.originalEvent=c;a=d?d:{};this.buttons=gg(a);this.pressure=hg(a,this.buttons);this.bubbles="bubbles"in a?a.bubbles:!1;this.cancelable="cancelable"in a?a.cancelable:!1;this.view="view"in a?a.view:null;this.detail="detail"in a?a.detail:null;this.screenX="screenX"in a?a.screenX:0;this.screenY="screenY"in a?a.screenY:0;this.clientX="clientX"in a?a.clientX:0;this.clientY="clientY"in a?a.clientY:0;this.ctrlKey="ctrlKey"in a?a.ctrlKey:!1;this.altKey="altKey"in a?a.altKey:
!1;this.shiftKey="shiftKey"in a?a.shiftKey:!1;this.metaKey="metaKey"in a?a.metaKey:!1;this.button="button"in a?a.button:0;this.relatedTarget="relatedTarget"in a?a.relatedTarget:null;this.pointerId="pointerId"in a?a.pointerId:0;this.width="width"in a?a.width:0;this.height="height"in a?a.height:0;this.tiltX="tiltX"in a?a.tiltX:0;this.tiltY="tiltY"in a?a.tiltY:0;this.pointerType="pointerType"in a?a.pointerType:"";this.isPrimary="isPrimary"in a?a.isPrimary:!1;c.preventDefault&&(this.preventDefault=function(){c.preventDefault()})}
u(dg,Ea);function gg(a){if(a.buttons||ig)a=a.buttons;else switch(a.which){case 1:a=1;break;case 2:a=4;break;case 3:a=2;break;default:a=0}return a}function hg(a,c){var d=0;a.pressure?d=a.pressure:d=c?.5:0;return d}var ig=!1;try{ig=1===(new MouseEvent("click",{buttons:1})).buttons}catch(a){};function jg(a,c){Uf.call(this,a,{touchstart:this.Rf,touchmove:this.Qf,touchend:this.Pf,touchcancel:this.Of});this.a=a.a;this.w=c;this.g=void 0;this.i=0;this.c=void 0}u(jg,Uf);p=jg.prototype;p.Hd=function(){this.i=0;this.c=void 0};
function kg(a,c,d){c=Yf(c,d);c.pointerId=d.identifier+2;c.bubbles=!0;c.cancelable=!0;c.detail=a.i;c.button=0;c.buttons=1;c.width=d.webkitRadiusX||d.radiusX||0;c.height=d.webkitRadiusY||d.radiusY||0;c.pressure=d.webkitForce||d.force||.5;c.isPrimary=a.g===d.identifier;c.pointerType="touch";c.clientX=d.clientX;c.clientY=d.clientY;c.screenX=d.screenX;c.screenY=d.screenY;return c}
function lg(a,c,d){function e(){c.preventDefault()}var f=Array.prototype.slice.call(c.changedTouches),g=f.length,h;for(h=0;h<g;++h){var k=kg(a,c,f[h]);k.preventDefault=e;d.call(a,c,k)}}
p.Rf=function(a){var c=a.touches,d=Object.keys(this.a),e=d.length;if(e>=c.length){var f=[],g;for(g=0;g<e;++g){var h=d[g];var k=this.a[h];var l;if(!(l=1==h))a:{for(var m=c.length,n=0;n<m;n++)if(l=c[n],l.identifier===h-2){l=!0;break a}l=!1}l||f.push(k.Ha)}for(g=0;g<f.length;++g)this.tc(a,f[g])}c=a.changedTouches[0];d=Object.keys(this.a).length;if(0===d||1===d&&(1).toString()in this.a)this.g=c.identifier,void 0!==this.c&&clearTimeout(this.c);mg(this,a);this.i++;lg(this,a,this.nf)};
p.nf=function(a,c){this.a[c.pointerId]={target:c.target,Ha:c,Bd:c.target};var d=this.b;c.bubbles=!0;Zf(d,"pointerover",c,a);this.b.enter(c,a);Zf(this.b,"pointerdown",c,a)};p.Qf=function(a){a.preventDefault();lg(this,a,this.Ve)};p.Ve=function(a,c){var d=this.a[c.pointerId];if(d){var e=d.Ha,f=d.Bd;this.b.move(c,a);e&&f!==c.target&&(e.relatedTarget=c.target,c.relatedTarget=f,e.target=f,c.target?(ag(this.b,e,a),$f(this.b,c,a)):(c.target=f,c.relatedTarget=null,this.tc(a,c)));d.Ha=c;d.Bd=c.target}};
p.Pf=function(a){mg(this,a);lg(this,a,this.Tf)};p.Tf=function(a,c){Zf(this.b,"pointerup",c,a);this.b.Ha(c,a);this.b.leave(c,a);delete this.a[c.pointerId];c.isPrimary&&(this.g=void 0,this.c=setTimeout(this.Hd.bind(this),200))};p.Of=function(a){lg(this,a,this.tc)};p.tc=function(a,c){this.b.cancel(c,a);this.b.Ha(c,a);this.b.leave(c,a);delete this.a[c.pointerId];c.isPrimary&&(this.g=void 0,this.c=setTimeout(this.Hd.bind(this),200))};
function mg(a,c){var d=a.w.g;c=c.changedTouches[0];if(a.g===c.identifier){var e=[c.clientX,c.clientY];d.push(e);setTimeout(function(){var a=d.indexOf(e);-1<a&&d.splice(a,1)},2500)}};function ng(a){Ga.call(this);this.c=a;this.a={};this.g={};this.b=[];ic?og(this,new eg(this)):jc?og(this,new bg(this)):(a=new Vf(this),og(this,a),hc&&og(this,new jg(this,a)));a=this.b.length;for(var c,d=0;d<a;d++)c=this.b[d],pg(this,Object.keys(c.f))}u(ng,Ga);function og(a,c){var d=Object.keys(c.f);d&&(d.forEach(function(a){var d=c.f[a];d&&(this.g[a]=d.bind(c))},a),a.b.push(c))}p=ng.prototype;p.od=function(a){var c=this.g[a.type];c&&c(a)};
function pg(a,c){c.forEach(function(a){I(this.c,a,this.od,this)},a)}function qg(a,c){c.forEach(function(a){Aa(this.c,a,this.od,this)},a)}function Yf(a,c){for(var d={},e,f=0,g=rg.length;f<g;f++)e=rg[f][0],d[e]=a[e]||c[e]||rg[f][1];return d}p.move=function(a,c){Zf(this,"pointermove",a,c)};p.enter=function(a,c){a.bubbles=!1;Zf(this,"pointerenter",a,c)};p.leave=function(a,c){a.bubbles=!1;Zf(this,"pointerleave",a,c)};p.Ha=function(a,c){a.bubbles=!0;Zf(this,"pointerout",a,c)};
p.cancel=function(a,c){Zf(this,"pointercancel",a,c)};function ag(a,c,d){a.Ha(c,d);var e=c.target,f=c.relatedTarget;e&&f&&e.contains(f)||a.leave(c,d)}function $f(a,c,d){c.bubbles=!0;Zf(a,"pointerover",c,d);var e=c.target,f=c.relatedTarget;e&&f&&e.contains(f)||a.enter(c,d)}function Zf(a,c,d,e){K(a,new dg(c,e,d))}function fg(a,c){K(a,new dg(c.type,c,c))}p.W=function(){for(var a=this.b.length,c,d=0;d<a;d++)c=this.b[d],qg(this,Object.keys(c.f));Ga.prototype.W.call(this)};
var rg=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]];function sg(a,c){Ga.call(this);this.a=a;this.i=0;this.j=!1;this.c=[];this.G=c?c*dc:dc;this.g=null;a=this.a.a;this.v=0;this.o={};this.f=new ng(a);this.b=null;this.l=I(this.f,"pointerdown",this.Ae,this);this.L=I(this.f,"pointermove",this.Cf,this)}u(sg,Ga);function tg(a,c){var d=new Tf("click",a.a,c);K(a,d);0!==a.i?(clearTimeout(a.i),a.i=0,d=new Tf("dblclick",a.a,c),K(a,d)):a.i=setTimeout(function(){this.i=0;var a=new Tf("singleclick",this.a,c);K(this,a)}.bind(a),250)}
function ug(a,c){"pointerup"==c.type||"pointercancel"==c.type?delete a.o[c.pointerId]:"pointerdown"==c.type&&(a.o[c.pointerId]=!0);a.v=Object.keys(a.o).length}p=sg.prototype;p.ud=function(a){ug(this,a);var c=new Tf("pointerup",this.a,a);K(this,c);!this.j&&0===a.button&&tg(this,this.g);0===this.v&&(this.c.forEach(F),this.c.length=0,this.j=!1,this.g=null,Da(this.b),this.b=null)};
p.Ae=function(a){ug(this,a);var c=new Tf("pointerdown",this.a,a);K(this,c);this.g=a;0===this.c.length&&(this.b=new ng(document),this.c.push(I(this.b,"pointermove",this.Be,this),I(this.b,"pointerup",this.ud,this),I(this.f,"pointercancel",this.ud,this)))};p.Be=function(a){if(vg(this,a)){this.j=!0;var c=new Tf("pointerdrag",this.a,a,this.j);K(this,c)}a.preventDefault()};p.Cf=function(a){K(this,new Tf(a.type,this.a,a,!(!this.g||!vg(this,a))))};
function vg(a,c){return Math.abs(c.clientX-a.g.clientX)>a.G||Math.abs(c.clientY-a.g.clientY)>a.G}p.W=function(){this.L&&(F(this.L),this.L=null);this.l&&(F(this.l),this.l=null);this.c.forEach(F);this.c.length=0;this.b&&(Da(this.b),this.b=null);this.f&&(Da(this.f),this.f=null);Ga.prototype.W.call(this)};function wg(a){return function(c){if(c)return[ib(c[0],a[0],a[2]),ib(c[1],a[1],a[3])]}}function xg(a){return a};function yg(a){return function(c,d,e){if(void 0!==c)return c=Dc(a,c,e),c=ib(c+d,0,a.length-1),d=Math.floor(c),c!=d&&d<a.length-1?a[d]/Math.pow(a[d]/a[d+1],c-d):a[d]}}function zg(a,c,d){return function(e,f,g){if(void 0!==e)return e=Math.max(Math.floor(Math.log(c/e)/Math.log(a)+(-g/2+.5))+f,0),void 0!==d&&(e=Math.min(e,d)),c/Math.pow(a,e)}};function Ag(a){if(void 0!==a)return 0}function Bg(a,c){if(void 0!==a)return a+c}function Cg(a){var c=2*Math.PI/a;return function(a,e){if(void 0!==a)return a=Math.floor((a+e)/c+.5)*c}}function Eg(){var a=5*Math.PI/180;return function(c,d){if(void 0!==c)return Math.abs(c+d)<=a?0:c+d}};function Fg(a){return 1-Math.pow(1-a,3)}function Gg(a){return 3*a*a-2*a*a*a}function Hg(a){return a};function Ig(a,c){Nc.call(this);this.ra(a,c)}u(Ig,Nc);Ig.prototype.clone=function(){var a=new Ig(null);Pc(a,this.c,this.u.slice());a.b();return a};Ig.prototype.wc=function(a){var c=this.u,d=c[0];c=c[1];return Ua(d,c,d,c,a)};Ig.prototype.getType=function(){return"Point"};Ig.prototype.ra=function(a,c){if(a){Qc(this,c,a,0);this.u||(this.u=[]);var d=c=this.u,e=0,f;var g=0;for(f=a.length;g<f;++g)d[e++]=a[g];c.length=e}else Pc(this,"XY",null);this.b()};function Jg(a,c,d,e,f,g,h){var k,l=f[g+1],m=[],n=d[0];var q=a[n-e];var r=a[n-e+1];for(k=c;k<n;k+=e){var x=a[k];var z=a[k+1];if(l<=r&&z<=l||r<=l&&l<=z)q=(l-r)/(z-r)*(x-q)+q,m.push(q);q=x;r=z}n=NaN;r=-Infinity;m.sort(Cc);q=m[0];k=1;for(z=m.length;k<z;++k){x=m[k];var A=Math.abs(x-q);if(A>r){q=(q+x)/2;var y;a:if(0!==d.length&&Xc(a,c,d[0],e,q,l)){var v=1;for(y=d.length;v<y;++v)if(Xc(a,d[v-1],d[v],e,q,l)){y=!1;break a}y=!0}else y=!1;y&&(n=q,r=A)}q=x}isNaN(n)&&(n=f[g]);return h?(h.push(n,l),h):[n,l]};function Kg(a,c){Nc.call(this);this.a=[];this.G=-1;this.N=null;this.K=-1;this.j=null;this.ra(a,c)}u(Kg,Nc);p=Kg.prototype;p.clone=function(){var a=new Kg(null);Lg(a,this.c,this.u.slice(),this.a.slice());return a};p.hb=function(){return this.a};function Ad(a){if(a.G!=a.g){var c=cb(a.A());a.N=Jg(zd(a),0,a.a,a.B,c,0);a.G=a.g}return a.N}function zd(a){if(a.K!=a.g){var c=a.u;Rd(c,a.a,a.B)?a.j=c:(a.j=c.slice(),a.j.length=Sd(a.j,0,a.a,a.B));a.K=a.g}return a.j}
p.Gb=function(a){var c=[],d=[];c.length=Zc(this.u,0,this.a,this.B,Math.sqrt(a),c,0,d);a=new Kg(null);Lg(a,"XY",c,d);return a};p.getType=function(){return"Polygon"};p.ra=function(a,c){a?(Qc(this,c,a,2),this.u||(this.u=[]),a=Sc(this.u,0,a,this.B,this.a),this.u.length=0===a.length?0:a[a.length-1],this.b()):Lg(this,"XY",null,this.a)};function Lg(a,c,d,e){Pc(a,c,d);a.a=e;a.b()}function Mg(a){var c=a[0],d=a[1],e=a[2];a=a[3];c=[c,d,c,a,e,a,e,d,c,d];d=new Kg(null);Lg(d,"XY",c,[c.length]);return d};function Ng(a){M.call(this);a=ra({},a);this.i=[0,0];this.c=[];this.lc=this.lc.bind(this);this.v=Ob(a.projection);var c={};c.center=void 0!==a.center?a.center:null;var d=void 0!==a.minZoom?a.minZoom:0;var e=void 0!==a.maxZoom?a.maxZoom:28;var f=void 0!==a.Xf?a.Xf:2;if(void 0!==a.Xa){e=a.Xa;var g=e[0];var h=e[e.length-1];e=yg(e)}else{g=Ob(a.projection);h=g.A();var k=(h?Math.max(ab(h),bb(h)):360*ob.degrees/sb(g))/256/Math.pow(2,0),l=k/Math.pow(2,28);g=a.maxResolution;void 0!==g?d=0:g=k/Math.pow(f,d);
h=a.minResolution;void 0===h&&(h=void 0!==a.maxZoom?void 0!==a.maxResolution?g/Math.pow(f,e):k/Math.pow(f,e):l);e=d+Math.floor(Math.log(g/h)/Math.log(f));h=g/Math.pow(f,e-d);e=zg(f,g,e-d)}this.f=g;this.o=h;this.j=d;(void 0!==a.je?a.je:1)?(d=a.xc,d=void 0===d||!0===d?Eg():!1===d?Bg:"number"===typeof d?Cg(d):Bg):d=Ag;this.a={center:void 0!==a.extent?wg(a.extent):xg,resolution:e,rotation:d};void 0!==a.resolution?c.resolution=a.resolution:void 0!==a.zoom&&(c.resolution=this.V(this.f,a.zoom-this.j));c.rotation=
void 0!==a.rotation?a.rotation:0;Ja(this,c)}u(Ng,M);p=Ng.prototype;
p.animate=function(a){var c=Date.now(),d=this.getCenter().slice(),e=this.P(),f=this.X(),g=arguments.length;if(1<g&&"function"===typeof arguments[g-1]){var h=arguments[g-1];--g}for(var k=[],l=0;l<g;++l){var m=arguments[l],n={start:c,complete:!1,anchor:m.anchor,duration:void 0!==m.duration?m.duration:1E3,ca:m.ca||Gg};m.center&&(n.Nb=d,n.Pb=m.center,d=n.Pb);void 0!==m.zoom?(n.Ob=e,n.Za=this.V(this.f,m.zoom-this.j,0),e=n.Za):m.resolution&&(n.Ob=e,n.Za=m.resolution,e=n.Za);void 0!==m.rotation&&(n.jc=f,
n.Qb=f+(kb(m.rotation-f+Math.PI,2*Math.PI)-Math.PI),f=n.Qb);n.eb=h;if(m=n.Nb&&n.Pb){m=n.Nb;for(var q=!0,r=m.length-1;0<=r;--r)if(m[r]!=n.Pb[r]){q=!1;break}m=!q}m||n.Ob!==n.Za||n.jc!==n.Qb?c+=n.duration:n.complete=!0;k.push(n)}this.c.push(k);Og(this,0,1);this.lc()};function Pg(a){Og(a,0,-Qg(a)[0]);for(var c=0,d=a.c.length;c<d;++c){var e=a.c[c];e[0].eb&&e[0].eb(!1)}a.c.length=0}
p.lc=function(){void 0!==this.l&&(cancelAnimationFrame(this.l),this.l=void 0);if(0<Qg(this)[0]){for(var a=Date.now(),c=!1,d=this.c.length-1;0<=d;--d){for(var e=this.c[d],f=!0,g=0,h=e.length;g<h;++g){var k=e[g];if(!k.complete){c=a-k.start;c=0<k.duration?c/k.duration:1;1<=c?(k.complete=!0,c=1):f=!1;c=k.ca(c);if(k.Nb){var l=k.Nb[0],m=k.Nb[1];this.set("center",[l+c*(k.Pb[0]-l),m+c*(k.Pb[1]-m)])}k.Ob&&k.Za&&(l=1===c?k.Za:k.Ob+c*(k.Za-k.Ob),k.anchor&&this.set("center",Rg(this,l,k.anchor)),this.set("resolution",
l));void 0!==k.jc&&void 0!==k.Qb&&(c=1===c?kb(k.Qb+Math.PI,2*Math.PI)-Math.PI:k.jc+c*(k.Qb-k.jc),k.anchor&&this.set("center",Sg(this,c,k.anchor)),this.set("rotation",c));c=!0;if(!k.complete)break}}f&&(this.c[d]=null,Og(this,0,-1),(e=e[0].eb)&&e(!0))}this.c=this.c.filter(Boolean);c&&void 0===this.l&&(this.l=requestAnimationFrame(this.lc))}};function Sg(a,c,d){var e=a.getCenter();if(void 0!==e){var f=[e[0]-d[0],e[1]-d[1]];kd(f,c-a.X());a=f;a[0]+=d[0];a[1]+=d[1]}return f}
function Rg(a,c,d){var e,f=a.getCenter();a=a.P();void 0!==f&&void 0!==a&&(e=[d[0]-c*(d[0]-f[0])/a,d[1]-c*(d[1]-f[1])/a]);return e}function Tg(a){var c=[100,100];a='.ol-viewport[data-view="'+B(a)+'"]';if(a=document.querySelector(a))a=getComputedStyle(a),c[0]=parseInt(a.width,10),c[1]=parseInt(a.height,10);return c}p.V=function(a,c,d){return this.a.resolution(a,c||0,d||0)};p.xc=function(a,c){return this.a.rotation(a,c||0)};p.getCenter=function(){return this.get("center")};
function Qg(a,c){return void 0!==c?(c[0]=a.i[0],c[1]=a.i[1],c):a.i.slice()}p.getProjection=function(){return this.v};p.P=function(){return this.get("resolution")};function Ug(a,c,d){a=d||Tg(a);return Math.max(ab(c)/a[0],bb(c)/a[1])}p.X=function(){return this.get("rotation")};p.getState=function(){var a=this.getCenter(),c=this.getProjection(),d=this.P(),e=this.X();return{center:a.slice(),projection:void 0!==c?c:null,resolution:d,rotation:e}};
function Vg(a,c,d){d=d||{};var e=d.size;e||(e=Tg(a));if(c instanceof Nc)if("Circle"===c.getType()){c=c.A();var f=Mg(c);f.rotate(a.X(),cb(c))}else f=c;else C(Array.isArray(c),24),C(!$a(c),25),f=Mg(c);var g=void 0!==d.padding?d.padding:[0,0,0,0],h=void 0!==d.V?d.V:!0,k=void 0!==d.ef?d.ef:!1,l;void 0!==d.minResolution?l=d.minResolution:void 0!==d.maxZoom?l=a.V(a.f,d.maxZoom-a.j,0):l=0;var m=f.u,n=a.X();c=Math.cos(-n);n=Math.sin(-n);var q=Infinity,r=Infinity,x=-Infinity,z=-Infinity;f=f.B;for(var A=0,
y=m.length;A<y;A+=f){var v=m[A]*c-m[A+1]*n,H=m[A]*n+m[A+1]*c;q=Math.min(q,v);r=Math.min(r,H);x=Math.max(x,v);z=Math.max(z,H)}e=Ug(a,[q,r,x,z],[e[0]-g[1]-g[3],e[1]-g[0]-g[2]]);e=isNaN(e)?l:Math.max(e,l);h&&(l=a.V(e,0,0),!k&&l<e&&(l=a.V(l,-1,0)),e=l);n=-n;l=(q+x)/2+(g[1]-g[3])/2*e;g=(r+z)/2+(g[0]-g[2])/2*e;c=[l*c-g*n,g*c+l*n];g=d.eb?d.eb:w;void 0!==d.duration?a.animate({resolution:e,center:c,duration:d.duration,ca:d.ca},g):(Wg(a,e),a.setCenter(c),setTimeout(g.bind(void 0,!0),0))}
p.rotate=function(a,c){void 0!==c&&(c=Sg(this,a,c),this.setCenter(c));this.set("rotation",a);0<Qg(this)[0]&&Pg(this)};p.setCenter=function(a){this.set("center",a);0<Qg(this)[0]&&Pg(this)};function Og(a,c,d){a.i[c]+=d;a.b()}function Wg(a,c){a.set("resolution",c);0<Qg(a)[0]&&Pg(a)};function Xg(a){a=a?a:{};this.K=document.createElement("UL");this.j=document.createElement("LI");this.K.appendChild(this.j);this.j.style.display="none";this.f=void 0!==a.collapsed?a.collapsed:!0;this.v=void 0!==a.fe?a.fe:!0;this.v||(this.f=!1);var c=void 0!==a.className?a.className:"ol-attribution",d=void 0!==a.Sc?a.Sc:"Attributions",e=void 0!==a.ee?a.ee:"\u00bb";"string"===typeof e?(this.i=document.createElement("span"),this.i.textContent=e):this.i=e;e=void 0!==a.label?a.label:"i";"string"===typeof e?
(this.l=document.createElement("span"),this.l.textContent=e):this.l=e;var f=this.v&&!this.f?this.i:this.l;e=document.createElement("button");e.setAttribute("type","button");e.title=d;e.appendChild(f);I(e,"click",this.U,this);d=document.createElement("div");d.className=c+" ol-unselectable ol-control"+(this.f&&this.v?" ol-collapsed":"")+(this.v?"":" ol-uncollapsible");d.appendChild(this.K);d.appendChild(e);kf.call(this,{element:d,render:a.render?a.render:Yg,target:a.target});this.N=!0;this.c={};this.a=
{};this.Y={}}u(Xg,kf);
function Yg(a){if(a=a.frameState){var c,d,e,f,g,h=a.Nc,k=ra({},a.aa),l={},m={},n=a.Z.projection;var q=0;for(c=h.length;q<c;q++)if(f=jd(h[q].layer)){var r=B(f).toString();if(g=f.N){var x=0;for(d=g.length;x<d;x++){var z=g[x];var A=B(z).toString();if(!(A in k)){if(e=a.nc[r]){var y=f.Ua(n);a:{var v=void 0;var H,G=z,R=y,O=n;if(G.b){for(v in e)if(v in G.b){y=e[v];var J=0;for(H=G.b[v].length;J<H;++J){var t=G.b[v][J];if(Fe(t,y)){v=!0;break a}var E=Me(R,Se(O),parseInt(v,10)),L=E.qa();if(y.D<E.D||y.H>E.H)if(Fe(t,
new De(kb(y.D,L),kb(y.H,L),y.F,y.I))||y.qa()>L&&Fe(t,E)){v=!0;break a}}}v=!1}else v=!0}}else v=!1;v?(A in l&&delete l[A],v=z.a,v in m||(m[v]=!0,k[A]=z)):l[A]=z}}}}c=[k,l];q=c[0];c=c[1];for(var D in this.c)D in q?(this.a[D]||(this.c[D].style.display="",this.a[D]=!0),delete q[D]):D in c?(this.a[D]&&(this.c[D].style.display="none",delete this.a[D]),delete c[D]):(Yb(this.c[D]),delete this.c[D],delete this.a[D]);for(D in q)x=document.createElement("LI"),x.innerHTML=q[D].a,this.K.appendChild(x),this.c[D]=
x,this.a[D]=!0;for(D in c)x=document.createElement("LI"),x.innerHTML=c[D].a,x.style.display="none",this.K.appendChild(x),this.c[D]=x;D=!ta(this.a)||!ta(a.ob);this.N!=D&&(this.element.style.display=D?"":"none",this.N=D);D&&ta(this.a)?this.element.classList.add("ol-logo-only"):this.element.classList.remove("ol-logo-only");a=a.ob;D=this.Y;for(P in D)P in a||(Yb(D[P]),delete D[P]);for(var ba in a)if(c=a[ba],c instanceof HTMLElement&&(this.j.appendChild(c),D[ba]=c),!(ba in D)){var P=new Image;P.src=ba;
""===c?q=P:(q=document.createElement("a"),q.href=c,q.appendChild(P));this.j.appendChild(q);D[ba]=q}this.j.style.display=ta(a)?"none":""}else this.N&&(this.element.style.display="none",this.N=!1)}Xg.prototype.U=function(a){a.preventDefault();this.element.classList.toggle("ol-collapsed");if(this.f){a=this.l;var c=a.parentNode;c&&c.replaceChild(this.i,a)}else a=this.i,(c=a.parentNode)&&c.replaceChild(this.l,a);this.f=!this.f};function Zg(a){a=a?a:{};var c=void 0!==a.className?a.className:"ol-rotate",d=void 0!==a.label?a.label:"\u21e7";this.a=null;"string"===typeof d?(this.a=document.createElement("span"),this.a.className="ol-compass",this.a.textContent=d):(this.a=d,this.a.classList.add("ol-compass"));var e=a.Sc?a.Sc:"Reset rotation";d=document.createElement("button");d.className=c+"-reset";d.setAttribute("type","button");d.title=e;d.appendChild(this.a);I(d,"click",Zg.prototype.l,this);e=document.createElement("div");e.className=
c+" ol-unselectable ol-control";e.appendChild(d);c=a.render?a.render:$g;this.f=a.Ff?a.Ff:void 0;kf.call(this,{element:e,render:c,target:a.target});this.i=void 0!==a.duration?a.duration:250;this.c=void 0!==a.ce?a.ce:!0;this.j=void 0;this.c&&this.element.classList.add("ol-hidden")}u(Zg,kf);Zg.prototype.l=function(a){a.preventDefault();void 0!==this.f?this.f():(a=Q(this.o))&&void 0!==a.X()&&(0<this.i?a.animate({rotation:0,duration:this.i,ca:Fg}):(a.set("rotation",0),0<Qg(a)[0]&&Pg(a)))};
function $g(a){if(a=a.frameState){a=a.Z.rotation;if(a!=this.j){var c="rotate("+a+"rad)";if(this.c){var d=this.element.classList.contains("ol-hidden");d||0!==a?d&&0!==a&&this.element.classList.remove("ol-hidden"):this.element.classList.add("ol-hidden")}this.a.style.msTransform=c;this.a.style.webkitTransform=c;this.a.style.transform=c}this.j=a}};function ah(a){a=a?a:{};var c=void 0!==a.className?a.className:"ol-zoom",d=void 0!==a.Ra?a.Ra:1,e=void 0!==a.Yf?a.Yf:"+",f=void 0!==a.ag?a.ag:"\u2212",g=void 0!==a.Zf?a.Zf:"Zoom in",h=void 0!==a.bg?a.bg:"Zoom out",k=document.createElement("button");k.className=c+"-in";k.setAttribute("type","button");k.title=g;k.appendChild("string"===typeof e?document.createTextNode(e):e);I(k,"click",ah.prototype.c.bind(this,d));e=document.createElement("button");e.className=c+"-out";e.setAttribute("type","button");
e.title=h;e.appendChild("string"===typeof f?document.createTextNode(f):f);I(e,"click",ah.prototype.c.bind(this,-d));d=document.createElement("div");d.className=c+" ol-unselectable ol-control";d.appendChild(k);d.appendChild(e);kf.call(this,{element:d,target:a.target});this.a=void 0!==a.duration?a.duration:250}u(ah,kf);ah.prototype.c=function(a,c){c.preventDefault();if(c=Q(this.o)){var d=c.P();d&&(a=c.V(d,a),0<this.a?(0<Qg(c)[0]&&Pg(c),c.animate({resolution:a,duration:this.a,ca:Fg})):Wg(c,a))}};function bh(){this.b=[];this.a=this.g=0}function ch(a){a.b.length=0;a.g=0;a.a=0}function dh(a){if(6>a.b.length)return!1;var c=Date.now()-100,d=a.b.length-3;if(a.b[d+2]<c)return!1;for(var e=d-3;0<e&&a.b[e+2]>c;)e-=3;c=a.b[d+2]-a.b[e+2];if(c<1E3/60)return!1;var f=a.b[d]-a.b[e];d=a.b[d+1]-a.b[e+1];a.g=Math.atan2(d,f);a.a=Math.sqrt(f*f+d*d)/c;return.05<a.a};function eh(a){M.call(this);this.G=null;this.set("active",!0);this.handleEvent=a.handleEvent}u(eh,M);eh.prototype.setMap=function(a){this.G=a};function fh(a,c,d,e){if(void 0!==c){var f=a.X(),g=a.getCenter();void 0!==f&&g&&0<e?a.animate({rotation:c,anchor:d,duration:e,ca:Fg}):a.rotate(c,d)}}function gh(a,c,d,e){var f=a.P();c=a.V(f,c,0);if(d&&void 0!==c&&c!==f){var g=a.getCenter();d=Rg(a,c,d);d=a.a.center(d);d=[(c*g[0]-f*d[0])/(c-f),(c*g[1]-f*d[1])/(c-f)]}hh(a,c,d,e)}
function hh(a,c,d,e){if(c){var f=a.P(),g=a.getCenter();void 0!==f&&g&&c!==f&&e?a.animate({resolution:c,anchor:d,duration:e,ca:Fg}):(d&&(d=Rg(a,c,d),a.setCenter(d)),Wg(a,c))}};function ih(a){a=a?a:{};this.a=a.Ra?a.Ra:1;eh.call(this,{handleEvent:jh});this.c=void 0!==a.duration?a.duration:250}u(ih,eh);function jh(a){var c=!1,d=a.originalEvent;if("dblclick"==a.type){c=a.coordinate;d=d.shiftKey?-this.a:this.a;var e=Q(a.map);gh(e,d,c,this.c);a.preventDefault();c=!0}return!c};function kh(a){a=a.originalEvent;return a.altKey&&!(a.metaKey||a.ctrlKey)&&a.shiftKey}function lh(a){a=a.originalEvent;return 0==a.button&&!(bc&&cc&&a.ctrlKey)}function mh(a){a=a.originalEvent;return!a.altKey&&!(a.metaKey||a.ctrlKey)&&!a.shiftKey}function nh(a){a=a.originalEvent;return!a.altKey&&!(a.metaKey||a.ctrlKey)&&a.shiftKey}function oh(a){a=a.originalEvent.target.tagName;return"INPUT"!==a&&"SELECT"!==a&&"TEXTAREA"!==a}function ph(a){C(a.b,56);return"mouse"==a.b.pointerType};function qh(a){a=a?a:{};eh.call(this,{handleEvent:a.handleEvent?a.handleEvent:rh});this.N=a.jb?a.jb:hb;this.K=a.kb?a.kb:w;this.S=a.ze?a.ze:w;this.Y=a.lb?a.lb:hb;this.f=!1;this.l={};this.a=[]}u(qh,eh);function sh(a){for(var c=a.length,d=0,e=0,f=0;f<c;f++)d+=a[f].clientX,e+=a[f].clientY;return[d/c,e/c]}
function rh(a){if(!(a instanceof Tf))return!0;var c=!1,d=a.type;if("pointerdown"===d||"pointerdrag"===d||"pointerup"===d){d=a.b;var e=d.pointerId.toString();"pointerup"==a.type?delete this.l[e]:"pointerdown"==a.type?this.l[e]=d:e in this.l&&(this.l[e]=d);d=this.l;e=[];for(var f in d)e.push(d[f]);this.a=e}this.f?"pointerdrag"==a.type?this.K(a):"pointerup"==a.type&&(this.f=this.Y(a)&&0<this.a.length):"pointerdown"==a.type?(this.f=a=this.N(a),c=this.j(a)):"pointermove"==a.type&&this.S(a);return!c}
qh.prototype.j=function(a){return a};function th(a){qh.call(this,{jb:uh,kb:vh,lb:wh});a=a?a:{};this.c=a.Me;this.i=null;this.U=a.pa?a.pa:mh;this.o=!1}u(th,qh);function vh(a){var c=this.a,d=sh(c);if(c.length==this.v){if(this.c&&this.c.b.push(d[0],d[1],Date.now()),this.i){var e=this.i[0]-d[0],f=d[1]-this.i[1];a=Q(a.map);var g=a.getState();f=e=[e,f];var h=g.resolution;f[0]*=h;f[1]*=h;kd(e,g.rotation);f=e;g=g.center;f[0]+=g[0];f[1]+=g[1];e=a.a.center(e);a.setCenter(e)}}else this.c&&ch(this.c);this.i=d;this.v=c.length}
function wh(a){var c=a.map;a=Q(c);if(0===this.a.length){if(!this.o&&this.c&&dh(this.c)){var d=(.05-this.c.a)/-.005;var e=this.c.g,f=a.getCenter();f=xh(c,f);c=c.Fb([f[0]-d*Math.cos(e),f[1]-d*Math.sin(e)]);a.animate({center:a.a.center(c),duration:500,ca:Fg})}Og(a,1,-1);return!1}this.c&&ch(this.c);this.i=null;return!0}
function uh(a){if(0<this.a.length&&this.U(a)){var c=Q(a.map);this.i=null;this.f||Og(c,1,1);Qg(c)[0]&&c.setCenter(a.frameState.Z.center);this.c&&ch(this.c);this.o=1<this.a.length;return!0}return!1}th.prototype.j=hb;function yh(a){a=a?a:{};qh.call(this,{jb:zh,kb:Ah,lb:Bh});this.i=a.pa?a.pa:kh;this.c=void 0;this.o=void 0!==a.duration?a.duration:250}u(yh,qh);function Ah(a){if(ph(a)){var c=a.map,d=Q(c);if(d.a.rotation!==Ag){c=c.ya();a=a.pixel;a=Math.atan2(c[1]/2-a[1],a[0]-c[0]/2);if(void 0!==this.c){c=a-this.c;var e=d.X();fh(d,e-c)}this.c=a}}}function Bh(a){if(!ph(a))return!0;a=Q(a.map);Og(a,1,-1);var c=a.X(),d=this.o;c=a.xc(c,0);fh(a,c,void 0,d);return!1}
function zh(a){return ph(a)&&lh(a)&&this.i(a)?(Og(Q(a.map),1,1),this.c=void 0,!0):!1}yh.prototype.j=hb;function Ch(a){this.Ta=null;this.a=document.createElement("div");this.a.style.position="absolute";this.a.className="ol-box "+a;this.g=this.c=this.b=null}u(Ch,Ba);Ch.prototype.W=function(){this.setMap(null)};function Dh(a){var c=a.c,d=a.g;a=a.a.style;a.left=Math.min(c[0],d[0])+"px";a.top=Math.min(c[1],d[1])+"px";a.width=Math.abs(d[0]-c[0])+"px";a.height=Math.abs(d[1]-c[1])+"px"}
Ch.prototype.setMap=function(a){if(this.b){this.b.G.removeChild(this.a);var c=this.a.style;c.left=c.top=c.width=c.height="inherit"}(this.b=a)&&this.b.G.appendChild(this.a)};function Eh(a){var c=a.c,d=a.g;c=[c,[c[0],d[1]],d,[d[0],c[1]]].map(a.b.Fb,a.b);c[4]=c[0].slice();a.Ta?a.Ta.ra([c]):a.Ta=new Kg([c])}Ch.prototype.getGeometry=function(){return this.Ta};function Fh(a){qh.call(this,{jb:Gh,kb:Hh,lb:Ih});a=a?a:{};this.c=new Ch(a.className||"ol-dragbox");this.U=void 0!==a.Te?a.Te:64;this.i=null;this.ma=a.pa?a.pa:gb;this.v=a.de?a.de:Jh}u(Fh,qh);function Jh(a,c,d){a=d[0]-c[0];c=d[1]-c[1];return a*a+c*c>=this.U}function Hh(a){if(ph(a)){var c=this.c,d=a.pixel;c.c=this.i;c.g=d;Eh(c);Dh(c);K(this,new Kh(Lh,a.coordinate,a))}}Fh.prototype.getGeometry=function(){return this.c.getGeometry()};Fh.prototype.o=w;
function Ih(a){if(!ph(a))return!0;this.c.setMap(null);this.v(a,this.i,a.pixel)&&(this.o(a),K(this,new Kh(Mh,a.coordinate,a)));return!1}function Gh(a){if(ph(a)&&lh(a)&&this.ma(a)){this.i=a.pixel;this.c.setMap(a.map);var c=this.c,d=this.i;c.c=this.i;c.g=d;Eh(c);Dh(c);K(this,new Kh(Nh,a.coordinate,a));return!0}return!1}var Nh="boxstart",Lh="boxdrag",Mh="boxend";function Kh(a,c,d){Ea.call(this,a);this.coordinate=c;this.mapBrowserEvent=d}u(Kh,Ea);function Oh(a){a=a?a:{};var c=a.pa?a.pa:nh;this.sa=void 0!==a.duration?a.duration:200;this.Ca=void 0!==a.Ha?a.Ha:!1;Fh.call(this,{pa:c,className:a.className||"ol-dragzoom"})}u(Oh,Fh);
Oh.prototype.o=function(){var a=this.G,c=Q(a),d=a.ya(),e=this.getGeometry().A();if(this.Ca){var f=d||Tg(c);var g=c.getCenter();C(g,1);var h=c.P();C(void 0!==h,2);var k=c.X();C(void 0!==k,3);f=db(g,h,k,f);e=[xh(a,[e[0],e[1]]),xh(a,[e[2],e[3]])];a=Va(void 0);g=0;for(h=e.length;g<h;++g)Pa(a,e[g]);a=1/Ug(c,a,d);e=(f[2]-f[0])/2*(a-1);a=(f[3]-f[1])/2*(a-1);f[0]-=e;f[2]+=e;f[1]-=a;f[3]+=a;e=f}d=c.V(Ug(c,e,d));f=cb(e);f=c.a.center(f);c.animate({resolution:d,center:f,duration:this.sa,ca:Fg})};function Ph(a){eh.call(this,{handleEvent:Qh});a=a||{};this.a=function(a){return mh(a)&&oh(a)};this.c=void 0!==a.pa?a.pa:this.a;this.f=void 0!==a.duration?a.duration:100;this.i=void 0!==a.rf?a.rf:128}u(Ph,eh);
function Qh(a){var c=!1;if("keydown"==a.type){var d=a.originalEvent.keyCode;if(this.c(a)&&(40==d||37==d||39==d||38==d)){c=Q(a.map);var e=c.P()*this.i,f=0,g=0;40==d?g=-e:37==d?f=-e:39==d?f=e:g=e;e=[f,g];kd(e,c.X());d=this.f;if(f=c.getCenter())e=c.a.center([f[0]+e[0],f[1]+e[1]]),d?c.animate({duration:d,ca:Hg,center:e}):c.setCenter(e);a.preventDefault();c=!0}}return!c};function Rh(a){eh.call(this,{handleEvent:Sh});a=a?a:{};this.c=a.pa?a.pa:oh;this.a=a.Ra?a.Ra:1;this.f=void 0!==a.duration?a.duration:100}u(Rh,eh);function Sh(a){var c=!1;if("keydown"==a.type||"keypress"==a.type){var d=a.originalEvent.charCode;!this.c(a)||43!=d&&45!=d||(c=43==d?this.a:-this.a,d=Q(a.map),gh(d,c,void 0,this.f),a.preventDefault(),c=!0)}return!c};function Th(a){eh.call(this,{handleEvent:Uh});a=a||{};this.i=0;this.o=void 0!==a.duration?a.duration:250;this.S=void 0!==a.timeout?a.timeout:80;this.Y=void 0!==a.Uf?a.Uf:!0;this.K=a.V||!1;this.a=null;this.j=this.f=this.l=this.c=void 0}u(Th,eh);
function Uh(a){var c=a.type;if("wheel"!==c&&"mousewheel"!==c)return!0;a.preventDefault();c=a.map;var d=a.originalEvent;this.Y&&(this.a=a.coordinate);if("wheel"==a.type){var e=d.deltaY;$b&&d.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(e/=dc);d.deltaMode===WheelEvent.DOM_DELTA_LINE&&(e*=40)}else"mousewheel"==a.type&&(e=-d.wheelDeltaY,ac&&(e/=3));if(0===e)return!1;a=Date.now();void 0===this.c&&(this.c=a);if(!this.f||400<a-this.c)this.f=4>Math.abs(e)?Vh:Wh;if(this.f===Vh){c=Q(c);this.j?clearTimeout(this.j):
Og(c,1,1);this.j=setTimeout(this.v.bind(this),400);d=c.P()*Math.pow(2,e/300);var f=c.o,g=c.f,h=0;d<f?(d=Math.max(d,f/1.5),h=1):d>g&&(d=Math.min(d,1.5*g),h=-1);if(this.a){var k=Rg(c,d,this.a);c.setCenter(c.a.center(k))}Wg(c,d);0===h&&this.K&&c.animate({resolution:c.V(d,0<e?-1:1),ca:Fg,anchor:this.a,duration:this.o});0<h?c.animate({resolution:f,ca:Fg,anchor:this.a,duration:500}):0>h&&c.animate({resolution:g,ca:Fg,anchor:this.a,duration:500});this.c=a;return!1}this.i+=e;e=Math.max(this.S-(a-this.c),
0);clearTimeout(this.l);this.l=setTimeout(this.N.bind(this,c),e);return!1}Th.prototype.v=function(){this.j=void 0;Og(Q(this.G),1,-1)};Th.prototype.N=function(a){a=Q(a);0<Qg(a)[0]&&Pg(a);gh(a,-ib(this.i,-1,1),this.a,this.o);this.f=void 0;this.i=0;this.a=null;this.l=this.c=void 0};var Vh="trackpad",Wh="wheel";function Xh(a){qh.call(this,{jb:Yh,kb:Zh,lb:$h});a=a||{};this.i=null;this.o=void 0;this.c=!1;this.v=0;this.ma=void 0!==a.threshold?a.threshold:.3;this.U=void 0!==a.duration?a.duration:250}u(Xh,qh);
function Zh(a){var c=0,d=this.a[0],e=this.a[1];d=Math.atan2(e.clientY-d.clientY,e.clientX-d.clientX);void 0!==this.o&&(c=d-this.o,this.v+=c,!this.c&&Math.abs(this.v)>this.ma&&(this.c=!0));this.o=d;a=a.map;d=Q(a);if(d.a.rotation!==Ag){e=a.a.getBoundingClientRect();var f=sh(this.a);f[0]-=e.left;f[1]-=e.top;this.i=a.Fb(f);this.c&&(e=d.X(),a.render(),fh(d,e+c,this.i))}}
function $h(a){if(2>this.a.length){a=Q(a.map);Og(a,1,-1);if(this.c){var c=a.X(),d=this.i,e=this.U;c=a.xc(c,0);fh(a,c,d,e)}return!1}return!0}function Yh(a){return 2<=this.a.length?(a=a.map,this.i=null,this.o=void 0,this.c=!1,this.v=0,this.f||Og(Q(a),1,1),!0):!1}Xh.prototype.j=hb;function ai(a){qh.call(this,{jb:bi,kb:ci,lb:di});a=a?a:{};this.v=a.V||!1;this.i=null;this.U=void 0!==a.duration?a.duration:400;this.c=void 0;this.o=1}u(ai,qh);
function ci(a){var c=1,d=this.a[0],e=this.a[1],f=d.clientX-e.clientX;d=d.clientY-e.clientY;f=Math.sqrt(f*f+d*d);void 0!==this.c&&(c=this.c/f);this.c=f;a=a.map;f=Q(a);e=f.P();var g=f.f,h=f.o;d=e*c;d>g?(c=g/e,d=g):d<h&&(c=h/e,d=h);1!=c&&(this.o=c);c=a.a.getBoundingClientRect();e=sh(this.a);e[0]-=c.left;e[1]-=c.top;this.i=a.Fb(e);a.render();hh(f,d,this.i)}
function di(a){if(2>this.a.length){a=Q(a.map);Og(a,1,-1);var c=a.P();if(this.v||c<a.o||c>a.f){var d=this.i,e=this.U;c=a.V(c,0,this.o-1);hh(a,c,d,e)}return!1}return!0}function bi(a){return 2<=this.a.length?(a=a.map,this.i=null,this.c=void 0,this.o=1,this.f||Og(Q(a),1,1),!0):!1}ai.prototype.j=hb;function ei(a){var c=a||{};a=ra({},c);delete a.layers;c=c.layers;gd.call(this,a);this.f=[];this.c={};I(this,La(fi),this.xe,this);c?Array.isArray(c)?c=new Kf(c.slice(),{unique:!0}):C(c instanceof Kf,43):c=new Kf(void 0,{unique:!0});this.set(fi,c)}u(ei,gd);p=ei.prototype;p.yc=function(){};p.ec=function(){this.b()};
p.xe=function(){this.f.forEach(F);this.f.length=0;var a=this.getLayers();this.f.push(I(a,"add",this.we,this),I(a,"remove",this.ye,this));for(var c in this.c)this.c[c].forEach(F);sa(this.c);a=a.a;var d;c=0;for(d=a.length;c<d;c++){var e=a[c];this.c[B(e).toString()]=[I(e,"propertychange",this.ec,this),I(e,"change",this.ec,this)]}this.b()};p.we=function(a){a=a.element;var c=B(a).toString();this.c[c]=[I(a,"propertychange",this.ec,this),I(a,"change",this.ec,this)];this.b()};
p.ye=function(a){a=B(a.element).toString();this.c[a].forEach(F);delete this.c[a];this.b()};p.getLayers=function(){return this.get(fi)};
p.Hc=function(a){var c=void 0!==a?a:[],d=c.length;this.getLayers().forEach(function(a){a.Hc(c)});a=hd(this);var e;for(e=c.length;d<e;d++){var f=c[d];f.opacity*=a.opacity;f.visible=f.visible&&a.visible;f.maxResolution=Math.min(f.maxResolution,a.maxResolution);f.minResolution=Math.max(f.minResolution,a.minResolution);void 0!==a.extent&&(f.extent=void 0!==f.extent?eb(f.extent,a.extent):a.extent)}return c};p.rd=function(){return"ready"};var fi="layers";function gi(a,c){this.i=c;this.a={};this.c={}}u(gi,Ba);gi.prototype.W=function(){for(var a in this.a)Da(this.a[a])};function hi(){if(32<Ef.a){var a=0,c;for(c in Ef.b){var d=Ef.b[c];0!==(a++&3)||Ha(d)||(delete Ef.b[c],--Ef.a)}}}gi.prototype.C=function(){this.i.render()};gi.prototype.w=w;gi.prototype.l=function(a,c){for(var d in this.a)if(!(c&&d in c.Mc)){a=d;var e=this.a[a];delete this.a[a];F(this.c[a]);delete this.c[a];Da(e)}};function Ic(a,c){return a.zIndex-c.zIndex};function ii(a,c){gi.call(this,0,c);this.f=Xb();this.b=this.f.canvas;this.b.style.width="100%";this.b.style.height="100%";this.b.style.display="block";this.b.className="ol-unselectable";a.insertBefore(this.b,a.childNodes[0]||null);this.g=!0;this.j=nd()}u(ii,gi);function ji(a,c,d){var e=a.i,f=a.f;if(Ha(e,c)){var g=d.extent,h=d.ka,k=d.Z.rotation,l=d.Z,m=d.ka/l.resolution;a=qd(a.j,a.b.width/2,a.b.height/2,m,-m,-l.rotation,-l.center[0],-l.center[1]);K(e,new ld(c,new rd(f,h,g,a,k),d,f,null))}}
ii.prototype.getType=function(){return"canvas"};
ii.prototype.w=function(a){if(a){var c=this.f,d=a.ka,e=Math.round(a.size[0]*d),f=Math.round(a.size[1]*d);this.b.width!=e||this.b.height!=f?(this.b.width=e,this.b.height=f):c.clearRect(0,0,e,f);d=a.Z.rotation;var g=a.Z,h=a.fb,k=a.Dd;qd(h,a.size[0]/2,a.size[1]/2,1/g.resolution,-1/g.resolution,-g.rotation,-g.center[0],-g.center[1]);g=od(k,h);h=g[0]*g[3]-g[1]*g[2];C(0!==h,32);k=g[0];var l=g[1],m=g[2],n=g[3],q=g[4],r=g[5];g[0]=n/h;g[1]=-l/h;g[2]=-m/h;g[3]=k/h;g[4]=(m*r-n*q)/h;g[5]=-(k*r-l*q)/h;ji(this,
"precompose",a);g=a.Nc;Hc(g);d&&(c.save(),nc(c,d,e/2,f/2));e=a.Z.resolution;f=0;for(h=g.length;f<h;++f)k=g[f],l=k.layer,m=l,l=B(m).toString(),l in this.a?l=this.a[l]:(m=m.yc(this),this.a[l]=m,this.c[l]=I(m,"change",this.C,this),l=m),k.visible&&e>=k.minResolution&&e<k.maxResolution&&"ready"==k.Jf&&l.L(a,k)&&l.i(a,k,c);d&&c.restore();ji(this,"postcompose",a);this.g||(this.b.style.display="",this.g=!0);for(var x in this.a)if(!(x in a.Mc)){a.gc.push(this.l.bind(this));break}a.gc.push(hi)}else this.g&&
(this.b.style.display="none",this.g=!1)};var ki=["canvas","webgl"];
function li(a){M.call(this);var c=mi(a);this.Ub=void 0!==a.Oe?a.Oe:!1;this.Vb=void 0!==a.Pe?a.Pe:!1;this.Pd=void 0!==a.ka?a.ka:dc;this.Wb=c.ob;this.gd=function(){this.Qa=void 0;this.Df.call(this,Date.now())}.bind(this);this.Sb=nd();this.Qd=nd();this.Tb=0;this.o=this.N=this.K=this.i=this.c=null;this.a=document.createElement("DIV");this.a.className="ol-viewport"+(hc?" ol-touch":"");this.a.style.position="relative";this.a.style.overflow="hidden";this.a.style.width="100%";this.a.style.height="100%";this.a.style.msTouchAction=
"none";this.a.style.touchAction="none";this.G=document.createElement("DIV");this.G.className="ol-overlaycontainer";this.a.appendChild(this.G);this.v=document.createElement("DIV");this.v.className="ol-overlaycontainer-stopevent";for(var d="click dblclick mousedown touchstart MSPointerDown pointerdown mousewheel wheel".split(" "),e=0,f=d.length;e<f;++e)I(this.v,d[e],Fa);this.a.appendChild(this.v);this.sa=new sg(this,a.yg);for(var g in Sf)I(this.sa,Sf[g],this.td,this);this.ma=c.Ib;this.j=null;I(this.a,
"wheel",this.ib,this);I(this.a,"mousewheel",this.ib,this);this.S=c.controls;this.l=c.mb;this.U=c.qb;this.Cd={};this.Lb=new c.Ef(this.a,this);this.Y=null;this.Ca=[];this.ub=new ed(this.qe.bind(this),this.Ie.bind(this));this.Rd={};I(this,La("layergroup"),this.ve,this);I(this,La("view"),this.Ke,this);I(this,La("size"),this.Ee,this);I(this,La("target"),this.He,this);Ja(this,c.values);this.S.forEach(function(a){a.setMap(this)},this);I(this.S,"add",function(a){a.element.setMap(this)},this);I(this.S,"remove",
function(a){a.element.setMap(null)},this);this.l.forEach(function(a){a.setMap(this)},this);I(this.l,"add",function(a){a.element.setMap(this)},this);I(this.l,"remove",function(a){a.element.setMap(null)},this);this.U.forEach(this.fd,this);I(this.U,"add",function(a){this.fd(a.element)},this);I(this.U,"remove",function(a){var c=a.element.a();void 0!==c&&delete this.Cd[c.toString()];a.element.setMap(null)},this)}u(li,M);p=li.prototype;
p.fd=function(a){var c=a.a();void 0!==c&&(this.Cd[c.toString()]=a);a.setMap(this)};p.W=function(){Da(this.sa);Da(this.Lb);Aa(this.a,"wheel",this.ib,this);Aa(this.a,"mousewheel",this.ib,this);void 0!==this.f&&(window.removeEventListener("resize",this.f,!1),this.f=void 0);this.Qa&&(cancelAnimationFrame(this.Qa),this.Qa=void 0);this.set("target",null);M.prototype.W.call(this)};function ni(a){a=a.get("target");return void 0!==a?"string"===typeof a?document.getElementById(a):a:null}
p.Fb=function(a){var c=this.c;return c?pd(c.Dd,a.slice()):null};function oi(a){return a.get("layergroup")}p.getLayers=function(){return oi(this).getLayers()};function xh(a,c){return(a=a.c)?pd(a.fb,c.slice(0,2)):null}p.Jc=function(){return this.Lb};p.ya=function(){return this.get("size")};function Q(a){return a.get("view")}p.qe=function(a,c,d,e){var f=this.c;if(!(f&&c in f.Rb&&f.Rb[c][a.Wa()]))return Infinity;a=d[0]-f.focus[0];d=d[1]-f.focus[1];return 65536*Math.log(e)+Math.sqrt(a*a+d*d)/e};
p.ib=function(a,c){a=new Rf(c||a.type,this,a);this.td(a)};p.td=function(a){if(this.c){this.Y=a.coordinate;a.frameState=this.c;var c=this.l.a,d;if(!1!==K(this,a))for(d=c.length-1;0<=d;d--){var e=c[d];if(e.get("active")&&!e.handleEvent(a))break}}};
p.Ce=function(){var a=this.c,c=this.ub;if(0!==c.b.length){var d=16,e=d;if(a){var f=a.bb;f[0]&&(d=this.Ub?8:0,e=2);f[1]&&(d=this.Vb?8:0,e=2)}if(c.i<d){f=c.j;var g=c.b,h=c.a,k=0,l=g.length,m;for(m=0;m<l;++m){var n=g[m];var q=f(n);Infinity==q?delete c.g[c.c(n)]:(h[k]=q,g[k++]=n)}g.length=k;h.length=k;for(f=(c.b.length>>1)-1;0<=f;f--)dd(c,f);f=0;for(g=!1;c.i<d&&f<e&&0<c.b.length;)h=c,l=h.b,n=h.a,k=l[0],1==l.length?(l.length=0,n.length=0):(l[0]=l.pop(),n[0]=n.pop(),dd(h,0)),l=h.c(k),delete h.g[l],k=k[0],
l=k.Wa(),h=k.getState(),5===h?g=!0:0!==h||l in c.f||(c.f[l]=!0,++c.i,++f,k.load());0===f&&g&&c.l()}}c=this.Ca;e=0;for(d=c.length;e<d;++e)c[e](this,a);c.length=0};p.Ee=function(){this.render()};
p.He=function(){var a;this.get("target")&&(a=ni(this));if(this.j){for(var c=0,d=this.j.length;c<d;++c)F(this.j[c]);this.j=null}a?(a.appendChild(this.a),a=this.ma?this.ma:a,this.j=[I(a,"keydown",this.ib,this),I(a,"keypress",this.ib,this)],this.f||(this.f=this.mc.bind(this),window.addEventListener("resize",this.f,!1))):(Yb(this.a),void 0!==this.f&&(window.removeEventListener("resize",this.f,!1),this.f=void 0));this.mc()};p.Ie=function(){this.render()};p.vd=function(){this.render()};
p.Ke=function(){this.K&&(F(this.K),this.K=null);this.N&&(F(this.N),this.N=null);var a=Q(this);a&&(this.a.setAttribute("data-view",B(a)),this.K=I(a,"propertychange",this.vd,this),this.N=I(a,"change",this.vd,this));this.render()};p.ve=function(){this.o&&(this.o.forEach(F),this.o=null);var a=oi(this);a&&(this.o=[I(a,"propertychange",this.render,this),I(a,"change",this.render,this)]);this.render()};p.render=function(){void 0===this.Qa&&(this.Qa=requestAnimationFrame(this.gd))};
p.Df=function(a){var c,d=this.ya(),e=Q(this),f=Oa(),g=this.c,h=null,k;if(k=void 0!==d&&0<d[0]&&0<d[1]&&e)k=!!e.getCenter()&&void 0!==e.P();if(k){h=Qg(e,this.c?this.c.bb:void 0);k=oi(this).Hc();var l={};var m=0;for(c=k.length;m<c;++m)l[B(k[m].layer)]=k[m];m=e.getState();h={animate:!1,aa:{},fb:this.Sb,extent:f,focus:this.Y?this.Y:m.center,index:this.Tb++,Mc:l,Nc:k,ob:ra({},this.Wb),ka:this.Pd,Dd:this.Qd,gc:[],size:d,If:this.Rd,Mf:this.ub,time:a,nc:{},Z:m,bb:h,Rb:{}}}h&&(h.extent=db(m.center,m.resolution,
m.rotation,h.size,f));this.c=h;this.Lb.w(h);h&&(h.animate&&this.render(),Array.prototype.push.apply(this.Ca,h.gc),!g||this.i&&($a(this.i)||Wa(h.extent,this.i))||(K(this,new Qf("movestart",this,g)),this.i=Va(this.i)),!this.i||h.bb[0]||h.bb[1]||Wa(h.extent,this.i)||(K(this,new Qf("moveend",this,h)),Ra(h.extent,this.i)));K(this,new Qf("postrender",this,h));setTimeout(this.Ce.bind(this),0)};
p.mc=function(){var a=ni(this);if(a){var c=getComputedStyle(a);this.set("size",[a.offsetWidth-parseFloat(c.borderLeftWidth)-parseFloat(c.paddingLeft)-parseFloat(c.paddingRight)-parseFloat(c.borderRightWidth),a.offsetHeight-parseFloat(c.borderTopWidth)-parseFloat(c.paddingTop)-parseFloat(c.paddingBottom)-parseFloat(c.borderBottomWidth)])}else this.set("size",void 0)};
function mi(a){var c=null;void 0!==a.Ib&&(c="string"===typeof a.Ib?document.getElementById(a.Ib):a.Ib);var d={},e={};if(void 0===a.ja||"boolean"===typeof a.ja&&a.ja)e["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAHGAAABxgEXwfpGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAhNQTFRF////AP//AICAgP//AFVVQECA////K1VVSbbbYL/fJ05idsTYJFtbbcjbJllmZszWWMTOIFhoHlNiZszTa9DdUcHNHlNlV8XRIVdiasrUHlZjIVZjaMnVH1RlIFRkH1RkH1ZlasvYasvXVsPQH1VkacnVa8vWIVZjIFRjVMPQa8rXIVVkXsXRsNveIFVkIFZlIVVj3eDeh6GmbMvXH1ZkIFRka8rWbMvXIFVkIFVjIFVkbMvWH1VjbMvWIFVlbcvWIFVla8vVIFVkbMvWbMvVH1VkbMvWIFVlbcvWIFVkbcvVbMvWjNPbIFVkU8LPwMzNIFVkbczWIFVkbsvWbMvXIFVkRnB8bcvW2+TkW8XRIFVkIlZlJVloJlpoKlxrLl9tMmJwOWd0Omh1RXF8TneCT3iDUHiDU8LPVMLPVcLPVcPQVsPPVsPQV8PQWMTQWsTQW8TQXMXSXsXRX4SNX8bSYMfTYcfTYsfTY8jUZcfSZsnUaIqTacrVasrVa8jTa8rWbI2VbMvWbcvWdJObdcvUdszUd8vVeJaee87Yfc3WgJyjhqGnitDYjaarldPZnrK2oNbborW5o9bbo9fbpLa6q9ndrL3ArtndscDDutzfu8fJwN7gwt7gxc/QyuHhy+HizeHi0NfX0+Pj19zb1+Tj2uXk29/e3uLg3+Lh3+bl4uXj4ufl4+fl5Ofl5ufl5ujm5+jmySDnBAAAAFp0Uk5TAAECAgMEBAYHCA0NDg4UGRogIiMmKSssLzU7PkJJT1JTVFliY2hrdHZ3foSFhYeJjY2QkpugqbG1tre5w8zQ09XY3uXn6+zx8vT09vf4+Pj5+fr6/P39/f3+gz7SsAAAAVVJREFUOMtjYKA7EBDnwCPLrObS1BRiLoJLnte6CQy8FLHLCzs2QUG4FjZ5GbcmBDDjxJBXDWxCBrb8aM4zbkIDzpLYnAcE9VXlJSWlZRU13koIeW57mGx5XjoMZEUqwxWYQaQbSzLSkYGfKFSe0QMsX5WbjgY0YS4MBplemI4BdGBW+DQ11eZiymfqQuXZIjqwyadPNoSZ4L+0FVM6e+oGI6g8a9iKNT3o8kVzNkzRg5lgl7p4wyRUL9Yt2jAxVh6mQCogae6GmflI8p0r13VFWTHBQ0rWPW7ahgWVcPm+9cuLoyy4kCJDzCm6d8PSFoh0zvQNC5OjDJhQopPPJqph1doJBUD5tnkbZiUEqaCnB3bTqLTFG1bPn71kw4b+GFdpLElKIzRxxgYgWNYc5SCENVHKeUaltHdXx0dZ8uBI1hJ2UUDgq82CM2MwKeibqAvSO7MCABq0wXEPiqWEAAAAAElFTkSuQmCC"]=
"https://openlayers.org/";else{var f=a.ja;"string"===typeof f?e[f]="":f instanceof HTMLElement?e[B(f).toString()]=f:f&&(C("string"==typeof f.href,44),C("string"==typeof f.src,45),e[f.src]=f.href)}f=a.layers instanceof ei?a.layers:new ei({layers:a.layers});d.layergroup=f;d.target=a.target;d.view=void 0!==a.view?a.view:new Ng;f=gi;var g;void 0!==a.rb?(Array.isArray(a.rb)?g=a.rb:"string"===typeof a.rb?g=[a.rb]:C(!1,46),0<=g.indexOf("dom")&&(g=g.concat(ki))):g=ki;var h;var k=0;for(h=g.length;k<h;++k)if("canvas"==
g[k]&&fc){f=ii;break}void 0!==a.controls?Array.isArray(a.controls)?g=new Kf(a.controls.slice()):(C(a.controls instanceof Kf,47),g=a.controls):(g={},k=new Kf,(void 0!==g.zoom?g.zoom:1)&&k.push(new ah(g.Bg)),(void 0!==g.rotate?g.rotate:1)&&k.push(new Zg(g.Ag)),(void 0!==g.attribution?g.attribution:1)&&k.push(new Xg(g.vg)),g=k);if(void 0!==a.mb)Array.isArray(a.mb)?k=new Kf(a.mb.slice()):(C(a.mb instanceof Kf,48),k=a.mb);else{k={};h=new Kf;var l=new bh;(void 0!==k.be?k.be:1)&&h.push(new yh);(void 0!==
k.ge?k.ge:1)&&h.push(new ih({Ra:k.Wf,duration:k.oc}));(void 0!==k.he?k.he:1)&&h.push(new th({Me:l}));(void 0!==k.pf?k.pf:1)&&h.push(new Xh);(void 0!==k.qf?k.qf:1)&&h.push(new ai({V:k.V,duration:k.oc}));if(void 0!==k.Le?k.Le:1)h.push(new Ph),h.push(new Rh({Ra:k.Wf,duration:k.oc}));(void 0!==k.Ue?k.Ue:1)&&h.push(new Th({V:k.V,duration:k.oc}));(void 0!==k.Hf?k.Hf:1)&&h.push(new Oh({duration:k.oc}));k=h}void 0!==a.qb?Array.isArray(a.qb)?a=new Kf(a.qb.slice()):(C(a.qb instanceof Kf,49),a=a.qb):a=new Kf;
return{controls:g,mb:k,Ib:c,ob:e,qb:a,Ef:f,values:d}};function pi(a,c,d){if(a.nodeType==Node.CDATA_SECTION_NODE||a.nodeType==Node.TEXT_NODE)c?d.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):d.push(a.nodeValue);else for(a=a.firstChild;a;a=a.nextSibling)pi(a,c,d);return d}function qi(a){return(new DOMParser).parseFromString(a,"application/xml")}function ri(a){return function(c,d){c=a.call(this,c,d);void 0!==c&&d[d.length-1].push(c)}}
function S(a){return function(c,d){var e=a.call(this,c,d);if(void 0!==e){d=d[d.length-1];c=c.localName;var f;c in d?f=d[c]:f=d[c]=[];f.push(e)}}}function T(a){return function(c,d){var e=a.call(this,c,d);void 0!==e&&(d[d.length-1][c.localName]=e)}}function U(a,c,d){d=void 0!==d?d:{};var e;var f=0;for(e=a.length;f<e;++f)d[a[f]]=c;return d}
function V(a,c,d,e){e.push(a);for(a=d.firstElementChild;a;a=a.nextElementSibling)d=c[a.namespaceURI],void 0!==d&&(d=d[a.localName],void 0!==d&&d.call(void 0,a,e));return e.pop()};function si(a,c,d){return function(e,f,g){var h=new XMLHttpRequest;h.open("GET","function"===typeof a?a(e,f,g):a,!0);"arraybuffer"==c.getType()&&(h.responseType="arraybuffer");h.onload=function(){if(!h.status||200<=h.status&&300>h.status){var a=c.getType();if("json"==a||"text"==a)var e=h.responseText;else"xml"==a?(e=h.responseXML)||(e=qi(h.responseText)):"arraybuffer"==a&&(e=h.response);e&&d.call(this,ti(c,e,{Sa:g}),ui(c,e),null)}}.bind(this);h.onerror=function(){}.bind(this);h.send()}}
function vi(a,c){return si(a,c,function(a){wi(this,a);this.b()})};function xi(){return[[-Infinity,-Infinity,Infinity,Infinity]]};function yi(a){a=a||{};Ve.call(this,{aa:a.aa,ja:a.ja,projection:void 0,state:"ready",wrapX:void 0!==a.wrapX?a.wrapX:!0});this.o=w;this.K=a.format;this.sa=void 0==a.Oc?!0:a.Oc;this.v=a.url;void 0!==a.Qe?this.o=a.Qe:void 0!==this.v&&(C(this.K,7),this.o=vi(this.v,this.K));this.Ca=void 0!==a.Kf?a.Kf:xi;var c=void 0!==a.Md?a.Md:!0;this.a=c?new Td:null;this.S=new Td;this.c={};this.f={};this.i={};this.j={};this.l=null;if(a.features instanceof Kf){var d=a.features;var e=d.a}else Array.isArray(a.features)&&
(e=a.features);c||void 0!==d||(d=new Kf(e));void 0!==e&&wi(this,e);void 0!==d&&zi(this,d)}u(yi,Ve);p=yi.prototype;p.ua=function(a){var c=B(a).toString();if(Ai(this,c,a)){Bi(this,c,a);var d=a.getGeometry();d?(c=d.A(),this.a&&this.a.insert(c,a)):this.c[c]=a;K(this,new Ci("addfeature",a))}this.b()};function Bi(a,c,d){a.j[c]=[I(d,"change",a.sd,a),I(d,"propertychange",a.sd,a)]}
function Ai(a,c,d){var e=!0,f=d.c;void 0!==f?f.toString()in a.f?e=!1:a.f[f.toString()]=d:(C(!(c in a.i),30),a.i[c]=d);return e}function wi(a,c){var d,e=[],f=[],g=[];var h=0;for(d=c.length;h<d;h++){var k=c[h];var l=B(k).toString();Ai(a,l,k)&&f.push(k)}h=0;for(d=f.length;h<d;h++)k=f[h],l=B(k).toString(),Bi(a,l,k),(c=k.getGeometry())?(l=c.A(),e.push(l),g.push(k)):a.c[l]=k;a.a&&a.a.load(e,g);h=0;for(d=f.length;h<d;h++)K(a,new Ci("addfeature",f[h]))}
function zi(a,c){var d=!1;I(a,"addfeature",function(a){d||(d=!0,c.push(a.feature),d=!1)});I(a,"removefeature",function(a){d||(d=!0,c.remove(a.feature),d=!1)});I(c,"add",function(a){d||(d=!0,this.ua(a.element),d=!1)},a);I(c,"remove",function(a){d||(d=!0,this.Oa(a.element),d=!1)},a);a.l=c}
p.clear=function(a){if(a){for(var c in this.j)this.j[c].forEach(F);this.l||(this.j={},this.f={},this.i={})}else if(this.a){this.a.forEach(this.Qc,this);for(var d in this.c)this.Qc(this.c[d])}this.l&&this.l.clear();this.a&&this.a.clear();this.S.clear();this.c={};K(this,new Ci("clear"));this.b()};function If(a,c,d,e){a.a?Xd(a.a,c,d,e):a.l&&a.l.forEach(d,e)}p.A=function(a){return this.a.A(a)};p.getUrl=function(){return this.v};
p.sd=function(a){a=a.target;var c=B(a).toString(),d=a.getGeometry();if(d)if(d=d.A(),c in this.c)delete this.c[c],this.a&&this.a.insert(d,a);else{if(this.a){var e=this.a,f=e.b[B(a)];Wa([f.D,f.F,f.H,f.I],d)||(e.remove(a),e.insert(d,a))}}else c in this.c||(this.a&&this.a.remove(a),this.c[c]=a);d=a.c;void 0!==d?(d=d.toString(),c in this.i?(delete this.i[c],this.f[d]=a):this.f[d]!==a&&(Di(this,a),this.f[d]=a)):c in this.i||(Di(this,a),this.i[c]=a);this.b();K(this,new Ci("changefeature",a))};
function Hf(a,c,d,e){var f=a.S;c=a.Ca(c,d);var g;var h=0;for(g=c.length;h<g;++h){var k=c[h];Xd(f,k,function(a){return Sa(a.extent,k)})||(a.o.call(a,k,d,e),f.insert(k,{extent:k.slice()}))}}p.Oa=function(a){var c=B(a).toString();c in this.c?delete this.c[c]:this.a&&this.a.remove(a);this.Qc(a);this.b()};p.Qc=function(a){var c=B(a).toString();this.j[c].forEach(F);delete this.j[c];var d=a.c;void 0!==d?delete this.f[d.toString()]:delete this.i[c];K(this,new Ci("removefeature",a))};
function Di(a,c){for(var d in a.f)if(a.f[d]===c){delete a.f[d];break}}function Ci(a,c){Ea.call(this,a);this.feature=c}u(Ci,Ea);function Ei(){return{restrict:"A",link:function(a,c,d){var e=a.$eval(d.ngeoSearch),f=a.$eval(d.ngeoSearchDatasets).slice();f.unshift(e);c.typeahead.apply(c,[].concat(f instanceof Array?f:ka(ja(f))));d=a.$eval(d.ngeoSearchListeners);var g=Ei.b(d);c.on("typeahead:open",function(){a.$apply(function(){g.open()})});c.on("typeahead:close",function(){a.$apply(function(){g.close()})});c.on("typeahead:cursorchange",function(c,d,e){a.$apply(function(){g.cursorchange(c,d,e)})});c.on("typeahead:select",function(c,
d,e){a.$apply(function(){g.select(c,d,e)})});c.on("typeahead:autocomplete",function(c,d,e){a.$apply(function(){g.autocomplete(c,d,e)})});c.on("typeahead:asyncreceive",function(d,e,f){a.$apply(function(){var a=c.data("tt-typeahead").menu._allDatasetsEmpty();g.datasetsempty(d,f,a)})})}}}
Ei.b=function(a){var c;void 0===a?c={open:w,close:w,cursorchange:w,datasetsempty:w,select:w,autocomplete:w}:c={open:void 0!==a.open?a.open:w,close:void 0!==a.close?a.close:w,cursorchange:void 0!==a.cursorchange?a.cursorchange:w,datasetsempty:void 0!==a.datasetsempty?a.datasetsempty:w,select:void 0!==a.select?a.select:w,autocomplete:void 0!==a.autocomplete?a.autocomplete:w};return c};Ei.module=angular.module("ngeoSearchDirective",[]);Ei.module.directive("ngeoSearch",Ei);function Fi(){Bc.call(this)}u(Fi,Bc);function Gi(a){return"string"===typeof a?(a=JSON.parse(a))?a:null:null!==a?a:null}Fi.prototype.getType=function(){return"json"};function ti(a,c,d){var e=Gi(c),f;d&&(f={Cb:d.Cb?d.Cb:ui(a,c),Sa:d.Sa});c=ra({Cb:a.Db,Sa:a.b},f);if("FeatureCollection"===e.type){d=[];e=e.features;var g;f=0;for(g=e.length;f<g;++f)d.push(Hi(a,e[f],c))}else d=[Hi(a,e,c)];return d}
function ui(a,c){c=Gi(c).crs;var d;c?"name"==c.type?d=N(c.properties.name):"EPSG"==c.type?d=N("EPSG:"+c.properties.code):C(!1,36):d=a.Db;return d};function Ii(a){Ub.call(this);this.a=a?a:null;Ji(this)}u(Ii,Ub);function xe(a){var c=[],d;var e=0;for(d=a.length;e<d;++e)c.push(a[e].clone());return c}function Ki(a){var c;if(a.a){var d=0;for(c=a.a.length;d<c;++d)Aa(a.a[d],"change",a.b,a)}}function Ji(a){var c;if(a.a){var d=0;for(c=a.a.length;d<c;++d)I(a.a[d],"change",a.b,a)}}p=Ii.prototype;p.clone=function(){var a=new Ii(null),c=xe(this.a);Ki(a);a.a=c;Ji(a);a.b();return a};
p.wc=function(a){Va(a);for(var c=this.a,d=0,e=c.length;d<e;++d)Xa(a,c[d].A());return a};p.Kc=function(a){this.l!=this.g&&(sa(this.f),this.i=0,this.l=this.g);if(0>a||0!==this.i&&a<this.i)return this;var c=a.toString();if(this.f.hasOwnProperty(c))return this.f[c];var d=[],e=this.a,f=!1,g;var h=0;for(g=e.length;h<g;++h){var k=e[h],l=k.Kc(a);d.push(l);l!==k&&(f=!0)}if(f)return a=new Ii(null),Ki(a),a.a=d,Ji(a),a.b(),this.f[c]=a;this.i=a;return this};p.getType=function(){return"GeometryCollection"};
p.rotate=function(a,c){for(var d=this.a,e=0,f=d.length;e<f;++e)d[e].rotate(a,c);this.b()};p.scale=function(a,c,d){d||(d=cb(this.A()));for(var e=this.a,f=0,g=e.length;f<g;++f)e[f].scale(a,c,d);this.b()};p.ac=function(a){var c=this.a,d;var e=0;for(d=c.length;e<d;++e)c[e].ac(a);this.b()};p.W=function(){Ki(this);Ub.prototype.W.call(this)};function Li(a,c){Nc.call(this);this.a=[];this.ra(a,c)}u(Li,Nc);p=Li.prototype;p.clone=function(){var a=new Li(null),c=this.a.slice();Pc(a,this.c,this.u.slice());a.a=c;a.b();return a};p.hb=function(){return this.a};function yd(a){var c=[],d=a.u,e=0,f=a.a;a=a.B;var g;var h=0;for(g=f.length;h<g;++h){var k=f[h];e=Wc(d,e,k,a);Ec(c,e);e=k}return c}
p.Gb=function(a){var c=[],d=[],e=this.u,f=this.a,g=this.B,h=0,k=0,l;var m=0;for(l=f.length;m<l;++m){var n=f[m];k=Yc(e,h,n,g,a,c,k);d.push(k);h=n}c.length=k;a=new Li(null);Pc(a,"XY",c);a.a=d;a.b();return a};p.getType=function(){return"MultiLineString"};p.ra=function(a,c){a?(Qc(this,c,a,2),this.u||(this.u=[]),a=Sc(this.u,0,a,this.B,this.a),this.u.length=0===a.length?0:a[a.length-1]):(a=this.a,Pc(this,"XY",null),this.a=a);this.b()};function Mi(a,c){Nc.call(this);this.ra(a,c)}u(Mi,Nc);Mi.prototype.clone=function(){var a=new Mi(null);Pc(a,this.c,this.u.slice());a.b();return a};Mi.prototype.getType=function(){return"MultiPoint"};Mi.prototype.ra=function(a,c){a?(Qc(this,c,a,1),this.u||(this.u=[]),this.u.length=Rc(this.u,0,a,this.B)):Pc(this,"XY",null);this.b()};function Ni(a,c){Nc.call(this);this.a=[];this.G=-1;this.N=null;this.K=-1;this.j=null;this.ra(a,c)}u(Ni,Nc);Ni.prototype.clone=function(){for(var a=new Ni(null),c=this.a.length,d=Array(c),e=0;e<c;++e)d[e]=this.a[e].slice();Pc(a,this.c,this.u.slice());a.a=d;a.b();return a};
function Cd(a){if(a.G!=a.g){var c=a.u,d=a.a,e=a.B,f=0,g=[],h;var k=0;for(h=d.length;k<h;++k){var l=d[k];var m=c;var n=l[0],q=e,r=Va(void 0);m=Ya(r,m,f,n,q);g.push((m[0]+m[2])/2,(m[1]+m[3])/2);f=l[l.length-1]}c=Bd(a);d=a.a;e=a.B;k=0;h=[];l=0;for(m=d.length;l<m;++l)f=d[l],h=Jg(c,k,f,e,g,2*l,h),k=f[f.length-1];a.N=h;a.G=a.g}return a.N}
function Bd(a){if(a.K!=a.g){var c=a.u;a:{var d=a.a;var e;var f=0;for(e=d.length;f<e;++f)if(!Rd(c,d[f],a.B,void 0)){d=!1;break a}d=!0}if(d)a.j=c;else{a.j=c.slice();d=c=a.j;f=a.a;e=a.B;var g=0,h;var k=0;for(h=f.length;k<h;++k)g=Sd(d,g,f[k],e,void 0);c.length=g}a.K=a.g}return a.j}
Ni.prototype.Gb=function(a){var c=[],d=[],e=this.u,f=this.a,g=this.B;a=Math.sqrt(a);var h=0,k=0,l;var m=0;for(l=f.length;m<l;++m){var n=f[m],q=[];k=Zc(e,h,n,g,a,c,k,q);d.push(q);h=n[n.length-1]}c.length=k;e=new Ni(null);Pc(e,"XY",c);e.a=d;e.b();return e};Ni.prototype.getType=function(){return"MultiPolygon"};
Ni.prototype.ra=function(a,c){if(a){Qc(this,c,a,3);this.u||(this.u=[]);c=this.u;var d=this.B,e=this.a,f=0;e=e?e:[];var g=0,h;var k=0;for(h=a.length;k<h;++k)f=Sc(c,f,a[k],d,e[g]),e[g++]=f,f=f[f.length-1];e.length=g;0===e.length?this.u.length=0:(a=e[e.length-1],this.u.length=0===a.length?0:a[a.length-1])}else a=this.a,Pc(this,"XY",null),this.a=a;this.b()};function Oi(a){a=a?a:{};Bc.call(this);this.Db=N(a.Db?a.Db:"EPSG:4326");a.Sa&&(this.b=N(a.Sa));this.a=a.geometryName}u(Oi,Fi);function Pi(a,c){var d;if(a){a=(0,Qi[a.type])(a);var e=c?N(c.Sa):null;c=c?N(c.Cb):null;e&&c&&!Qb(e,c)?a instanceof Ub?d=a.transform(c,e):d=Tb(a,c,e):d=a}else d=null;return d}
var Qi={Point:function(a){return new Ig(a.coordinates)},LineString:function(a){return new $c(a.coordinates)},Polygon:function(a){return new Kg(a.coordinates)},MultiPoint:function(a){return new Mi(a.coordinates)},MultiLineString:function(a){return new Li(a.coordinates)},MultiPolygon:function(a){return new Ni(a.coordinates)},GeometryCollection:function(a,c){a=a.geometries.map(function(a){return Pi(a,c)});return new Ii(a)}};
function Hi(a,c,d){c="Feature"===c.type?c:{type:"Feature",geometry:c};d=Pi(c.geometry,d);var e=new yc;a.a&&zc(e,a.a);e.setGeometry(d);void 0!==c.id&&(e.c=c.id,e.b());c.properties&&Ja(e,c.properties);return e};function Ri(a,c,d,e,f,g){var h=new Oi;a={remote:{url:a,prepare:function(a,c){c.url=c.url.replace("%QUERY",a);return c},transform:function(a){void 0!==c&&(a={type:"FeatureCollection",features:a.features.filter(c)});return ti(h,a,{Sa:d,Cb:e})}},datumTokenizer:w,queryTokenizer:Bloodhound.tokenizers.whitespace};f=ra({},f||{});g=ra({},g||{});f.remote&&(ra(g,f.remote),delete f.remote);ra(a,f);ra(a.remote,g);return new Bloodhound(a)}Ri.module=angular.module("ngeoSearchCreategeojsonbloodhound",[]);
Ri.module.value("ngeoSearchCreateGeoJSONBloodhound",Ri);"function"!==typeof qb()&&"function"===typeof proj4&&(pb=proj4);if("function"==typeof qb()){qb().defs("EPSG:21781","+proj=somerc +lat_0=46.95240555555556 +lon_0=7.439583333333333 +k_0=1 +x_0=600000 +y_0=200000 +ellps=bessel +towgs84=674.374,15.056,405.346,0,0,0,0 +units=m +no_defs");var Si=N("EPSG:21781"),Ti=[42E4,3E4,9E5,35E4];Si.c=Ti;Si.b=!(!Si.a||!Ti)};function Ui(a){var c=a||{},d=N("EPSG:21781"),e=c.targetProjection;a={remote:{url:"https://api3.geo.admin.ch/rest/services/api/SearchServer?type=locations&searchText=%QUERY",prepare:function(a,d){d.url=d.url.replace("%QUERY",a);void 0!==c.limit&&(d.url+="&limit="+c.limit);void 0!==c.origins&&(d.url+="&origins="+c.origins);return void 0!==c.prepare?c.prepare(a,d):d},transform:function(a){return a.results.map(function(a){a=a.attrs;var c=new Ig([a.y,a.x]);var f=/BOX\((.*?) (.*?),(.*?) (.*?)\)/g.exec(a.geom_st_box2d);
f=null!==f?[parseFloat(f[1]),parseFloat(f[2]),parseFloat(f[3]),parseFloat(f[4])]:null;void 0!==e&&(c.transform(d,e),null!==f&&(f=Tb(f,d,e)));a.geometry=c;a.bbox=f;c=a.label;a.label_no_html=c.replace(/<\/?[ib]>/g,"");f=/<b>(.*?)<\/b>/g.exec(c);a.label_simple=null!==f?f[1]:c;c=new yc(a);c.c=a.featureId;c.b();return c})}},datumTokenizer:w,queryTokenizer:Bloodhound.tokenizers.whitespace};var f=ra({},c.options||{}),g=ra({},c.remoteOptions||{});f.remote&&(ra(g,f.remote),delete f.remote);ra(a,f);ra(a.remote,
g);return new Bloodhound(a)}Ui.module=angular.module("ngeoCreateLocationSearchBloodhound",[]);Ui.module.value("ngeoCreateLocationSearchBloodhound",Ui);var Vi=angular.module("ngeoSearchModule",[Ei.module.name,Ri.module.name,Ui.module.name]);function Wi(a,c,d,e){var f,g;this.a=function(a){return!(2E7<a)};this.b=function(c){var g=a.defer();f&&f.readyState===FileReader.LOADING&&f.abort();f=new FileReader;f.onload=function(a){g.resolve(a.target.result)};f.onerror=function(a){a=a.target.error;d.console.error("Reading file failed: ",a);g.reject({message:20==a.code?e("Operation canceled"):e("Read failed"),reason:a.message})};f.onprogress=function(a){g.notify(a)};f.readAsText(c);return g.promise};this.load=function(f,k){g&&g.resolve();g=k||
a.defer();var h=a.defer();c.get(f,{timeout:g.promise}).then(function(a){h.resolve(a.data)},function(a){d.console.error("Uploading file failed: ",a);h.reject({message:e("Upload failed"),reason:a})});return h.promise}}Wi.$inject=["$q","$http","$window","gettext"];var Xi=angular.module("ngeo.fileService",[]);Xi.service("ngeoFile",Wi);function Yi(a,c,d,e,f,g){return{restrict:"A",templateUrl:g,scope:{options:"=ngeoImportDndOptions"},link:function(g,k){var h=g.options;if(h&&"function"===typeof h.handleFileContent){g.handleFileContent=h.handleFileContent;k.click(function(){this.style.display="none"}).on("dragleave drop",function(){this.style.display="none"}).on("dragover dragleave drop",function(a){a.stopPropagation();a.preventDefault()}).on("drop",function(c){var k=c.originalEvent.dataTransfer.files;k&&0<k.length?f.b(k[0]).then(function(a){g.handleFileContent(a,
k[0])}):c.originalEvent.dataTransfer.types&&(c=c.originalEvent.dataTransfer.getData("text/plain"),h.isValidUrl(c)?(h.transformUrl||d.when)(c).then(function(c){f.load(c).then(function(a){return g.handleFileContent(a,{url:c})})["catch"](function(c){a.alert(e.getString(c.message))})}):a.alert(e.getString("Invalid URL")+c))});var m=function(a){a.stopPropagation();a.preventDefault();a=a.originalEvent.dataTransfer.types||[];for(var c=0,d=a.length;c<d;++c)if(/(files|text\/plain)/i.test(a[c])){k.css("display",
"table");break}};c.on("dragenter",m);var n=function(){return!1};c.on("dragstart",n);g.$on("$destroy",function(){c.off("dragEnter",m).off("dragstart",n)})}else k.remove()}}}Yi.$inject="$window $document $q gettextCatalog ngeoFile ngeoImportDndTemplateUrl".split(" ");var Zi=angular.module("ngeo.importDndDirective",["gettext",Xi.name]);Zi.value("ngeoImportDndTemplateUrl",function(a,c){a=c.ngeoImportDndTemplateUrl;return void 0!==a?a:$i+"/import/partials/import-dnd.html"});
Zi.directive("ngeoImportDnd",Yi);function aj(a,c,d,e){var f;return{restrict:"A",templateUrl:e,scope:{options:"=ngeoImportLocalOptions"},link:function(e,h){var g=e.options;if(g&&"function"===typeof g.handleFileContent){e.handleFileContent=e.options.handleFileContent;var l=function(){e.userMessage=c("Load local file");e.progress=0;e.fileReader=null};l();g=function(){h.find('input[type="file"]').click()};h.find("button.ngeo-import-browse").click(g);h.find("input.form-control[type=text][readonly]").click(g);h.find("input[type=file]").on("change",
function(a){a.target.files&&0<a.target.files.length&&e.$apply(function(){e.files=a.target.files})});e.$watchCollection("files",function(){if(e.files&&0<e.files.length){var a=e.files[0];e.file=a;e.fileSize=a.size;e.isDropped&&e.handleFile()}});e.isLoading=function(){return 0<e.progress&&100>e.progress};e.isValid=function(a){return!a||d.a(a.size)};e.cancel=function(){e.fileReader&&(e.fileReader.abort(),e.fileReader=null)};e.handleFile=function(){e.file&&(e.loading=!0,e.userMessage=c("Reading file"),
a.cancel(f),d.b(e.file).then(function(a){e.fileReader=null;e.userMessage=c("Parsing file");return e.handleFileContent(a,e.file)}).then(function(a){e.userMessage=a.message},function(a){e.userMessage=a.message},function(a){e.fileReader||(e.fileReader=a.target)}).finally(function(){e.fileReader=null;e.loading=!1;f=a(l,5E3)}))}}else h.remove()}}}aj.$inject=["$timeout","gettext","ngeoFile","ngeoImportLocalTemplateUrl"];var bj=angular.module("ngeo.importLocalDirective",[Xi.name]);
bj.value("ngeoImportLocalTemplateUrl",function(a,c){a=c.ngeoImportLocalTemplateUrl;return void 0!==a?a:$i+"/import/partials/import-local.html"});bj.directive("ngeoImportLocal",aj);function cj(a,c,d,e,f){var g;return{restrict:"A",templateUrl:f,scope:{options:"=ngeoImportOnlineOptions"},link:function(f,k){var h=f.options;if(h&&"function"===typeof h.handleFileContent){f.handleFileContent=h.handleFileContent;var m=function(){f.userMessage=e("Connect");f.progress=0;f.loading=!1};m();var n=f.options.urls;n&&0<n.length&&!n[0].name&&(n=n.map(function(a){return{name:a,url:a}}));var q=k.find("input[name=url]").typeahead({hint:!0,highlight:!0,minLength:0},{name:"wms",displayKey:"name",
limit:500,source:function(a){return function(c,d){var e=[];c?a.forEach(function(a){a.name.includes(c)&&e.push(a)}):e=a;d(e)}}(n)}).on("typeahead:selected",function(a,c){q.typeahead("close");f.fileUrl=c.url;f.handleFileUrl();f.$digest()}),r=k.find(".tt-menu");k.find(".ngeo-import-open").on("mousedown",function(a){"none"==r.css("display")?(q.focus(),q.typeahead("val","")):q.blur();a.preventDefault()});f.$on("gettextLanguageChanged",function(){f.fileUrl&&/lang=/.test(f.fileUrl)&&f.handleFileUrl()});
f.cancel=function(){f.progress=0;f.canceler&&(f.canceler.resolve(),f.canceler=null)};f.isValid=function(a){return h.isValidUrl?h.isValidUrl(a):!0};f.handleFileUrl=function(){(h.transformUrl||a.when)(f.fileUrl).then(function(h){f.canceler=a.defer();f.loading=!0;f.userMessage=e("Downloading file");c.cancel(g);d.load(h,f.canceler).then(function(a){f.canceler=null;return f.handleFileContent(a,{url:f.fileUrl})}).then(function(a){f.userMessage=a.message},function(a){f.userMessage=a.message}).finally(function(){f.canceler=
null;f.loading=!1;g=c(m,1E4)})})}}else k.remove()}}}cj.$inject=["$q","$timeout","ngeoFile","gettext","ngeoImportOnlineTemplateUrl"];var dj=angular.module("ngeo.importOnlineDirective",[Xi.name,"gettext"]);dj.value("ngeoImportOnlineTemplateUrl",function(a,c){a=c.ngeoImportOnlineTemplateUrl;return void 0!==a?a:$i+"/import/partials/import-online.html"});dj.directive("ngeoImportOnline",cj);function ej(a){return a.getAttributeNS("http://www.w3.org/1999/xlink","href")};function fj(){}function gj(a,c){return c instanceof Document?a.a(c):c instanceof Node?a.b(c):"string"===typeof c?(c=qi(c),a.a(c)):null};function hj(a){if(a=/^\s*(true|1)|(false|0)\s*$/.exec(a))return void 0!==a[1]||!1}function ij(a){a=pi(a,!1,[]).join("");return jj(a)}function jj(a){if(a=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(a))return parseFloat(a[1])}function kj(a){a=pi(a,!1,[]).join("");return lj(a)}function lj(a){if(a=/^\s*(\d+)\s*$/.exec(a))return parseInt(a[1],10)}function W(a){return pi(a,!1,[]).join("").trim()};function mj(){this.version=void 0}u(mj,fj);mj.prototype.a=function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType==Node.ELEMENT_NODE)return this.b(a);return null};mj.prototype.b=function(a){this.version=a.getAttribute("version").trim();return(a=V({version:this.version},nj,a,[]))?a:null};function oj(a,c){return V({},pj,a,c)}function qj(a,c){return V({},rj,a,c)}function sj(a,c){if(c=oj(a,c))return a=[lj(a.getAttribute("width")),lj(a.getAttribute("height"))],c.size=a,c}
function tj(a,c){return V([],uj,a,c)}
var vj=[null,"http://www.opengis.net/wms"],nj=U(vj,{Service:T(function(a,c){return V({},wj,a,c)}),Capability:T(function(a,c){return V({},xj,a,c)})}),xj=U(vj,{Request:T(function(a,c){return V({},yj,a,c)}),Exception:T(function(a,c){return V([],zj,a,c)}),Layer:T(function(a,c){return V({},Aj,a,c)})}),wj=U(vj,{Name:T(W),Title:T(W),Abstract:T(W),KeywordList:T(tj),OnlineResource:T(ej),ContactInformation:T(function(a,c){return V({},Bj,a,c)}),Fees:T(W),AccessConstraints:T(W),LayerLimit:T(kj),MaxWidth:T(kj),
MaxHeight:T(kj)}),Bj=U(vj,{ContactPersonPrimary:T(function(a,c){return V({},Cj,a,c)}),ContactPosition:T(W),ContactAddress:T(function(a,c){return V({},Dj,a,c)}),ContactVoiceTelephone:T(W),ContactFacsimileTelephone:T(W),ContactElectronicMailAddress:T(W)}),Cj=U(vj,{ContactPerson:T(W),ContactOrganization:T(W)}),Dj=U(vj,{AddressType:T(W),Address:T(W),City:T(W),StateOrProvince:T(W),PostCode:T(W),Country:T(W)}),zj=U(vj,{Format:ri(W)}),Aj=U(vj,{Name:T(W),Title:T(W),Abstract:T(W),KeywordList:T(tj),CRS:S(W),
EX_GeographicBoundingBox:T(function(a,c){var d=V({},Ej,a,c);if(d){a=d.westBoundLongitude;c=d.southBoundLatitude;var e=d.eastBoundLongitude;d=d.northBoundLatitude;if(void 0!==a&&void 0!==c&&void 0!==e&&void 0!==d)return[a,c,e,d]}}),BoundingBox:S(function(a){var c=[jj(a.getAttribute("minx")),jj(a.getAttribute("miny")),jj(a.getAttribute("maxx")),jj(a.getAttribute("maxy"))],d=[jj(a.getAttribute("resx")),jj(a.getAttribute("resy"))];return{crs:a.getAttribute("CRS"),extent:c,res:d}}),Dimension:S(function(a){return{name:a.getAttribute("name"),
units:a.getAttribute("units"),unitSymbol:a.getAttribute("unitSymbol"),"default":a.getAttribute("default"),multipleValues:hj(a.getAttribute("multipleValues")),nearestValue:hj(a.getAttribute("nearestValue")),current:hj(a.getAttribute("current")),values:W(a)}}),Attribution:T(function(a,c){return V({},Fj,a,c)}),AuthorityURL:S(function(a,c){if(c=oj(a,c))return c.name=a.getAttribute("name"),c}),Identifier:S(W),MetadataURL:S(function(a,c){if(c=oj(a,c))return c.type=a.getAttribute("type"),c}),DataURL:S(oj),
FeatureListURL:S(oj),Style:S(function(a,c){return V({},Gj,a,c)}),MinScaleDenominator:T(ij),MaxScaleDenominator:T(ij),Layer:S(function(a,c){var d=c[c.length-1],e=V({},Aj,a,c);if(e)return c=hj(a.getAttribute("queryable")),void 0===c&&(c=d.queryable),e.queryable=void 0!==c?c:!1,c=lj(a.getAttribute("cascaded")),void 0===c&&(c=d.cascaded),e.cascaded=c,c=hj(a.getAttribute("opaque")),void 0===c&&(c=d.opaque),e.opaque=void 0!==c?c:!1,c=hj(a.getAttribute("noSubsets")),void 0===c&&(c=d.noSubsets),e.noSubsets=
void 0!==c?c:!1,(c=jj(a.getAttribute("fixedWidth")))||(c=d.fixedWidth),e.fixedWidth=c,(a=jj(a.getAttribute("fixedHeight")))||(a=d.fixedHeight),e.fixedHeight=a,["Style","CRS","AuthorityURL"].forEach(function(a){a in d&&(e[a]=(e[a]||[]).concat(d[a]))}),"EX_GeographicBoundingBox BoundingBox Dimension Attribution MinScaleDenominator MaxScaleDenominator".split(" ").forEach(function(a){a in e||(e[a]=d[a])}),e})}),Fj=U(vj,{Title:T(W),OnlineResource:T(ej),LogoURL:T(sj)}),Ej=U(vj,{westBoundLongitude:T(ij),
eastBoundLongitude:T(ij),southBoundLatitude:T(ij),northBoundLatitude:T(ij)}),yj=U(vj,{GetCapabilities:T(qj),GetMap:T(qj),GetFeatureInfo:T(qj)}),rj=U(vj,{Format:S(W),DCPType:S(function(a,c){return V({},Hj,a,c)})}),Hj=U(vj,{HTTP:T(function(a,c){return V({},Ij,a,c)})}),Ij=U(vj,{Get:T(oj),Post:T(oj)}),Gj=U(vj,{Name:T(W),Title:T(W),Abstract:T(W),LegendURL:S(sj),StyleSheetURL:T(oj),StyleURL:T(oj)}),pj=U(vj,{Format:T(W),OnlineResource:T(ej)}),uj=U(vj,{Keyword:ri(W)});function Jj(a,c,d,e){function f(a,d,e){d.Name||(d.isInvalid=!0,d.Abstract=c("Invalid layer: missing name"));if(!d.isInvalid){d.wmsUrl=a.Capability.Request.GetMap.DCPType[0].HTTP.Get.OnlineResource;d.wmsVersion=a.version;d.id="WMS||"+d.wmsUrl+"||"+d.Name;a:{var g=e.va;if(d.BoundingBox)for(var h=0,k=d.BoundingBox.length;h<k;h++){var q=d.BoundingBox[h],r=q.crs||q.srs;if(r&&r.toUpperCase()==g.toUpperCase()){g=q.extent;break a}}if(h=d.EX_GeographicBoundingBox||d.LatLonBoundingBox)if(k=Tb(e.A(),g,"EPSG:4326"),
h=eb(k,h)){g=Tb(h,"EPSG:4326",g);break a}g=void 0}d.extent=g;g=e.va;if(h="1.3.0"==a.version)h=d.CRS||d.SRS||[],h=!(-1!=h.indexOf(g.toUpperCase())||-1!=h.indexOf(g.toLowerCase()));h&&(d.useReprojection=!0,d.extent||(d.isInvalid=!0,d.Abstract=c("Invalid layer: outside the map")))}if(d.Layer){for(g=0;g<d.Layer.length;g++)f(a,d.Layer[g],e)||(d.Layer.splice(g,1),g--);0==d.Layer.length&&(d.Layer=void 0)}if(!d.isInvalid||d.Layer)return d}return{restrict:"A",templateUrl:e,scope:{getCap:"=ngeoWmsGetCap",map:"=ngeoWmsGetCapMap",
options:"=ngeoWmsGetCapOptions"},link:function(e){e.layers=[];e.options=e.options||{};e.$watch("getCap",function(g){try{g=gj(new mj,g)}catch(l){var h=l}h||!g?(a.console.error("WMS GetCap parsing failed: ",h||g),e.userMsg=c("Parsing failed")):(e.limitations="",e.layers=[],e.options.layerSelected=null,e.options.layerHovered=null,g&&g.Service&&g.Capability&&(g.Service.MaxWidth&&(e.limitations=d.getString("Maximum WMS size allowed")+" "+g.Service.MaxWidth+" * "+g.Service.MaxHeight),g.Capability.Layer&&
(g=f(g,g.Capability.Layer,Q(e.map).getProjection()))&&(e.layers=g.Layer||[g])))});e.addLayerSelected=function(){var c=e.options.layerSelected;if(c&&e.options.getOlLayerFromGetCapLayer){var f=d.getString("WMS layer added succesfully");try{var g=e.options.getOlLayerFromGetCapLayer(c);g&&oi(e.map).getLayers().push(g)}catch(m){a.console.error("Add layer failed:"+m),f=d.getString("WMS layer could not be added")+" "+m.message}a.alert(f)}};e.getAbstract=function(){return d.getString((e.options.layerSelected||
e.options.layerHovered||{}).Abstract)||""}}}}Jj.$inject=["$window","gettext","gettextCatalog","ngeoWmsGetCapTemplateUrl"];var Kj=angular.module("ngeo.wmsGetCapDirective",["gettext"]);Kj.value("ngeoWmsGetCapTemplateUrl",function(a,c){a=c.ngeoWmsGetCapTemplateUrl;return void 0!==a?a:$i+"/import/partials/wms-get-cap.html"});Kj.directive("ngeoWmsGetCap",Jj);function Lj(a){var c=a.options;a.addPreviewLayer=function(d,e){d.stopPropagation();c.layerHovered=e;e.isInvalid||c.addPreviewLayer(a.map,e)};a.removePreviewLayer=function(d){d.stopPropagation();c.layerHovered=null;c.removePreviewLayer(a.map)};a.toggleLayerSelected=function(a,e){a.stopPropagation();c.layerSelected=c.layerSelected&&c.layerSelected.Name==e.Name?null:e}}Lj.$inject=["$scope"];
function Mj(a,c){return{restrict:"A",templateUrl:c,controller:"NgeoWmsGetCapItemDirectiveController",compile:function(c){var d=c.contents().remove(),f;return function(c,e){f||(f=a(d));f(c,function(a){e.append(a)});var g=e.find("> .ngeo-header-group"),h=g.find(".fa-plus"),m;g.find(".fa-zoom-in").on("click",function(a){a.stopPropagation();a:{var d=c.layer,e=c.map,f=d.extent;c.options.transformExtent&&(f=c.options.transformExtent(d.extent));a=Q(e);var g=e.ya();if(d.Vc&&f){var h=2834.64*Ug(a,f,g);if(h>
d.Vc){e=cb(f);h/=d.Vc;d=ab(f)/h;f=bb(f)/h;f=[e[0]-d/2,e[1]-f/2,e[0]+d/2,e[1]+f/2];if(f=c.options.transformExtent(f))f=a.V(Ug(a,f,g),0,-1),a.setCenter(e),Wg(a,f);break a}}f&&Vg(a,f,g)}});h.on("click",function(a){a.stopPropagation();h.toggleClass("fa-minus");m||(m=e.find("> .ngeo-child-group"));m.slideToggle()})}}}}Mj.$inject=["$compile","ngeoWmsGetCapItemTemplateUrl"];var Nj=angular.module("ngeo.wmsGetCapItemDirective",[]);
Nj.value("ngeoWmsGetCapItemTemplateUrl",function(a,c){a=c.ngeoWmsGetCapItemTemplateUrl;return void 0!==a?a:$i+"/import/partials/wms-get-cap-item.html"});Nj.controller("NgeoWmsGetCapItemDirectiveController",Lj);Nj.directive("ngeoWmsGetCapItem",Mj);function Oj(){}u(Oj,fj);Oj.prototype.a=function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType==Node.ELEMENT_NODE)return this.b(a);return null};Oj.prototype.b=function(a){return(a=V({},Pj,a,[]))?a:null};
var Qj=[null,"http://www.opengis.net/ows/1.1"],Pj=U(Qj,{ServiceIdentification:T(function(a,c){return V({},Rj,a,c)}),ServiceProvider:T(function(a,c){return V({},Sj,a,c)}),OperationsMetadata:T(function(a,c){return V({},Tj,a,c)})}),Uj=U(Qj,{DeliveryPoint:T(W),City:T(W),AdministrativeArea:T(W),PostalCode:T(W),Country:T(W),ElectronicMailAddress:T(W)}),Vj=U(Qj,{Value:S(function(a){return W(a)})}),Wj=U(Qj,{AllowedValues:T(function(a,c){return V({},Vj,a,c)})}),Yj=U(Qj,{Phone:T(function(a,c){return V({},Xj,
a,c)}),Address:T(function(a,c){return V({},Uj,a,c)})}),ak=U(Qj,{HTTP:T(function(a,c){return V({},Zj,a,c)})}),Zj=U(Qj,{Get:S(function(a,c){var d=ej(a);if(d)return V({href:d},bk,a,c)}),Post:void 0}),ck=U(Qj,{DCP:T(function(a,c){return V({},ak,a,c)})}),Tj=U(Qj,{Operation:function(a,c){var d=a.getAttribute("name");(a=V({},ck,a,c))&&(c[c.length-1][d]=a)}}),Xj=U(Qj,{Voice:T(W),Facsimile:T(W)}),bk=U(Qj,{Constraint:S(function(a,c){var d=a.getAttribute("name");if(d)return V({name:d},Wj,a,c)})}),dk=U(Qj,{IndividualName:T(W),
PositionName:T(W),ContactInfo:T(function(a,c){return V({},Yj,a,c)})}),Rj=U(Qj,{Title:T(W),ServiceTypeVersion:T(W),ServiceType:T(W)}),Sj=U(Qj,{ProviderName:T(W),ProviderSite:T(ej),ServiceContact:T(function(a,c){return V({},dk,a,c)})});function ek(){this.g=new Oj}u(ek,fj);ek.prototype.a=function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType==Node.ELEMENT_NODE)return this.b(a);return null};ek.prototype.b=function(a){var c=a.getAttribute("version").trim(),d=this.g.b(a);if(!d)return null;d.version=c;return(d=V(d,fk,a,[]))?d:null};function gk(a){var c=W(a).split(" ");if(c&&2==c.length&&(a=+c[0],c=+c[1],!isNaN(a)&&!isNaN(c)))return[a,c]}
var hk=[null,"http://www.opengis.net/wmts/1.0"],ik=[null,"http://www.opengis.net/ows/1.1"],fk=U(hk,{Contents:T(function(a,c){return V({},jk,a,c)})}),jk=U(hk,{Layer:S(function(a,c){return V({},kk,a,c)}),TileMatrixSet:S(function(a,c){return V({},lk,a,c)})}),kk=U(hk,{Style:S(function(a,c){if(c=V({},mk,a,c))return a="true"===a.getAttribute("isDefault"),c.isDefault=a,c}),Format:S(W),TileMatrixSetLink:S(function(a,c){return V({},nk,a,c)}),Dimension:S(function(a,c){return V({},ok,a,c)}),ResourceURL:S(function(a){var c=
a.getAttribute("format"),d=a.getAttribute("template");a=a.getAttribute("resourceType");var e={};c&&(e.format=c);d&&(e.template=d);a&&(e.resourceType=a);return e})},U(ik,{Title:T(W),Abstract:T(W),WGS84BoundingBox:T(function(a,c){a=V([],pk,a,c);if(2==a.length)return Na(a)}),Identifier:T(W)})),mk=U(hk,{LegendURL:S(function(a){var c={};c.format=a.getAttribute("format");c.href=ej(a);return c})},U(ik,{Title:T(W),Identifier:T(W)})),nk=U(hk,{TileMatrixSet:T(W),TileMatrixSetLimits:T(function(a,c){return V([],
qk,a,c)})}),qk=U(hk,{TileMatrixLimits:ri(function(a,c){return V({},rk,a,c)})}),rk=U(hk,{TileMatrix:T(W),MinTileRow:T(kj),MaxTileRow:T(kj),MinTileCol:T(kj),MaxTileCol:T(kj)}),ok=U(hk,{Default:T(W),Value:S(W)},U(ik,{Identifier:T(W)})),pk=U(ik,{LowerCorner:ri(gk),UpperCorner:ri(gk)}),lk=U(hk,{WellKnownScaleSet:T(W),TileMatrix:S(function(a,c){return V({},sk,a,c)})},U(ik,{SupportedCRS:T(W),Identifier:T(W)})),sk=U(hk,{TopLeftCorner:T(gk),ScaleDenominator:T(ij),TileWidth:T(kj),TileHeight:T(kj),MatrixWidth:T(kj),
MatrixHeight:T(kj)},U(ik,{Identifier:T(W)}));function tk(a,c,d){return{restrict:"A",templateUrl:d,scope:{getCap:"=ngeoWmtsGetCap",map:"=ngeoWmtsGetCapMap",url:"=ngeoWmtsGetCapUrl",options:"=ngeoWmtsGetCapOptions"},link:function(d){d.layers=[];d.options=d.options||{};d.$watch("getCap",function(c){try{c=gj(new ek,c)}catch(x){var e=x}if(e||!c)console.error("WMTS GetCap parsing failed: ",e||c),d.userMsg=a("Parsing failed");else if(d.layers=[],d.options.layerSelected=null,d.options.layerHovered=null,c&&c.Contents&&c.Contents.Layer){e=d.url;for(var f=
Q(d.map).getProjection(),k=[],l=ja(c.Contents.Layer),m=l.next();!m.done;m=l.next()){m=m.value;m.Title||(m.isInvalid=!0,m.Abstract=a("Invalid layer: missing name"));if(!m.isInvalid){m.sourceConfig=Cf(c,{layer:m.Identifier});"ServiceProvider"in c&&(m.attribution=c.ServiceProvider.ProviderName,m.attributionUrl=c.ServiceProvider.ProviderSite);m.capabilitiesUrl=e;a:{var n=f.va;var q=m.WGS84BoundingBox;if(q){var r=Tb(f.A(),n,"EPSG:4326");if(q=eb(r,q)){n=Tb(q,"EPSG:4326",n);break a}}n=void 0}m.extent=n}k.push(m)}d.layers=
k}});d.addLayerSelected=function(){var a=d.options.layerSelected;if(a&&d.options.getOlLayerFromGetCapLayer){var e=c.getString("WMTS layer added succesfully");try{var h=d.options.getOlLayerFromGetCapLayer(a);h&&oi(d.map).getLayers().push(h)}catch(k){console.error("Add layer failed:"+k),e=c.getString("WMTS layer could not be added")+" "+k.message}alert(e)}};d.getAbstract=function(){return c.getString((d.options.layerSelected||d.options.layerHovered||{}).Abstract)||""}}}}
tk.$inject=["gettext","gettextCatalog","ngeoWmtsGetCapTemplateUrl"];var uk=angular.module("ngeo.wmtsGetCapDirective",["gettext"]);uk.value("ngeoWmtsGetCapTemplateUrl",function(a,c){a=c.ngeoWmtsGetCapTemplateUrl;return void 0!==a?a:$i+"/import/partials/wmts-get-cap.html"});uk.directive("ngeoWmtsGetCap",tk);function vk(a){var c=a.options;a.addPreviewLayer=function(d,e){d.stopPropagation();c.layerHovered=e;e.isInvalid||c.addPreviewLayer(a.map,e)};a.removePreviewLayer=function(d){d.stopPropagation();c.layerHovered=null;c.removePreviewLayer(a.map)};a.toggleLayerSelected=function(a,e){a.stopPropagation();c.layerSelected=c.layerSelected&&c.layerSelected.Title==e.Title?null:e}}vk.$inject=["$scope"];
function wk(a,c){return{restrict:"A",templateUrl:c,controller:"NgeoWmtsGetCapItemDirectiveController",compile:function(c){var d=c.contents().remove(),f;return function(c,e){f||(f=a(d));f(c,function(a){e.append(a)});e.find("> .ngeo-header-group").find(".fa-zoom-in").on("click",function(a){a.stopPropagation();var d=c.layer,e=c.map;a=d.extent;c.options.transformExtent&&(a=c.options.transformExtent(d.extent));d=Q(e);e=e.ya();a&&Vg(d,a,e)})}}}}wk.$inject=["$compile","ngeoWmtsGetCapItemTemplateUrl"];
var xk=angular.module("ngeo.wmtsGetCapItemDirective",[]);xk.value("ngeoWmtsGetCapItemTemplateUrl",function(a,c){a=c.ngeoWmsGetCapItemTemplateUrl;return void 0!==a?a:$i+"/import/partials/wmts-get-cap-item.html"});xk.controller("NgeoWmtsGetCapItemDirectiveController",vk);xk.directive("ngeoWmtsGetCapItem",wk);var yk=angular.module("ngeo.import",[Xi.name,Zi.name,bj.name,dj.name,Kj.name,Nj.name,uk.name,xk.name]);var zk=angular.module("ngeo",[Vi.name,yk.name,"gettext","ui.date","floatThead"]),$i="ngeomodule";na("ngeo.AttributeType",{cg:"boolean",eg:"date",fg:"datetime",hg:"geometry",ig:"number",sg:"select",TEXT:"text"});na("ngeo.FeatureProperties",{ANGLE:"a",COLOR:"c",IS_CIRCLE:"l",IS_RECTANGLE:"r",IS_TEXT:"t",NAME:"n",OPACITY:"o",AZIMUT:"z",SHOW_MEASURE:"m",SIZE:"s",STROKE:"k"});na("ngeo.FilterCondition",{AND:"&&",NOT:"!",OR:"||"});
na("ngeo.GeometryType",{CIRCLE:"Circle",LINE_STRING:"LineString",MULTI_LINE_STRING:"MultiLineString",MULTI_POINT:"MultiPoint",MULTI_POLYGON:"MultiPolygon",POINT:"Point",POLYGON:"Polygon",RECTANGLE:"Rectangle",TEXT:"Text"});na("ngeo.NumberType",{FLOAT:"float",INTEGER:"integer"});(function(){function a(a){a.put("ngeomodule/import/partials/wms-get-cap.html",'<div class=ngeo-message>{{limitations}}</div> <div class=ngeo-container> <div class=ngeo-header ng-click="reverse = !reverse"> <label translate>Layer</label> <button class="pull-right fa" ng-class="{\'fa-sort-by-alphabet\': !reverse, \'fa-sort-by-alphabet-alt\': reverse}"></button> </div> <div class=ngeo-content> <ul> <li ng-repeat="layer in layers | orderBy:\'Title\':reverse"> <div ngeo-wms-get-cap-item></div> </li> </ul> </div> <div class="modal-backdrop fade in" ng-show="progress > 0 && progress < 100"> <div class="progress progress-striped active"> <div class=progress-bar style="width: 100%;"></div> </div> </div> </div> <div class=ngeo-descr> <label translate>Description</label> <textarea placeholder="{{\'description instructions\' | translate}}" class=form-control readonly>{{getAbstract()}}</textarea> <button type=button class="btn btn-default btn-sm ngeo-add" ng-disabled="(!options.layerSelected || options.layerSelected.isInvalid)" ng-click=addLayerSelected() translate>Add layer</button> </div> ');
a.put("ngeo/popup.html",'<h4 class="popover-title ngeo-popup-title"> <span ng-bind-html=title></span> <button type=button class=close ng-click="open = false"> &times;</button> </h4> <div class=popover-content ng-bind-html=content></div> ');a.put("ngeomodule/import/partials/wmts-get-cap.html",'<div class=ngeo-container> <div class=ngeo-header ng-click="reverse = !reverse"> <label translate>Layer</label> <button class="pull-right fa" ng-class="{\'fa-sort-by-alphabet\': !reverse, \'fa-sort-by-alphabet-alt\': reverse}"></button> </div> <div class=ngeo-content> <ul> <li ng-repeat="layer in layers | orderBy:\'Title\':reverse"> <div ngeo-wmts-get-cap-item></div> </li> </ul> </div> <div class="modal-backdrop fade in" ng-show="progress > 0 && progress < 100"> <div class="progress progress-striped active"> <div class=progress-bar style="width: 100%;"></div> </div> </div> </div> <div class=ngeo-descr> <label translate>Description</label> <textarea placeholder="{{\'description instructions\' | translate}}" class=form-control readonly>{{getAbstract()}}</textarea> <button type=button class="btn btn-default btn-sm ngeo-add" ng-disabled="(!options.layerSelected || options.layerSelected.isInvalid)" ng-click=addLayerSelected() translate>Add layer</button> </div> ');
a.put("ngeo/grid.html",'<div class=ngeo-grid-table-container> <table float-thead=ctrl.floatTheadConfig ng-model=ctrl.configuration.data class="table table-bordered table-striped table-hover"> <thead class=table-header> <tr> <th ng-repeat="columnDefs in ctrl.configuration.columnDefs" ng-click=ctrl.sort(columnDefs.name) ng-bind-html="columnDefs.name | ngeoTrustHtml | translate"> <i ng-show="ctrl.sortedBy !== columnDefs.name" class="fa fa-fw"></i> <i ng-show="ctrl.sortedBy === columnDefs.name && ctrl.sortAscending === true" class="fa fa-caret-up"></i> <i ng-show="ctrl.sortedBy === columnDefs.name && ctrl.sortAscending === false" class="fa fa-caret-down"></i> </th> </tr> </thead> <tbody> <tr ng-repeat="attributes in ctrl.configuration.data" ng-class="[\'row-\' + ctrl.configuration.getRowUid(attributes), ctrl.configuration.isRowSelected(attributes) ? \'ngeo-grid-active\': \'\']" ng-click="ctrl.clickRow(attributes, $event)" ng-mousedown=ctrl.preventTextSelection($event)> <td ng-repeat="columnDefs in ctrl.configuration.columnDefs" ng-bind-html="attributes[columnDefs.name] | ngeoTrustHtml"></td> </tr> </tbody> </table> </div> ');
a.put("ngeomodule/import/partials/import-online.html",'<form class="form-group form-group-sm"> <input type=url name=url autocomplete=off placeholder="{{\'Choose or enter online resource URL\' | translate}}" ng-model=fileUrl required class=form-control> <div class="ngeo-import-open fa fa-collapse"></div> </form> <div class=tabbable-footer> <button type=button class="btn btn-default btn-sm" ng-class="{\'btn-danger\': canceler}" ng-disabled="!fileUrl || !isValid(fileUrl) || (loading && !canceler)" ng-click="loading ? cancel() : handleFileUrl()"> <span>{{userMessage | translate}}</span> </button> </div> ');
a.put("ngeomodule/import/partials/import-dnd.html","<div translate>Drop file here</div> ");a.put("ngeo/attributes.html",'<fieldset ng-disabled=attrCtrl.disabled> <div class=form-group ng-repeat="attribute in ::attrCtrl.attributes"> <div ng-if="attribute.type !== \'geometry\'"> <label ng-if="::attribute.type !== \'boolean\'" class=control-label>{{ ::attribute.name | translate }} <span class=text-muted>{{::attribute.required ? "*" : ""}}</span> </label> <div ng-switch=::attribute.type> <div ng-switch-when=boolean class=checkbox> <label> <input name={{::attribute.name}} ng-required=attribute.required ng-model=attrCtrl.properties[attribute.name] ng-change=attrCtrl.handleInputChange(attribute.name); type=checkbox> <span> {{ ::attribute.name | translate }} <span class=text-muted>{{::attribute.required ? "*" : ""}}</span></span> </label> </div> <select name={{::attribute.name}} ng-required=attribute.required ng-switch-when=select ng-model=attrCtrl.properties[attribute.name] ng-change=attrCtrl.handleInputChange(attribute.name); class=form-control type=text> <option ng-repeat="attribute in ::attribute.choices" value="{{ ::attribute }}"> {{ ::attribute }} </option> </select> <input name={{::attribute.name}} ng-required=attribute.required ng-switch-when=date ui-date=attrCtrl.dateOptions ng-model=attrCtrl.properties[attribute.name] ng-change=attrCtrl.handleInputChange(attribute.name); class=form-control type=text> <input name={{::attribute.name}} ng-required=attribute.required ng-switch-when=datetime ui-date=attrCtrl.dateOptions ng-model=attrCtrl.properties[attribute.name] ng-change=attrCtrl.handleInputChange(attribute.name); class=form-control type=text> <div ng-switch-when=number ng-switch=::attribute.numType> <input name={{::attribute.name}} ng-required=attribute.required ng-switch-when=integer ng-model=attrCtrl.properties[attribute.name] ng-change=attrCtrl.handleInputChange(attribute.name); class=form-control step=1 type=number> <input name={{::attribute.name}} ng-required=attribute.required ng-switch-default ng-model=attrCtrl.properties[attribute.name] ng-change=attrCtrl.handleInputChange(attribute.name); class=form-control type=number> </div> <input name={{::attribute.name}} ng-required=attribute.required ng-switch-default ng-model=attrCtrl.properties[attribute.name] ng-change=attrCtrl.handleInputChange(attribute.name); ng-maxlength=attribute.maxLength class=form-control type=text> <div ng-show="attrCtrl.form.$submitted || attrCtrl.form[attribute.name].$touched"> <p class=text-danger ng-show=attrCtrl.form[attribute.name].$error.required> {{\'This field is required\' | translate}} </p> </div> </div> </div> </div> </fieldset> ');
a.put("ngeo/layertree.html",'<span ng-if=::!layertreeCtrl.isRoot>{{::layertreeCtrl.node.name}}</span> <input type=checkbox ng-if="::layertreeCtrl.node && !layertreeCtrl.node.children" ng-model=layertreeCtrl.getSetActive ng-model-options="{getterSetter: true}"> <ul ng-if=::layertreeCtrl.node.children> <li ng-repeat="node in ::layertreeCtrl.node.children" ngeo-layertree=::node ngeo-layertree-notroot ngeo-layertree-map=layertreeCtrl.map ngeo-layertree-nodelayerexpr=layertreeCtrl.nodelayerExpr ngeo-layertree-listenersexpr=layertreeCtrl.listenersExpr> </li> </ul> ');
a.put("ngeo/datepicker.html","<div class=ngeo-datepicker> <form name=dateForm class=ngeo-datepicker-form novalidate> <div ng-if=\"::datepickerCtrl.time.widget === 'datepicker'\"> <div class=ngeo-datepicker-start-date> <span ng-if=\"::datepickerCtrl.time.mode === 'range'\" translate>From:</span> <span ng-if=\"::datepickerCtrl.time.mode !== 'range'\" translate>Date:</span> <input name=sdate ui-date=datepickerCtrl.sdateOptions ng-model=datepickerCtrl.sdate required> </div> <div class=ngeo-datepicker-end-date ng-if=\"::datepickerCtrl.time.mode === 'range'\"> <span translate>To:</span> <input name=edate ui-date=datepickerCtrl.edateOptions ng-model=datepickerCtrl.edate required> </div> </div> </form> </div> ");
a.put("ngeo/colorpicker.html",'<table class=ngeo-colorpicker-palette> <tr ng-repeat="colors in ::ctrl.colors"> <td ng-repeat="color in ::colors" ng-click=ctrl.setColor(color) ng-class="{\'ngeo-colorpicker-selected\': color == ctrl.color}"> <div ng-style="::{\'background-color\': color}"></div> </td> </tr> </table> ');a.put("ngeo/filter.html",'<div class=dropdown> <a class="btn btn-link dropdown-toggle ngeo-filter-condition-button" ng-class="{disabled: filterCtrl.aRuleIsActive}" type=button data-toggle=dropdown ng-disabled=filterCtrl.aRuleIsActive> <span class="fa fa-cog"></span> <span class=caret></span> </a> <ul class=dropdown-menu> <li class=ngeo-filter-condition-criteria-header translate>Criteria taken into account</li> <li ng-repeat="condition in ::filterCtrl.conditions"> <a href ng-click=filterCtrl.setCondition(condition)> <span ng-class="{\'ngeo-filter-condition-criteria-active\': condition.value == filterCtrl.datasource.filterCondition}" class="fa fa-check ngeo-filter-condition-criteria"> </span> <span>{{::condition.text | translate}}</span> </a> </li> </ul> </div> <ngeo-rule ng-repeat="rule in filterCtrl.directedRules" feature-overlay=::filterCtrl.featureOverlay class=ngeo-filter-rule-directed map=filterCtrl.map rule=rule tool-group=filterCtrl.toolGroup> </ngeo-rule> <hr class=ngeo-filter-separator-rules> <div ng-repeat="rule in filterCtrl.customRules"> <a class="btn btn-xs btn-link ngeo-filter-rule-custom-rm-btn" ng-click="!filterCtrl.aRuleIsActive && filterCtrl.removeCustomRule(rule)" ng-disabled=filterCtrl.aRuleIsActive href> <span class="fa fa-remove"></span> </a> <ngeo-rule feature-overlay=::filterCtrl.featureOverlay class=ngeo-filter-rule-custom map=filterCtrl.map rule=rule tool-group=filterCtrl.toolGroup> </ngeo-rule> </div> <div class=dropdown> <a class="btn btn-link dropdown-toggle" ng-class="{disabled: filterCtrl.aRuleIsActive}" type=button data-toggle=dropdown ng-disabled=filterCtrl.aRuleIsActive> <span translate>+ Add a new criteria</span> <span class=caret></span> </a> <ul class=dropdown-menu> <li ng-repeat="attribute in ::filterCtrl.geometryAttributes"> <a href ng-click=filterCtrl.createAndAddCustomRule(attribute)> <span translate>Spatial filter</span> </a> </li> <li role=presentation class=divider></li> <li ng-repeat="attribute in ::filterCtrl.otherAttributes"> <a href ng-click=filterCtrl.createAndAddCustomRule(attribute)> <span>{{::attribute.name | translate}}</span> </a> </li> </ul> </div> <hr class=ngeo-filter-separator-criteria> <a class="btn btn-link" type=button ng-click="!filterCtrl.aRuleIsActive && filterCtrl.apply()" ng-disabled=filterCtrl.aRuleIsActive> <span class="fa fa-check"></span> <span translate>Apply filter</span> </a> <a class="btn btn-link" type=button ng-click="!filterCtrl.aRuleIsActive && filterCtrl.getData()" ng-disabled=filterCtrl.aRuleIsActive> <span class="fa fa-chevron-right"></span> <span translate>Get data</span> </a> ');
a.put("ngeo/rule.html",'<div class=dropdown ng-class="{open: ruleCtrl.rule.active}"> <a class="btn btn-default btn-sm dropdown-toggle" type=button ng-click=ruleCtrl.toggle()> <span>{{ ::ruleCtrl.clone.name | translate }}</span> <span class=caret></span> </a> <div class="dropdown-menu form-group"> <select class="form-control input-sm ngeo-rule-operators-list" ng-disabled=ruleCtrl.drawActive ng-if=::ruleCtrl.clone.operators ng-model=ruleCtrl.clone.operator ng-options="ruleCtrl.operators[operator] | translate for operator in ::ruleCtrl.clone.operators track by operator"> </select> <div ng-switch=::ruleCtrl.clone.type> <div class="ngeo-rule-type-date form-group" ng-if=ruleCtrl.rule.active ng-switch-when=date|datetime ng-switch-when-separator=|> <div ng-switch=ruleCtrl.clone.operator> <div ng-switch-when=..> <ngeo-date-picker time=ruleCtrl.timeRangeMode on-date-selected=ruleCtrl.onDateRangeSelected(time)> </ngeo-date-picker> </div> <div ng-switch-default> <ngeo-date-picker time=ruleCtrl.timeValueMode on-date-selected=ruleCtrl.onDateSelected(time)> </ngeo-date-picker> </div> </div> </div> <div class="ngeo-rule-type-geometry form-group" ng-switch-when=geometry> <div ng-switch=ruleCtrl.geomType> <span class="gmf-icon gmf-icon-point" ng-switch-when=Point> </span> <span class="gmf-icon gmf-icon-line" ng-switch-when=LineString> </span> <span class="gmf-icon gmf-icon-polygon" ng-switch-when=Polygon> </span> <span class="gmf-icon gmf-icon-circle" ng-switch-when=Circle> </span> <span class="gmf-icon gmf-icon-rectangle" ng-switch-when=Rectangle> </span> </div> <ngeo-drawfeature ngeo-drawfeature-active=ruleCtrl.drawActive ngeo-drawfeature-features=ruleCtrl.drawnFeatures ngeo-drawfeature-map=ruleCtrl.map> <div ngeo-btn-group class=btn-group> <a data-toggle=tooltip title="{{\'Draw a point on the map\' | translate}}" href ngeo-btn ngeo-drawpoint class="btn btn-sm btn-default ngeo-drawfeature-point" ng-show="[\'intersects\', \'within\'].indexOf(ruleCtrl.clone.operator) !== -1" ng-class="{active: dfCtrl.drawPoint.active}" ng-model=dfCtrl.drawPoint.active> <span class="gmf-icon gmf-icon-point"></span> </a> <a data-toggle=tooltip title="{{\'Draw a line on the map\' | translate}}" href ngeo-btn ngeo-measurelength class="btn btn-sm btn-default ngeo-drawfeature-linestring" ng-show="[\'intersects\', \'within\'].indexOf(ruleCtrl.clone.operator) !== -1" ng-class="{active: dfCtrl.measureLength.active}" ng-model=dfCtrl.measureLength.active> <span class="gmf-icon gmf-icon-line"></span> </a> <a data-toggle=tooltip title="{{\'Draw a polygon on the map\' | translate}}" href ngeo-btn ngeo-measurearea class="btn btn-sm btn-default ngeo-drawfeature-polygon" ng-class="{active: dfCtrl.measureArea.active}" ng-model=dfCtrl.measureArea.active> <span class="gmf-icon gmf-icon-polygon"></span> </a> <a data-toggle=tooltip title="{{\'Draw a circle on the map\' | translate}}" href ngeo-btn ngeo-measureazimut class="btn btn-sm btn-default ngeo-drawfeature-circle" ng-class="{active: dfCtrl.measureAzimut.active}" ng-model=dfCtrl.measureAzimut.active> <span class="gmf-icon gmf-icon-circle"></span> </a> <a data-toggle=tooltip title="{{\'Draw a rectangle on the map\' | translate}}" href ngeo-btn ngeo-drawrectangle class="btn btn-sm btn-default ngeo-drawfeature-rectangle" ng-class="{active: dfCtrl.drawRectangle.active}" ng-model=dfCtrl.drawRectangle.active> <span class="gmf-icon gmf-icon-rectangle"></span> </a> </div> <div class=ngeo-rule-type-geometry-instructions ng-if=ruleCtrl.drawActive> <span ng-if=dfCtrl.drawPoint.active> {{ \'Draw a point on the map.\' | translate }} </span> <span ng-if=dfCtrl.measureLength.active> {{ \'Draw a line string on the map.\' | translate }} </span> <span ng-if=dfCtrl.measureArea.active> {{ \'Draw a polygon on the map.\' | translate }} </span> <span ng-if=dfCtrl.measureAzimut.active> {{ \'Draw a circle on the map.\' | translate }} </span> <span ng-if=dfCtrl.drawRectangle.active> {{ \'Draw a rectangle on the map.\' | translate }} </span> </div> </ngeo-drawfeature> </div> <div class="checkbox ngeo-rule-type-select" ng-switch-when=select> <a ng-click=ruleCtrl.selectAllChoices() href>{{ All | translate}} </a> <label class="form-group ol-unselectable" ng-repeat="choice in ::ruleCtrl.clone.choices"> <input ng-checked="ruleCtrl.clone.getExpression() && ruleCtrl.clone.getExpression().split(\',\').indexOf(choice) > -1" ng-click=ruleCtrl.toggleChoiceSelection(choice) type=checkbox value=choice> <span>{{ choice | translate }}</span> </label> </div> <div class="form-group ngeo-rule-type-text" ng-switch-default> <div ng-switch=ruleCtrl.clone.operator> <div ng-switch-when=..> <input type=number class="form-control input-sm" ng-model=ruleCtrl.clone.lowerBoundary> <input type=number class="form-control input-sm" ng-model=ruleCtrl.clone.upperBoundary> </div> <div ng-switch-default> <input type=number class="form-control input-sm" ng-if="ruleCtrl.clone.type === \'number\'" ng-model=ruleCtrl.clone.expression> <input type=text class="form-control input-sm" ng-if="ruleCtrl.clone.type !== \'number\'" ng-model=ruleCtrl.clone.expression> </div> </div> </div> <div class=ngeo-rule-btns> <button class="btn btn-xs btn-default" ng-click=ruleCtrl.apply() type=button>{{\'Apply\' | translate}}</button> <button class="btn btn-xs btn-default" ng-click=ruleCtrl.cancel() type=button>{{\'Cancel\' | translate}}</button> </div> </div> </div> </div> <div class=ngeo-rule-value ng-if="ruleCtrl.rule.value !== null"> <a class="btn btn-xs btn-link" ng-click="!ruleCtrl.rule.active && ruleCtrl.reset()" ng-disabled=ruleCtrl.rule.active href> <span class="fa fa-remove"></span> </a> <div ng-switch=::ruleCtrl.rule.type> <div ng-switch-when=date|datetime ng-switch-when-separator=|> <div ng-switch=ruleCtrl.rule.operator> <div ng-switch-when=..> <span translate>From </span> <span>{{ ruleCtrl.timeToDate(ruleCtrl.rule.lowerBoundary) }}</span> <span translate> to </span> <span>{{ ruleCtrl.timeToDate(ruleCtrl.rule.upperBoundary) }}</span> </div> <div ng-switch-default> <span>{{ ruleCtrl.rule.operator }}</span> <span>{{ ruleCtrl.timeToDate(ruleCtrl.rule.getExpression()) }}</span> </div> </div> </div> <div ng-switch-when=geometry> <span>{{ ruleCtrl.operators[ruleCtrl.rule.operator] }}</span> <span ng-switch=ruleCtrl.getRuleGeometryType()> <span class="gmf-icon gmf-icon-point" ng-switch-when=Point> </span> <span class="gmf-icon gmf-icon-line" ng-switch-when=LineString> </span> <span class="gmf-icon gmf-icon-polygon" ng-switch-when=Polygon> </span> <span class="gmf-icon gmf-icon-circle" ng-switch-when=Circle> </span> <span class="gmf-icon gmf-icon-rectangle" ng-switch-when=Rectangle> </span> </span> </div> <div ng-switch-when=select> <span ng-repeat="choice in ruleCtrl.rule.getExpression().split(\',\')"> {{ choice | translate }}{{ $last ? \'\' : \', \' }} </span> </div> <div ng-switch-default> <div ng-switch=ruleCtrl.rule.operator> <div ng-switch-when=..> <span translate>Between </span> <span>{{ ruleCtrl.rule.lowerBoundary }}</span> <span translate> and </span> <span>{{ ruleCtrl.rule.upperBoundary }}</span> </div> <div ng-switch-default> <span>{{ ruleCtrl.rule.operator }}</span> <span>{{ ruleCtrl.rule.getExpression() }}</span> </div> </div> </div> </div> </div> ');
a.put("ngeomodule/import/partials/wmts-get-cap-item.html",'<div class=ngeo-header-group ng-class="{\'ngeo-odd\': $odd, \'ngeo-invalid\': layer.isInvalid, \'ngeo-selected\': (options.layerSelected === layer)}" ng-mouseenter="addPreviewLayer($event, layer)" ng-mouseleave=removePreviewLayer($event) ng-click="toggleLayerSelected($event, layer)"> <button class="fa fa-zoom-in ngeo-btn" ng-disabled=!(layer.extent)></button> {{layer.Title}} </div> ');a.put("ngeo/googlestreetview.html",'<div class=ngeo-googlestreetview-instructions ng-if="gsvCtrl.location === null" translate> Click on a road on the map to start StreetView. </div> <div class=ngeo-googlestreetview-nodata ng-if=gsvCtrl.noDataAtLocation translate> Street View data not found for this location. </div> ');
a.put("ngeomodule/import/partials/wms-get-cap-item.html",'<div class=ngeo-header-group ng-class="{\'ngeo-odd\': $odd, \'ngeo-invalid\': layer.isInvalid, \'ngeo-selected\': (options.layerSelected === layer)}" ng-mouseenter="addPreviewLayer($event, layer)" ng-mouseleave=removePreviewLayer($event) ng-click="toggleLayerSelected($event, layer)"> <button class="fa fa-zoom-in ngeo-btn" ng-disabled=!(layer.extent)></button> <button class="fa fa-plus" ng-hide=!(layer.Layer)></button> {{layer.Title}} </div> <ul class=ngeo-child-group ng-if=!!(layer.Layer)> <li ng-repeat="layer in layer.Layer | orderBy:\'Title\'"> <div ngeo-wms-get-cap-item></div> </li> </ul> ');
a.put("ngeo/scaleselector.html",'<div class="btn-group btn-block" ng-class="::{\'dropup\': scaleselectorCtrl.options.dropup}"> <button type=button class="btn btn-default dropdown-toggle" data-toggle=dropdown aria-expanded=false> <span ng-bind-html="scaleselectorCtrl.currentScale | ngeoScalify | ngeoTrustHtml"></span>&nbsp;<i class=caret></i> </button> <ul class="dropdown-menu btn-block" role=menu> <li ng-repeat="zoomLevel in ::scaleselectorCtrl.zoomLevels"> <a href ng-click=scaleselectorCtrl.changeZoom(zoomLevel) ng-bind-html="scaleselectorCtrl.getScale(zoomLevel) | ngeoScalify | ngeoTrustHtml"> </a> </li> </ul> </div> ');
a.put("ngeomodule/import/partials/import-local.html",'<div class="input-group input-group-sm"> <input type=file name=file> <input class=form-control type=text readonly value="{{(file.name) ? file.name + \', \' + file.size/1000 + \' ko\' : \'\'}}" placeholder="{{\'No file\' | translate}}"> <span class=input-group-btn> <button type=button class="btn btn-default ngeo-import-browse" translate>Browse</button> </span> </div> <div ng-hide=isValid(file) class=ngeo-error translate>File too large</div> <div class=tabbable-footer> <button type=button class="btn btn-default btn-sm ngeo-load" ng-class="{\'btn-danger\': loading}" ng-disabled="!isValid(file) || (loading && !fileReader)" ng-click="loading ? cancel() : handleFile()"> <span>{{userMessage | translate}}</span> </button> </div> ')}
a.$inject=["$templateCache"];zk.run(a)})();function Ak(){this.a={};this.b=[];this.g=new yi({Md:!1});this.c=new Jf({source:this.g,style:this.f.bind(this),Tc:!0,Uc:!0})}Ak.prototype.ua=function(a,c){var d=B(a).toString();this.a[d]=c;this.b[c].features[d]=a;this.g.ua(a)};Ak.prototype.Oa=function(a,c){var d=B(a).toString();delete this.a[d];delete this.b[c].features[d];this.g.Oa(a)};Ak.prototype.clear=function(a){var c=this.b[a],d;for(d in c.features)this.Oa(c.features[d],a)};Ak.prototype.xa=function(){return this.c};Ak.prototype.getLayer=Ak.prototype.xa;
Ak.prototype.pd=function(){var a=this.b.length;this.b.push({Id:xc,features:{}});return new Bk(this,a)};Ak.prototype.getFeatureOverlay=Ak.prototype.pd;Ak.prototype.wd=function(a){this.c.setMap(a)};Ak.prototype.init=Ak.prototype.wd;Ak.prototype.setStyle=function(a,c){this.b[c].Id=null===a?xc:vc(a)};Ak.prototype.f=function(a,c){var d=B(a).toString();return this.b[this.a[d]].Id(a,c)};function Bk(a,c){this.g=a;this.b=null;this.a=c}Bk.prototype.ua=function(a){this.g.ua(a,this.a)};
Bk.prototype.addFeature=Bk.prototype.ua;Bk.prototype.Oa=function(a){this.g.Oa(a,this.a)};Bk.prototype.removeFeature=Bk.prototype.Oa;Bk.prototype.clear=function(){this.g.clear(this.a)};Bk.prototype.clear=Bk.prototype.clear;Bk.prototype.Gf=function(a){null!==this.b&&(this.b.clear(),Aa(this.b,"add",this.c,this),Aa(this.b,"remove",this.f,this));null!==a&&(a.forEach(function(a){this.ua(a)},this),I(a,"add",this.c,this),I(a,"remove",this.f,this));this.b=a};Bk.prototype.setFeatures=Bk.prototype.Gf;
Bk.prototype.setStyle=function(a){this.g.setStyle(a,this.a)};Bk.prototype.setStyle=Bk.prototype.setStyle;Bk.prototype.c=function(a){this.ua(a.element)};Bk.prototype.f=function(a){this.Oa(a.element)};zk.service("ngeoFeatureOverlayMgr",Ak);zk.value("ngeoDataSources",new Kf);function Ck(a){this.g=a;this.b=null;this.a=[];I(this.g,"add",this.c,this)}Ck.prototype.f=function(a){a=a.target.P();Dk(this,a)};function Dk(a,c){a.g.forEach(function(a){Ek(a,c)})}function Ek(a,c){if(a.supportsDynamicInRange){var d=a.maxResolution,e=a.minResolution;a.inRange=(null===e||void 0===e||c>=e)&&(null===d||void 0===d||c<=d)}}Ck.prototype.c=function(a){a=a.element;if(this.b){var c=Q(this.b).P();Ek(a,c)}};
aa.Object.defineProperties(Ck.prototype,{map:{configurable:!0,enumerable:!0,set:function(a){if(this.b){var c=this.a;if(Array.isArray(c))for(var d=0,e=c.length;d<e;++d)F(c[d]);else F(c);this.a=[]}if(this.b=a)a=Q(a),this.a.push(I(a,La("resolution"),this.f,this)),a=a.P(),Dk(this,a)}}});Ck.$inject=["ngeoDataSources"];zk.service("ngeoSyncDataSourcesMap",Ck);function Fk(a,c){return{restrict:"A",link:function(d,e,f){var g=d.$eval(f.ngeoMap);g.set("target",e[0]);c.map=g;if(d.$eval(f.ngeoMapManageResize)){var h=d.$eval(f.ngeoMapResizeTransition);I(a,"resize",function(){if(h){var c=Date.now(),d=!0,e=function(){g.mc();g.Qa&&cancelAnimationFrame(g.Qa);g.gd();d&&a.requestAnimationFrame(e);Date.now()-c>h&&(d=!1)};e()}else g.mc()})}}}}Fk.$inject=["$window","ngeoSyncDataSourcesMap"];zk.directive("ngeoMap",Fk);function Gk(a){Object.defineProperty(a,"tracking",{get:function(){return a.get("tracking")},set:function(c){Hk(a,c)}})}Gk.$inject=["geolocation"];zk.value("ngeoDecorateGeolocation",Gk);na("ngeo.MessageType",{ERROR:"error",INFORMATION:"information",SUCCESS:"success",WARNING:"warning"});function Ik(){}Ik.prototype.show=function(a){Jk(this,a).forEach(this.c,this)};Ik.prototype.show=Ik.prototype.show;Ik.prototype.error=function(a){this.show(Jk(this,a,"error"))};Ik.prototype.error=Ik.prototype.error;Ik.prototype.info=function(a){this.show(Jk(this,a,"information"))};Ik.prototype.info=Ik.prototype.info;Ik.prototype.success=function(a){this.show(Jk(this,a,"success"))};
Ik.prototype.success=Ik.prototype.success;Ik.prototype.warn=function(a){this.show(Jk(this,a,"warning"))};Ik.prototype.warn=Ik.prototype.warn;function Jk(a,c,d){var e=[],f=null;"string"===typeof c?e.push({msg:c,type:void 0!==d?d:"information"}):Array.isArray(c)?c.forEach(function(a){"string"===typeof c?f={msg:a,type:void 0!==d?d:"information"}:(f=a,void 0!==d&&(f.type=d));e.push(f)},a):(f=c,void 0!==d&&(f.type=d),void 0===f.type&&(f.type="information"),e.push(f));return e};function Kk(a){this.a=a;a=angular.element('<div class="ngeo-notification"></div>');angular.element(document.body).append(a);this.g=a;this.b={}}u(Kk,Ik);Kk.$inject=["$timeout"];Kk.prototype.notify=function(a){this.show(a)};Kk.prototype.notify=Kk.prototype.notify;Kk.prototype.clear=function(){for(var a in this.b){var c=this.b[parseInt(a,10)],d=c.ie;c=c.promise;var e=B(d);d.alert("close");this.a.cancel(c);delete this.b[e]}};Kk.prototype.clear=Kk.prototype.clear;
Kk.prototype.c=function(a){var c=this,d=["alert","fade"];switch(a.type){case "error":d.push("alert-danger");break;case "information":d.push("alert-info");break;case "success":d.push("alert-success");break;case "warning":d.push("alert-warning")}var e=angular.element('<div class="'+d.join(" ")+'"></div>'),f;a.target?f=angular.element(a.target):f=this.g;f.append(e);e.html(a.msg).addClass("in");a=void 0!==a.delay?a.delay:7E3;d={ie:e};var g=B(e);d.promise=this.a(function(){e.alert("close");delete c.b[g]},
a);this.b[g]=d};zk.service("ngeoNotification",Kk);function Lk(a){M.call(this);a=a||{};this.a=null;this.f=Sb;this.i=new lb(6378137);this.c=void 0;I(this,La("projection"),this.De,this);I(this,La("tracking"),this.Je,this);void 0!==a.projection&&this.set("projection",N(a.projection));void 0!==a.Kd&&this.set("trackingOptions",a.Kd);Hk(this,void 0!==a.Sf?a.Sf:!1)}u(Lk,M);p=Lk.prototype;p.W=function(){Hk(this,!1);M.prototype.W.call(this)};p.De=function(){var a=this.getProjection();a&&(this.f=Kb(N("EPSG:4326"),a),this.a&&this.set("position",this.f(this.a)))};
p.Je=function(){if(gc){var a=this.get("tracking");a&&void 0===this.c?this.c=navigator.geolocation.watchPosition(this.yf.bind(this),this.zf.bind(this),this.get("trackingOptions")):a||void 0===this.c||(navigator.geolocation.clearWatch(this.c),this.c=void 0)}};
p.yf=function(a){var c=a.coords;this.set("accuracy",c.accuracy);this.set("altitude",null===c.altitude?void 0:c.altitude);this.set("altitudeAccuracy",null===c.altitudeAccuracy?void 0:c.altitudeAccuracy);this.set("heading",null===c.heading?void 0:c.heading*Math.PI/180);this.a?(this.a[0]=c.longitude,this.a[1]=c.latitude):this.a=[c.longitude,c.latitude];a=this.f(this.a);this.set("position",a);this.set("speed",null===c.speed?void 0:c.speed);a=this.i;var d=this.a,e=c.accuracy;c=[];var f;for(f=0;32>f;++f)Ec(c,
a.offset(d,e,2*Math.PI*f/32));c.push(c[0],c[1]);a=new Kg(null);Lg(a,"XY",c,[c.length]);a.ac(this.f);this.set("accuracyGeometry",a);this.b()};p.zf=function(a){a.type="error";Hk(this,!1);K(this,a)};p.getProjection=function(){return this.get("projection")};function Hk(a,c){a.set("tracking",c)};na("ngeo.MobileGeolocationEventType",{ERROR:"mobile-geolocation-error"});zk.directive("ngeoMobileGeolocation",function(){return{restrict:"A",scope:{getMobileMapFn:"&ngeoMobileGeolocationMap",getMobileGeolocationOptionsFn:"&ngeoMobileGeolocationOptions"},controller:"NgeoMobileGeolocationController as ctrl"}});
function Mk(a,c,d,e,f,g){c.on("click",this.Jd.bind(this));c=a.getMobileMapFn();this.C=a;this.b=c;var h=a.getMobileGeolocationOptionsFn()||{};this.zd=g;this.g=f.pd();this.wa=new Lk({projection:Q(c).getProjection(),Kd:{enableHighAccuracy:!0}});h.autorotate&&Nk(this);this.wa.on("error",function(c){Ok(this);switch(c.code){case 1:var e=d.getString("User denied the request for Geolocation.");break;case 2:e=d.getString("Location information is unavailable.");break;case 3:e=d.getString("The request to get user location timed out.");
break;default:e=d.getString("Geolocation: An unknown error occurred.")}this.zd.error(e);a.$emit("mobile-geolocation-error",c)},this);this.c=new yc;h.positionFeatureStyle&&this.c.setStyle(h.positionFeatureStyle);this.Zb=new yc;h.accuracyFeatureStyle&&this.Zb.setStyle(h.accuracyFeatureStyle);this.w=h.zoom;this.f=this.a=!1;I(this.wa,La("accuracyGeometry"),function(){this.Zb.setGeometry(this.wa.get("accuracyGeometry")||null);Pk(this)},this);I(this.wa,La("position"),function(){Pk(this)},this);f=Q(c);I(f,
La("center"),this.i,this);I(f,La("resolution"),this.i,this);e(this.wa)}Mk.$inject="$scope $element gettextCatalog ngeoDecorateGeolocation ngeoFeatureOverlayMgr ngeoNotification".split(" ");Mk.prototype.Jd=function(){if(this.wa.get("tracking")){var a=this.wa.get("position");if(void 0===a)Ok(this),this.C.$emit("mobile-geolocation-error",null);else{var c=Q(this.b).getCenter();2>Math.abs(a[0]-c[0])+Math.abs(a[1]-c[1])?Ok(this):(Ok(this),Qk(this))}}else Qk(this)};Mk.prototype.toggleTracking=Mk.prototype.Jd;
function Qk(a){a.g.ua(a.c);a.g.ua(a.Zb);a.a=!0;Hk(a.wa,!0)}function Ok(a){a.g.clear();a.a=!1;Hk(a.wa,!1);a.zd.clear()}function Pk(a){var c=a.wa.get("position"),d=new Ig(c);a.c.setGeometry(d);d=a.Zb.getGeometry();a.a&&(a.f=!0,void 0!==a.w?(Q(a.b).setCenter(c),c=Q(a.b),Wg(c,c.V(c.f,a.w-c.j,0))):d&&(c=a.b.ya(),Vg(Q(a.b),d,c)),a.f=!1)}Mk.prototype.i=function(){this.a&&!this.f&&(this.a=!1)};
function Nk(a){if(window.DeviceOrientationEvent){var c=0;window.addEventListener("deviceorientation",function(d){d=d.alpha;void 0!==d&&null!==d&&.2<Math.abs(d-c)&&(c=d,d=c*Math.PI/180,Q(a.b).animate({rotation:d,duration:350,ca:Hg}))},!0)}else window.b?window.addEventListener("MozOrientation",function(a){console.log(50*a.x)},!0):console.error("Orientation is not supported on this device")}zk.controller("NgeoMobileGeolocationController",Mk);function Rk(a){a=a||{};var c=void 0!==a.projection?a.projection:"EPSG:3857";if(void 0!==a.ba)var d=a.ba;else{d={extent:Se(c),maxZoom:a.maxZoom,minZoom:a.minZoom,tileSize:a.tileSize};var e={};ra(e,void 0!==d?d:{});void 0===e.extent&&(e.extent=N("EPSG:3857").A());e.Xa=Te(e.extent,e.maxZoom,e.tileSize);delete e.maxZoom;d=new He(e)}wf.call(this,{aa:a.aa,La:a.La,crossOrigin:a.crossOrigin,ja:a.ja,za:a.za,projection:c,hc:a.hc,ba:d,Ja:a.Ja,ab:a.ab,Pa:a.Pa,url:a.url,urls:a.urls,wrapX:void 0!==a.wrapX?a.wrapX:
!0})}u(Rk,wf);function Sk(a){a=a||{};var c;void 0!==a.aa?c=a.aa:c=[Tk];Rk.call(this,{aa:c,La:a.La,crossOrigin:void 0!==a.crossOrigin?a.crossOrigin:"anonymous",za:void 0!==a.za?a.za:!0,maxZoom:void 0!==a.maxZoom?a.maxZoom:19,hc:a.hc,Ja:a.Ja,url:void 0!==a.url?a.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",wrapX:a.wrapX})}u(Sk,Rk);var Tk=new Ue({html:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.'});var Uk=angular.module("app",["ngeo"]);
function Vk(a,c){a=new tc({image:new qc({radius:6,fill:new rc({color:"rgba(230, 100, 100, 1)"}),stroke:new sc({color:"rgba(230, 40, 40, 1)",width:2})})});var d=new tc({fill:new rc({color:"rgba(100, 100, 230, 0.3)"}),stroke:new sc({color:"rgba(40, 40, 230, 1)",width:2})});this.mobileGeolocationOptions={positionFeatureStyle:a,accuracyFeatureStyle:d,zoom:17,autorotate:!0};this.map=new li({layers:[new af({source:new Sk})],view:new Ng({center:[0,0],zoom:4})});c.wd(this.map)}Vk.$inject=["$scope","ngeoFeatureOverlayMgr"];
Uk.controller("MainController",Vk);}).call(window);
//# sourceMappingURL=mobilegeolocation.js.map
